(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ll(e,t){const n=new Set(e.split(","));return t?r=>n.has(r.toLowerCase()):r=>n.has(r)}const mt={},Zn=[],ue=()=>{},Qm=()=>!1,zi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),cl=e=>e.startsWith("onUpdate:"),Ft=Object.assign,ul=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Ym=Object.prototype.hasOwnProperty,nt=(e,t)=>Ym.call(e,t),H=Array.isArray,tr=e=>Vs(e)==="[object Map]",Gi=e=>Vs(e)==="[object Set]",Bc=e=>Vs(e)==="[object Date]",X=e=>typeof e=="function",St=e=>typeof e=="string",ln=e=>typeof e=="symbol",dt=e=>e!==null&&typeof e=="object",Qh=e=>(dt(e)||X(e))&&X(e.then)&&X(e.catch),Yh=Object.prototype.toString,Vs=e=>Yh.call(e),Xm=e=>Vs(e).slice(8,-1),Xh=e=>Vs(e)==="[object Object]",hl=e=>St(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Wr=ll(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Wi=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Jm=/-(\w)/g,Oe=Wi(e=>e.replace(Jm,(t,n)=>n?n.toUpperCase():"")),Zm=/\B([A-Z])/g,Rr=Wi(e=>e.replace(Zm,"-$1").toLowerCase()),Qi=Wi(e=>e.charAt(0).toUpperCase()+e.slice(1)),Lo=Wi(e=>e?`on${Qi(e)}`:""),cn=(e,t)=>!Object.is(e,t),hi=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},wi=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ha=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let jc;const Jh=()=>jc||(jc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function fl(e){if(H(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=St(r)?rg(r):fl(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(St(e)||dt(e))return e}const tg=/;(?![^(]*\))/g,eg=/:([^]+)/,ng=/\/\*[^]*?\*\//g;function rg(e){const t={};return e.replace(ng,"").split(tg).forEach(n=>{if(n){const r=n.split(eg);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function xs(e){let t="";if(St(e))t=e;else if(H(e))for(let n=0;n<e.length;n++){const r=xs(e[n]);r&&(t+=r+" ")}else if(dt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const sg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ig=ll(sg);function Zh(e){return!!e||e===""}function og(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Yi(e[r],t[r]);return n}function Yi(e,t){if(e===t)return!0;let n=Bc(e),r=Bc(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=ln(e),r=ln(t),n||r)return e===t;if(n=H(e),r=H(t),n||r)return n&&r?og(e,t):!1;if(n=dt(e),r=dt(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Yi(e[o],t[o]))return!1}}return String(e)===String(t)}function tf(e,t){return e.findIndex(n=>Yi(n,t))}const Fo=e=>St(e)?e:e==null?"":H(e)||dt(e)&&(e.toString===Yh||!X(e.toString))?JSON.stringify(e,ef,2):String(e),ef=(e,t)=>t&&t.__v_isRef?ef(e,t.value):tr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],i)=>(n[Uo(r,i)+" =>"]=s,n),{})}:Gi(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Uo(n))}:ln(t)?Uo(t):dt(t)&&!H(t)&&!Xh(t)?String(t):t,Uo=(e,t="")=>{var n;return ln(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let de;class nf{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=de,!t&&de&&(this.index=(de.scopes||(de.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=de;try{return de=this,t()}finally{de=n}}}on(){de=this}off(){de=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function ag(e){return new nf(e)}function lg(e,t=de){t&&t.active&&t.effects.push(e)}function cg(){return de}let Sn;class dl{constructor(t,n,r,s){this.fn=t,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,lg(this,s)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Nn();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(ug(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Mn()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=nn,n=Sn;try{return nn=!0,Sn=this,this._runnings++,$c(this),this.fn()}finally{qc(this),this._runnings--,Sn=n,nn=t}}stop(){var t;this.active&&($c(this),qc(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function ug(e){return e.value}function $c(e){e._trackId++,e._depsLength=0}function qc(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)rf(e.deps[t],e);e.deps.length=e._depsLength}}function rf(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let nn=!0,fa=0;const sf=[];function Nn(){sf.push(nn),nn=!1}function Mn(){const e=sf.pop();nn=e===void 0?!0:e}function pl(){fa++}function ml(){for(fa--;!fa&&da.length;)da.shift()()}function of(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const r=e.deps[e._depsLength];r!==t?(r&&rf(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}const da=[];function af(e,t,n){pl();for(const r of e.keys()){let s;r._dirtyLevel<t&&(s??(s=e.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=t),r._shouldSchedule&&(s??(s=e.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&da.push(r.scheduler)))}ml()}const lf=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},pa=new WeakMap,Pn=Symbol(""),ma=Symbol("");function te(e,t,n){if(nn&&Sn){let r=pa.get(e);r||pa.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=lf(()=>r.delete(n))),of(Sn,s)}}function Ue(e,t,n,r,s,i){const o=pa.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&H(e)){const l=Number(r);o.forEach((c,u)=>{(u==="length"||!ln(u)&&u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":H(e)?hl(n)&&a.push(o.get("length")):(a.push(o.get(Pn)),tr(e)&&a.push(o.get(ma)));break;case"delete":H(e)||(a.push(o.get(Pn)),tr(e)&&a.push(o.get(ma)));break;case"set":tr(e)&&a.push(o.get(Pn));break}pl();for(const l of a)l&&af(l,4);ml()}const hg=ll("__proto__,__v_isRef,__isVue"),cf=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ln)),Hc=fg();function fg(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=it(this);for(let i=0,o=this.length;i<o;i++)te(r,"get",i+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(it)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Nn(),pl();const r=it(this)[t].apply(this,n);return ml(),Mn(),r}}),e}function dg(e){const t=it(this);return te(t,"has",e),t.hasOwnProperty(e)}class uf{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,r){const s=this._isReadonly,i=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?bg:pf:i?df:ff).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=H(t);if(!s){if(o&&nt(Hc,n))return Reflect.get(Hc,n,r);if(n==="hasOwnProperty")return dg}const a=Reflect.get(t,n,r);return(ln(n)?cf.has(n):hg(n))||(s||te(t,"get",n),i)?a:ee(a)?o&&hl(n)?a:a.value:dt(a)?s?gf(a):Ds(a):a}}class hf extends uf{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];if(!this._shallow){const l=fr(i);if(!Ti(r)&&!fr(r)&&(i=it(i),r=it(r)),!H(t)&&ee(i)&&!ee(r))return l?!1:(i.value=r,!0)}const o=H(t)&&hl(n)?Number(n)<t.length:nt(t,n),a=Reflect.set(t,n,r,s);return t===it(s)&&(o?cn(r,i)&&Ue(t,"set",n,r):Ue(t,"add",n,r)),a}deleteProperty(t,n){const r=nt(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&Ue(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!ln(n)||!cf.has(n))&&te(t,"has",n),r}ownKeys(t){return te(t,"iterate",H(t)?"length":Pn),Reflect.ownKeys(t)}}class pg extends uf{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const mg=new hf,gg=new pg,_g=new hf(!0),gl=e=>e,Xi=e=>Reflect.getPrototypeOf(e);function Qs(e,t,n=!1,r=!1){e=e.__v_raw;const s=it(e),i=it(t);n||(cn(t,i)&&te(s,"get",t),te(s,"get",i));const{has:o}=Xi(s),a=r?gl:n?vl:os;if(o.call(s,t))return a(e.get(t));if(o.call(s,i))return a(e.get(i));e!==s&&e.get(t)}function Ys(e,t=!1){const n=this.__v_raw,r=it(n),s=it(e);return t||(cn(e,s)&&te(r,"has",e),te(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function Xs(e,t=!1){return e=e.__v_raw,!t&&te(it(e),"iterate",Pn),Reflect.get(e,"size",e)}function Kc(e){e=it(e);const t=it(this);return Xi(t).has.call(t,e)||(t.add(e),Ue(t,"add",e,e)),this}function zc(e,t){t=it(t);const n=it(this),{has:r,get:s}=Xi(n);let i=r.call(n,e);i||(e=it(e),i=r.call(n,e));const o=s.call(n,e);return n.set(e,t),i?cn(t,o)&&Ue(n,"set",e,t):Ue(n,"add",e,t),this}function Gc(e){const t=it(this),{has:n,get:r}=Xi(t);let s=n.call(t,e);s||(e=it(e),s=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return s&&Ue(t,"delete",e,void 0),i}function Wc(){const e=it(this),t=e.size!==0,n=e.clear();return t&&Ue(e,"clear",void 0,void 0),n}function Js(e,t){return function(r,s){const i=this,o=i.__v_raw,a=it(o),l=t?gl:e?vl:os;return!e&&te(a,"iterate",Pn),o.forEach((c,u)=>r.call(s,l(c),l(u),i))}}function Zs(e,t,n){return function(...r){const s=this.__v_raw,i=it(s),o=tr(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=s[e](...r),u=n?gl:t?vl:os;return!t&&te(i,"iterate",l?ma:Pn),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function Qe(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function yg(){const e={get(i){return Qs(this,i)},get size(){return Xs(this)},has:Ys,add:Kc,set:zc,delete:Gc,clear:Wc,forEach:Js(!1,!1)},t={get(i){return Qs(this,i,!1,!0)},get size(){return Xs(this)},has:Ys,add:Kc,set:zc,delete:Gc,clear:Wc,forEach:Js(!1,!0)},n={get(i){return Qs(this,i,!0)},get size(){return Xs(this,!0)},has(i){return Ys.call(this,i,!0)},add:Qe("add"),set:Qe("set"),delete:Qe("delete"),clear:Qe("clear"),forEach:Js(!0,!1)},r={get(i){return Qs(this,i,!0,!0)},get size(){return Xs(this,!0)},has(i){return Ys.call(this,i,!0)},add:Qe("add"),set:Qe("set"),delete:Qe("delete"),clear:Qe("clear"),forEach:Js(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Zs(i,!1,!1),n[i]=Zs(i,!0,!1),t[i]=Zs(i,!1,!0),r[i]=Zs(i,!0,!0)}),[e,n,t,r]}const[vg,Eg,wg,Tg]=yg();function _l(e,t){const n=t?e?Tg:wg:e?Eg:vg;return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(nt(n,s)&&s in r?n:r,s,i)}const Ig={get:_l(!1,!1)},Ag={get:_l(!1,!0)},Rg={get:_l(!0,!1)},ff=new WeakMap,df=new WeakMap,pf=new WeakMap,bg=new WeakMap;function Sg(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Pg(e){return e.__v_skip||!Object.isExtensible(e)?0:Sg(Xm(e))}function Ds(e){return fr(e)?e:yl(e,!1,mg,Ig,ff)}function mf(e){return yl(e,!1,_g,Ag,df)}function gf(e){return yl(e,!0,gg,Rg,pf)}function yl(e,t,n,r,s){if(!dt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=Pg(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return s.set(e,a),a}function er(e){return fr(e)?er(e.__v_raw):!!(e&&e.__v_isReactive)}function fr(e){return!!(e&&e.__v_isReadonly)}function Ti(e){return!!(e&&e.__v_isShallow)}function _f(e){return er(e)||fr(e)}function it(e){const t=e&&e.__v_raw;return t?it(t):e}function yf(e){return Object.isExtensible(e)&&wi(e,"__v_skip",!0),e}const os=e=>dt(e)?Ds(e):e,vl=e=>dt(e)?gf(e):e;class vf{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new dl(()=>t(this._value),()=>fi(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=it(this);return(!t._cacheable||t.effect.dirty)&&cn(t._value,t._value=t.effect.run())&&fi(t,4),Ef(t),t.effect._dirtyLevel>=2&&fi(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function Cg(e,t,n=!1){let r,s;const i=X(e);return i?(r=e,s=ue):(r=e.get,s=e.set),new vf(r,s,i||!s,n)}function Ef(e){var t;nn&&Sn&&(e=it(e),of(Sn,(t=e.dep)!=null?t:e.dep=lf(()=>e.dep=void 0,e instanceof vf?e:void 0)))}function fi(e,t=4,n){e=it(e);const r=e.dep;r&&af(r,t)}function ee(e){return!!(e&&e.__v_isRef===!0)}function Vg(e){return wf(e,!1)}function xg(e){return wf(e,!0)}function wf(e,t){return ee(e)?e:new Dg(e,t)}class Dg{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:it(t),this._value=n?t:os(t)}get value(){return Ef(this),this._value}set value(t){const n=this.__v_isShallow||Ti(t)||fr(t);t=n?t:it(t),cn(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:os(t),fi(this,4))}}function nr(e){return ee(e)?e.value:e}const Og={get:(e,t,n)=>nr(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return ee(s)&&!ee(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function Tf(e){return er(e)?e:new Proxy(e,Og)}/**
* @vue/runtime-core v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function rn(e,t,n,r){try{return r?e(...r):e()}catch(s){Ji(s,t,n)}}function _e(e,t,n,r){if(X(e)){const i=rn(e,t,n,r);return i&&Qh(i)&&i.catch(o=>{Ji(o,t,n)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(_e(e[i],t,n,r));return s}function Ji(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const c=i.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,o,a)===!1)return}i=i.parent}const l=t.appContext.config.errorHandler;if(l){rn(l,null,10,[e,o,a]);return}}Ng(e,n,s,r)}function Ng(e,t,n,r=!0){console.error(e)}let as=!1,ga=!1;const qt=[];let Se=0;const rr=[];let Xe=null,vn=0;const If=Promise.resolve();let El=null;function Af(e){const t=El||If;return e?t.then(this?e.bind(this):e):t}function Mg(e){let t=Se+1,n=qt.length;for(;t<n;){const r=t+n>>>1,s=qt[r],i=ls(s);i<e||i===e&&s.pre?t=r+1:n=r}return t}function wl(e){(!qt.length||!qt.includes(e,as&&e.allowRecurse?Se+1:Se))&&(e.id==null?qt.push(e):qt.splice(Mg(e.id),0,e),Rf())}function Rf(){!as&&!ga&&(ga=!0,El=If.then(Sf))}function kg(e){const t=qt.indexOf(e);t>Se&&qt.splice(t,1)}function Lg(e){H(e)?rr.push(...e):(!Xe||!Xe.includes(e,e.allowRecurse?vn+1:vn))&&rr.push(e),Rf()}function Qc(e,t,n=as?Se+1:0){for(;n<qt.length;n++){const r=qt[n];if(r&&r.pre){if(e&&r.id!==e.uid)continue;qt.splice(n,1),n--,r()}}}function bf(e){if(rr.length){const t=[...new Set(rr)].sort((n,r)=>ls(n)-ls(r));if(rr.length=0,Xe){Xe.push(...t);return}for(Xe=t,vn=0;vn<Xe.length;vn++)Xe[vn]();Xe=null,vn=0}}const ls=e=>e.id==null?1/0:e.id,Fg=(e,t)=>{const n=ls(e)-ls(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Sf(e){ga=!1,as=!0,qt.sort(Fg);try{for(Se=0;Se<qt.length;Se++){const t=qt[Se];t&&t.active!==!1&&rn(t,null,14)}}finally{Se=0,qt.length=0,bf(),as=!1,El=null,(qt.length||rr.length)&&Sf()}}function Ug(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||mt;let s=n;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in r){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=r[u]||mt;f&&(s=n.map(m=>St(m)?m.trim():m)),h&&(s=n.map(ha))}let a,l=r[a=Lo(t)]||r[a=Lo(Oe(t))];!l&&i&&(l=r[a=Lo(Rr(t))]),l&&_e(l,e,6,s);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,_e(c,e,6,s)}}function Pf(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!X(e)){const l=c=>{const u=Pf(c,t,!0);u&&(a=!0,Ft(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(dt(e)&&r.set(e,null),null):(H(i)?i.forEach(l=>o[l]=null):Ft(o,i),dt(e)&&r.set(e,o),o)}function Zi(e,t){return!e||!zi(t)?!1:(t=t.slice(2).replace(/Once$/,""),nt(e,t[0].toLowerCase()+t.slice(1))||nt(e,Rr(t))||nt(e,t))}let Jt=null,to=null;function Ii(e){const t=Jt;return Jt=e,to=e&&e.type.__scopeId||null,t}function Bg(e){to=e}function jg(){to=null}function $g(e,t=Jt,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&ou(-1);const i=Ii(t);let o;try{o=e(...s)}finally{Ii(i),r._d&&ou(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Bo(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:f,setupState:m,ctx:T,inheritAttrs:R}=e;let A,C;const L=Ii(e);try{if(n.shapeFlag&4){const J=s||r,pt=J;A=be(u.call(pt,J,h,i,m,f,T)),C=l}else{const J=t;A=be(J.length>1?J(i,{attrs:l,slots:a,emit:c}):J(i,null)),C=t.props?l:qg(l)}}catch(J){Xr.length=0,Ji(J,e,1),A=Zt(cs)}let U=A;if(C&&R!==!1){const J=Object.keys(C),{shapeFlag:pt}=U;J.length&&pt&7&&(o&&J.some(cl)&&(C=Hg(C,o)),U=dr(U,C))}return n.dirs&&(U=dr(U),U.dirs=U.dirs?U.dirs.concat(n.dirs):n.dirs),n.transition&&(U.transition=n.transition),A=U,Ii(L),A}const qg=e=>{let t;for(const n in e)(n==="class"||n==="style"||zi(n))&&((t||(t={}))[n]=e[n]);return t},Hg=(e,t)=>{const n={};for(const r in e)(!cl(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Kg(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?Yc(r,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==r[f]&&!Zi(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Yc(r,o,c):!0:!!o;return!1}function Yc(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!Zi(n,i))return!0}return!1}function zg({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const Cf="components";function Vf(e,t){return Wg(Cf,e,!0,t)||e}const Gg=Symbol.for("v-ndc");function Wg(e,t,n=!0,r=!1){const s=Jt||Ht;if(s){const i=s.type;if(e===Cf){const a=q_(i,!1);if(a&&(a===t||a===Oe(t)||a===Qi(Oe(t))))return i}const o=Xc(s[e]||i[e],t)||Xc(s.appContext[e],t);return!o&&r?i:o}}function Xc(e,t){return e&&(e[t]||e[Oe(t)]||e[Qi(Oe(t))])}const Qg=e=>e.__isSuspense;function Yg(e,t){t&&t.pendingBranch?H(e)?t.effects.push(...e):t.effects.push(e):Lg(e)}const Xg=Symbol.for("v-scx"),Jg=()=>Be(Xg),ti={};function sr(e,t,n){return xf(e,t,n)}function xf(e,t,{immediate:n,deep:r,flush:s,once:i,onTrack:o,onTrigger:a}=mt){if(t&&i){const K=t;t=(...Tt)=>{K(...Tt),pt()}}const l=Ht,c=K=>r===!0?K:Tn(K,r===!1?1:void 0);let u,h=!1,f=!1;if(ee(e)?(u=()=>e.value,h=Ti(e)):er(e)?(u=()=>c(e),h=!0):H(e)?(f=!0,h=e.some(K=>er(K)||Ti(K)),u=()=>e.map(K=>{if(ee(K))return K.value;if(er(K))return c(K);if(X(K))return rn(K,l,2)})):X(e)?t?u=()=>rn(e,l,2):u=()=>(m&&m(),_e(e,l,3,[T])):u=ue,t&&r){const K=u;u=()=>Tn(K())}let m,T=K=>{m=U.onStop=()=>{rn(K,l,4),m=U.onStop=void 0}},R;if(so)if(T=ue,t?n&&_e(t,l,3,[u(),f?[]:void 0,T]):u(),s==="sync"){const K=Jg();R=K.__watcherHandles||(K.__watcherHandles=[])}else return ue;let A=f?new Array(e.length).fill(ti):ti;const C=()=>{if(!(!U.active||!U.dirty))if(t){const K=U.run();(r||h||(f?K.some((Tt,re)=>cn(Tt,A[re])):cn(K,A)))&&(m&&m(),_e(t,l,3,[K,A===ti?void 0:f&&A[0]===ti?[]:A,T]),A=K)}else U.run()};C.allowRecurse=!!t;let L;s==="sync"?L=C:s==="post"?L=()=>Xt(C,l&&l.suspense):(C.pre=!0,l&&(C.id=l.uid),L=()=>wl(C));const U=new dl(u,ue,L),J=cg(),pt=()=>{U.stop(),J&&ul(J.effects,U)};return t?n?C():A=U.run():s==="post"?Xt(U.run.bind(U),l&&l.suspense):U.run(),R&&R.push(pt),pt}function Zg(e,t,n){const r=this.proxy,s=St(e)?e.includes(".")?Df(r,e):()=>r[e]:e.bind(r,r);let i;X(t)?i=t:(i=t.handler,n=t);const o=Os(this),a=xf(s,i.bind(r),n);return o(),a}function Df(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function Tn(e,t,n=0,r){if(!dt(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(r=r||new Set,r.has(e))return e;if(r.add(e),ee(e))Tn(e.value,t,n,r);else if(H(e))for(let s=0;s<e.length;s++)Tn(e[s],t,n,r);else if(Gi(e)||tr(e))e.forEach(s=>{Tn(s,t,n,r)});else if(Xh(e))for(const s in e)Tn(e[s],t,n,r);return e}function $r(e,t){if(Jt===null)return e;const n=io(Jt)||Jt.proxy,r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,o,a,l=mt]=t[s];i&&(X(i)&&(i={mounted:i,updated:i}),i.deep&&Tn(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function gn(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Nn(),_e(l,n,8,[e.el,a,e,t]),Mn())}}/*! #__NO_SIDE_EFFECTS__ */function Of(e,t){return X(e)?Ft({name:e.name},t,{setup:e}):e}const di=e=>!!e.type.__asyncLoader,Nf=e=>e.type.__isKeepAlive;function t_(e,t){Mf(e,"a",t)}function e_(e,t){Mf(e,"da",t)}function Mf(e,t,n=Ht){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(eo(t,r,n),n){let s=n.parent;for(;s&&s.parent;)Nf(s.parent.vnode)&&n_(r,t,n,s),s=s.parent}}function n_(e,t,n,r){const s=eo(t,e,r,!0);kf(()=>{ul(r[t],s)},n)}function eo(e,t,n=Ht,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;Nn();const a=Os(n),l=_e(t,n,e,o);return a(),Mn(),l});return r?s.unshift(i):s.push(i),i}}const Ke=e=>(t,n=Ht)=>(!so||e==="sp")&&eo(e,(...r)=>t(...r),n),r_=Ke("bm"),s_=Ke("m"),i_=Ke("bu"),o_=Ke("u"),a_=Ke("bum"),kf=Ke("um"),l_=Ke("sp"),c_=Ke("rtg"),u_=Ke("rtc");function h_(e,t=Ht){eo("ec",e,t)}function f_(e,t,n,r){let s;const i=n&&n[r];if(H(e)||St(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,i&&i[o])}else if(dt(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,i&&i[a]));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];s[a]=t(e[c],c,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}const _a=e=>e?Wf(e)?io(e)||e.proxy:_a(e.parent):null,Qr=Ft(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>_a(e.parent),$root:e=>_a(e.root),$emit:e=>e.emit,$options:e=>Tl(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,wl(e.update)}),$nextTick:e=>e.n||(e.n=Af.bind(e.proxy)),$watch:e=>Zg.bind(e)}),jo=(e,t)=>e!==mt&&!e.__isScriptSetup&&nt(e,t),d_={get({_:e},t){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const m=o[t];if(m!==void 0)switch(m){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(jo(r,t))return o[t]=1,r[t];if(s!==mt&&nt(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&nt(c,t))return o[t]=3,i[t];if(n!==mt&&nt(n,t))return o[t]=4,n[t];ya&&(o[t]=0)}}const u=Qr[t];let h,f;if(u)return t==="$attrs"&&te(e,"get",t),u(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==mt&&nt(n,t))return o[t]=4,n[t];if(f=l.config.globalProperties,nt(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return jo(s,t)?(s[t]=n,!0):r!==mt&&nt(r,t)?(r[t]=n,!0):nt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||e!==mt&&nt(e,o)||jo(t,o)||(a=i[0])&&nt(a,o)||nt(r,o)||nt(Qr,o)||nt(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:nt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Jc(e){return H(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let ya=!0;function p_(e){const t=Tl(e),n=e.proxy,r=e.ctx;ya=!1,t.beforeCreate&&Zc(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:m,updated:T,activated:R,deactivated:A,beforeDestroy:C,beforeUnmount:L,destroyed:U,unmounted:J,render:pt,renderTracked:K,renderTriggered:Tt,errorCaptured:re,serverPrefetch:ze,expose:se,inheritAttrs:Ge,components:mn,directives:Te,filters:Mr}=t;if(c&&m_(c,r,null),o)for(const ut in o){const ot=o[ut];X(ot)&&(r[ut]=ot.bind(n))}if(s){const ut=s.call(n,n);dt(ut)&&(e.data=Ds(ut))}if(ya=!0,i)for(const ut in i){const ot=i[ut],ke=X(ot)?ot.bind(n,n):X(ot.get)?ot.get.bind(n,n):ue,We=!X(ot)&&X(ot.set)?ot.set.bind(n):ue,Ie=ae({get:ke,set:We});Object.defineProperty(r,ut,{enumerable:!0,configurable:!0,get:()=>Ie.value,set:Yt=>Ie.value=Yt})}if(a)for(const ut in a)Lf(a[ut],r,n,ut);if(l){const ut=X(l)?l.call(n):l;Reflect.ownKeys(ut).forEach(ot=>{pi(ot,ut[ot])})}u&&Zc(u,e,"c");function Pt(ut,ot){H(ot)?ot.forEach(ke=>ut(ke.bind(n))):ot&&ut(ot.bind(n))}if(Pt(r_,h),Pt(s_,f),Pt(i_,m),Pt(o_,T),Pt(t_,R),Pt(e_,A),Pt(h_,re),Pt(u_,K),Pt(c_,Tt),Pt(a_,L),Pt(kf,J),Pt(l_,ze),H(se))if(se.length){const ut=e.exposed||(e.exposed={});se.forEach(ot=>{Object.defineProperty(ut,ot,{get:()=>n[ot],set:ke=>n[ot]=ke})})}else e.exposed||(e.exposed={});pt&&e.render===ue&&(e.render=pt),Ge!=null&&(e.inheritAttrs=Ge),mn&&(e.components=mn),Te&&(e.directives=Te)}function m_(e,t,n=ue){H(e)&&(e=va(e));for(const r in e){const s=e[r];let i;dt(s)?"default"in s?i=Be(s.from||r,s.default,!0):i=Be(s.from||r):i=Be(s),ee(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function Zc(e,t,n){_e(H(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Lf(e,t,n,r){const s=r.includes(".")?Df(n,r):()=>n[r];if(St(e)){const i=t[e];X(i)&&sr(s,i)}else if(X(e))sr(s,e.bind(n));else if(dt(e))if(H(e))e.forEach(i=>Lf(i,t,n,r));else{const i=X(e.handler)?e.handler.bind(n):t[e.handler];X(i)&&sr(s,i,e)}}function Tl(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!s.length&&!n&&!r?l=t:(l={},s.length&&s.forEach(c=>Ai(l,c,o,!0)),Ai(l,t,o)),dt(t)&&i.set(t,l),l}function Ai(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&Ai(e,i,n,!0),s&&s.forEach(o=>Ai(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=g_[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const g_={data:tu,props:eu,emits:eu,methods:qr,computed:qr,beforeCreate:Wt,created:Wt,beforeMount:Wt,mounted:Wt,beforeUpdate:Wt,updated:Wt,beforeDestroy:Wt,beforeUnmount:Wt,destroyed:Wt,unmounted:Wt,activated:Wt,deactivated:Wt,errorCaptured:Wt,serverPrefetch:Wt,components:qr,directives:qr,watch:y_,provide:tu,inject:__};function tu(e,t){return t?e?function(){return Ft(X(e)?e.call(this,this):e,X(t)?t.call(this,this):t)}:t:e}function __(e,t){return qr(va(e),va(t))}function va(e){if(H(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Wt(e,t){return e?[...new Set([].concat(e,t))]:t}function qr(e,t){return e?Ft(Object.create(null),e,t):t}function eu(e,t){return e?H(e)&&H(t)?[...new Set([...e,...t])]:Ft(Object.create(null),Jc(e),Jc(t??{})):t}function y_(e,t){if(!e)return t;if(!t)return e;const n=Ft(Object.create(null),e);for(const r in t)n[r]=Wt(e[r],t[r]);return n}function Ff(){return{app:null,config:{isNativeTag:Qm,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let v_=0;function E_(e,t){return function(r,s=null){X(r)||(r=Ft({},r)),s!=null&&!dt(s)&&(s=null);const i=Ff(),o=new WeakSet;let a=!1;const l=i.app={_uid:v_++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:K_,get config(){return i.config},set config(c){},use(c,...u){return o.has(c)||(c&&X(c.install)?(o.add(c),c.install(l,...u)):X(c)&&(o.add(c),c(l,...u))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,u){return u?(i.components[c]=u,l):i.components[c]},directive(c,u){return u?(i.directives[c]=u,l):i.directives[c]},mount(c,u,h){if(!a){const f=Zt(r,s);return f.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),u&&t?t(f,c):e(f,c,h),a=!0,l._container=c,c.__vue_app__=l,io(f.component)||f.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,u){return i.provides[c]=u,l},runWithContext(c){const u=Yr;Yr=l;try{return c()}finally{Yr=u}}};return l}}let Yr=null;function pi(e,t){if(Ht){let n=Ht.provides;const r=Ht.parent&&Ht.parent.provides;r===n&&(n=Ht.provides=Object.create(r)),n[e]=t}}function Be(e,t,n=!1){const r=Ht||Jt;if(r||Yr){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Yr._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&X(t)?t.call(r&&r.proxy):t}}function w_(e,t,n,r=!1){const s={},i={};wi(i,ro,1),e.propsDefaults=Object.create(null),Uf(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:mf(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function T_(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=it(s),[l]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(Zi(e.emitsOptions,f))continue;const m=t[f];if(l)if(nt(i,f))m!==i[f]&&(i[f]=m,c=!0);else{const T=Oe(f);s[T]=Ea(l,a,T,m,e,!1)}else m!==i[f]&&(i[f]=m,c=!0)}}}else{Uf(e,t,s,i)&&(c=!0);let u;for(const h in a)(!t||!nt(t,h)&&((u=Rr(h))===h||!nt(t,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=Ea(l,a,h,void 0,e,!0)):delete s[h]);if(i!==a)for(const h in i)(!t||!nt(t,h))&&(delete i[h],c=!0)}c&&Ue(e,"set","$attrs")}function Uf(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Wr(l))continue;const c=t[l];let u;s&&nt(s,u=Oe(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:Zi(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=it(n),c=a||mt;for(let u=0;u<i.length;u++){const h=i[u];n[h]=Ea(s,l,h,c[h],e,!nt(c,h))}}return o}function Ea(e,t,n,r,s,i){const o=e[n];if(o!=null){const a=nt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&X(l)){const{propsDefaults:c}=s;if(n in c)r=c[n];else{const u=Os(s);r=c[n]=l.call(null,t),u()}}else r=l}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Rr(n))&&(r=!0))}return r}function Bf(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},a=[];let l=!1;if(!X(e)){const u=h=>{l=!0;const[f,m]=Bf(h,t,!0);Ft(o,f),m&&a.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return dt(e)&&r.set(e,Zn),Zn;if(H(i))for(let u=0;u<i.length;u++){const h=Oe(i[u]);nu(h)&&(o[h]=mt)}else if(i)for(const u in i){const h=Oe(u);if(nu(h)){const f=i[u],m=o[h]=H(f)||X(f)?{type:f}:Ft({},f);if(m){const T=iu(Boolean,m.type),R=iu(String,m.type);m[0]=T>-1,m[1]=R<0||T<R,(T>-1||nt(m,"default"))&&a.push(h)}}}const c=[o,a];return dt(e)&&r.set(e,c),c}function nu(e){return e[0]!=="$"&&!Wr(e)}function ru(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function su(e,t){return ru(e)===ru(t)}function iu(e,t){return H(t)?t.findIndex(n=>su(n,e)):X(t)&&su(t,e)?0:-1}const jf=e=>e[0]==="_"||e==="$stable",Il=e=>H(e)?e.map(be):[be(e)],I_=(e,t,n)=>{if(t._n)return t;const r=$g((...s)=>Il(t(...s)),n);return r._c=!1,r},$f=(e,t,n)=>{const r=e._ctx;for(const s in e){if(jf(s))continue;const i=e[s];if(X(i))t[s]=I_(s,i,r);else if(i!=null){const o=Il(i);t[s]=()=>o}}},qf=(e,t)=>{const n=Il(t);e.slots.default=()=>n},A_=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=it(t),wi(t,"_",n)):$f(t,e.slots={})}else e.slots={},t&&qf(e,t);wi(e.slots,ro,1)},R_=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=mt;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:(Ft(s,t),!n&&a===1&&delete s._):(i=!t.$stable,$f(t,s)),o=t}else t&&(qf(e,t),o={default:1});if(i)for(const a in s)!jf(a)&&o[a]==null&&delete s[a]};function wa(e,t,n,r,s=!1){if(H(e)){e.forEach((f,m)=>wa(f,t&&(H(t)?t[m]:t),n,r,s));return}if(di(r)&&!s)return;const i=r.shapeFlag&4?io(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===mt?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(St(c)?(u[c]=null,nt(h,c)&&(h[c]=null)):ee(c)&&(c.value=null)),X(l))rn(l,a,12,[o,u]);else{const f=St(l),m=ee(l);if(f||m){const T=()=>{if(e.f){const R=f?nt(h,l)?h[l]:u[l]:l.value;s?H(R)&&ul(R,i):H(R)?R.includes(i)||R.push(i):f?(u[l]=[i],nt(h,l)&&(h[l]=u[l])):(l.value=[i],e.k&&(u[e.k]=l.value))}else f?(u[l]=o,nt(h,l)&&(h[l]=o)):m&&(l.value=o,e.k&&(u[e.k]=o))};o?(T.id=-1,Xt(T,n)):T()}}}const Xt=Yg;function b_(e){return S_(e)}function S_(e,t){const n=Jh();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:m=ue,insertStaticContent:T}=e,R=(d,p,g,E=null,_=null,S=null,O=void 0,b=null,P=!!p.dynamicChildren)=>{if(d===p)return;d&&!Lr(d,p)&&(E=y(d),Yt(d,_,S,!0),d=null),p.patchFlag===-2&&(P=!1,p.dynamicChildren=null);const{type:I,ref:k,shapeFlag:$}=p;switch(I){case no:A(d,p,g,E);break;case cs:C(d,p,g,E);break;case mi:d==null&&L(p,g,E,O);break;case pe:mn(d,p,g,E,_,S,O,b,P);break;default:$&1?pt(d,p,g,E,_,S,O,b,P):$&6?Te(d,p,g,E,_,S,O,b,P):($&64||$&128)&&I.process(d,p,g,E,_,S,O,b,P,F)}k!=null&&_&&wa(k,d&&d.ref,S,p||d,!p)},A=(d,p,g,E)=>{if(d==null)r(p.el=a(p.children),g,E);else{const _=p.el=d.el;p.children!==d.children&&c(_,p.children)}},C=(d,p,g,E)=>{d==null?r(p.el=l(p.children||""),g,E):p.el=d.el},L=(d,p,g,E)=>{[d.el,d.anchor]=T(d.children,p,g,E,d.el,d.anchor)},U=({el:d,anchor:p},g,E)=>{let _;for(;d&&d!==p;)_=f(d),r(d,g,E),d=_;r(p,g,E)},J=({el:d,anchor:p})=>{let g;for(;d&&d!==p;)g=f(d),s(d),d=g;s(p)},pt=(d,p,g,E,_,S,O,b,P)=>{p.type==="svg"?O="svg":p.type==="math"&&(O="mathml"),d==null?K(p,g,E,_,S,O,b,P):ze(d,p,_,S,O,b,P)},K=(d,p,g,E,_,S,O,b)=>{let P,I;const{props:k,shapeFlag:$,transition:B,dirs:W}=d;if(P=d.el=o(d.type,S,k&&k.is,k),$&8?u(P,d.children):$&16&&re(d.children,P,null,E,_,$o(d,S),O,b),W&&gn(d,null,E,"created"),Tt(P,d,d.scopeId,O,E),k){for(const ht in k)ht!=="value"&&!Wr(ht)&&i(P,ht,null,k[ht],S,d.children,E,_,Ut);"value"in k&&i(P,"value",null,k.value,S),(I=k.onVnodeBeforeMount)&&Re(I,E,d)}W&&gn(d,null,E,"beforeMount");const Z=P_(_,B);Z&&B.beforeEnter(P),r(P,p,g),((I=k&&k.onVnodeMounted)||Z||W)&&Xt(()=>{I&&Re(I,E,d),Z&&B.enter(P),W&&gn(d,null,E,"mounted")},_)},Tt=(d,p,g,E,_)=>{if(g&&m(d,g),E)for(let S=0;S<E.length;S++)m(d,E[S]);if(_){let S=_.subTree;if(p===S){const O=_.vnode;Tt(d,O,O.scopeId,O.slotScopeIds,_.parent)}}},re=(d,p,g,E,_,S,O,b,P=0)=>{for(let I=P;I<d.length;I++){const k=d[I]=b?Je(d[I]):be(d[I]);R(null,k,p,g,E,_,S,O,b)}},ze=(d,p,g,E,_,S,O)=>{const b=p.el=d.el;let{patchFlag:P,dynamicChildren:I,dirs:k}=p;P|=d.patchFlag&16;const $=d.props||mt,B=p.props||mt;let W;if(g&&_n(g,!1),(W=B.onVnodeBeforeUpdate)&&Re(W,g,p,d),k&&gn(p,d,g,"beforeUpdate"),g&&_n(g,!0),I?se(d.dynamicChildren,I,b,g,E,$o(p,_),S):O||ot(d,p,b,null,g,E,$o(p,_),S,!1),P>0){if(P&16)Ge(b,p,$,B,g,E,_);else if(P&2&&$.class!==B.class&&i(b,"class",null,B.class,_),P&4&&i(b,"style",$.style,B.style,_),P&8){const Z=p.dynamicProps;for(let ht=0;ht<Z.length;ht++){const vt=Z[ht],Ct=$[vt],fe=B[vt];(fe!==Ct||vt==="value")&&i(b,vt,Ct,fe,_,d.children,g,E,Ut)}}P&1&&d.children!==p.children&&u(b,p.children)}else!O&&I==null&&Ge(b,p,$,B,g,E,_);((W=B.onVnodeUpdated)||k)&&Xt(()=>{W&&Re(W,g,p,d),k&&gn(p,d,g,"updated")},E)},se=(d,p,g,E,_,S,O)=>{for(let b=0;b<p.length;b++){const P=d[b],I=p[b],k=P.el&&(P.type===pe||!Lr(P,I)||P.shapeFlag&70)?h(P.el):g;R(P,I,k,null,E,_,S,O,!0)}},Ge=(d,p,g,E,_,S,O)=>{if(g!==E){if(g!==mt)for(const b in g)!Wr(b)&&!(b in E)&&i(d,b,g[b],null,O,p.children,_,S,Ut);for(const b in E){if(Wr(b))continue;const P=E[b],I=g[b];P!==I&&b!=="value"&&i(d,b,I,P,O,p.children,_,S,Ut)}"value"in E&&i(d,"value",g.value,E.value,O)}},mn=(d,p,g,E,_,S,O,b,P)=>{const I=p.el=d?d.el:a(""),k=p.anchor=d?d.anchor:a("");let{patchFlag:$,dynamicChildren:B,slotScopeIds:W}=p;W&&(b=b?b.concat(W):W),d==null?(r(I,g,E),r(k,g,E),re(p.children||[],g,k,_,S,O,b,P)):$>0&&$&64&&B&&d.dynamicChildren?(se(d.dynamicChildren,B,g,_,S,O,b),(p.key!=null||_&&p===_.subTree)&&Hf(d,p,!0)):ot(d,p,g,k,_,S,O,b,P)},Te=(d,p,g,E,_,S,O,b,P)=>{p.slotScopeIds=b,d==null?p.shapeFlag&512?_.ctx.activate(p,g,E,O,P):Mr(p,g,E,_,S,O,P):jn(d,p,P)},Mr=(d,p,g,E,_,S,O)=>{const b=d.component=F_(d,E,_);if(Nf(d)&&(b.ctx.renderer=F),U_(b),b.asyncDep){if(_&&_.registerDep(b,Pt),!d.el){const P=b.subTree=Zt(cs);C(null,P,p,g)}}else Pt(b,d,p,g,_,S,O)},jn=(d,p,g)=>{const E=p.component=d.component;if(Kg(d,p,g))if(E.asyncDep&&!E.asyncResolved){ut(E,p,g);return}else E.next=p,kg(E.update),E.effect.dirty=!0,E.update();else p.el=d.el,E.vnode=p},Pt=(d,p,g,E,_,S,O)=>{const b=()=>{if(d.isMounted){let{next:k,bu:$,u:B,parent:W,vnode:Z}=d;{const Hn=Kf(d);if(Hn){k&&(k.el=Z.el,ut(d,k,O)),Hn.asyncDep.then(()=>{d.isUnmounted||b()});return}}let ht=k,vt;_n(d,!1),k?(k.el=Z.el,ut(d,k,O)):k=Z,$&&hi($),(vt=k.props&&k.props.onVnodeBeforeUpdate)&&Re(vt,W,k,Z),_n(d,!0);const Ct=Bo(d),fe=d.subTree;d.subTree=Ct,R(fe,Ct,h(fe.el),y(fe),d,_,S),k.el=Ct.el,ht===null&&zg(d,Ct.el),B&&Xt(B,_),(vt=k.props&&k.props.onVnodeUpdated)&&Xt(()=>Re(vt,W,k,Z),_)}else{let k;const{el:$,props:B}=p,{bm:W,m:Z,parent:ht}=d,vt=di(p);if(_n(d,!1),W&&hi(W),!vt&&(k=B&&B.onVnodeBeforeMount)&&Re(k,ht,p),_n(d,!0),$&&yt){const Ct=()=>{d.subTree=Bo(d),yt($,d.subTree,d,_,null)};vt?p.type.__asyncLoader().then(()=>!d.isUnmounted&&Ct()):Ct()}else{const Ct=d.subTree=Bo(d);R(null,Ct,g,E,d,_,S),p.el=Ct.el}if(Z&&Xt(Z,_),!vt&&(k=B&&B.onVnodeMounted)){const Ct=p;Xt(()=>Re(k,ht,Ct),_)}(p.shapeFlag&256||ht&&di(ht.vnode)&&ht.vnode.shapeFlag&256)&&d.a&&Xt(d.a,_),d.isMounted=!0,p=g=E=null}},P=d.effect=new dl(b,ue,()=>wl(I),d.scope),I=d.update=()=>{P.dirty&&P.run()};I.id=d.uid,_n(d,!0),I()},ut=(d,p,g)=>{p.component=d;const E=d.vnode.props;d.vnode=p,d.next=null,T_(d,p.props,E,g),R_(d,p.children,g),Nn(),Qc(d),Mn()},ot=(d,p,g,E,_,S,O,b,P=!1)=>{const I=d&&d.children,k=d?d.shapeFlag:0,$=p.children,{patchFlag:B,shapeFlag:W}=p;if(B>0){if(B&128){We(I,$,g,E,_,S,O,b,P);return}else if(B&256){ke(I,$,g,E,_,S,O,b,P);return}}W&8?(k&16&&Ut(I,_,S),$!==I&&u(g,$)):k&16?W&16?We(I,$,g,E,_,S,O,b,P):Ut(I,_,S,!0):(k&8&&u(g,""),W&16&&re($,g,E,_,S,O,b,P))},ke=(d,p,g,E,_,S,O,b,P)=>{d=d||Zn,p=p||Zn;const I=d.length,k=p.length,$=Math.min(I,k);let B;for(B=0;B<$;B++){const W=p[B]=P?Je(p[B]):be(p[B]);R(d[B],W,g,null,_,S,O,b,P)}I>k?Ut(d,_,S,!0,!1,$):re(p,g,E,_,S,O,b,P,$)},We=(d,p,g,E,_,S,O,b,P)=>{let I=0;const k=p.length;let $=d.length-1,B=k-1;for(;I<=$&&I<=B;){const W=d[I],Z=p[I]=P?Je(p[I]):be(p[I]);if(Lr(W,Z))R(W,Z,g,null,_,S,O,b,P);else break;I++}for(;I<=$&&I<=B;){const W=d[$],Z=p[B]=P?Je(p[B]):be(p[B]);if(Lr(W,Z))R(W,Z,g,null,_,S,O,b,P);else break;$--,B--}if(I>$){if(I<=B){const W=B+1,Z=W<k?p[W].el:E;for(;I<=B;)R(null,p[I]=P?Je(p[I]):be(p[I]),g,Z,_,S,O,b,P),I++}}else if(I>B)for(;I<=$;)Yt(d[I],_,S,!0),I++;else{const W=I,Z=I,ht=new Map;for(I=Z;I<=B;I++){const ie=p[I]=P?Je(p[I]):be(p[I]);ie.key!=null&&ht.set(ie.key,I)}let vt,Ct=0;const fe=B-Z+1;let Hn=!1,Lc=0;const kr=new Array(fe);for(I=0;I<fe;I++)kr[I]=0;for(I=W;I<=$;I++){const ie=d[I];if(Ct>=fe){Yt(ie,_,S,!0);continue}let Ae;if(ie.key!=null)Ae=ht.get(ie.key);else for(vt=Z;vt<=B;vt++)if(kr[vt-Z]===0&&Lr(ie,p[vt])){Ae=vt;break}Ae===void 0?Yt(ie,_,S,!0):(kr[Ae-Z]=I+1,Ae>=Lc?Lc=Ae:Hn=!0,R(ie,p[Ae],g,null,_,S,O,b,P),Ct++)}const Fc=Hn?C_(kr):Zn;for(vt=Fc.length-1,I=fe-1;I>=0;I--){const ie=Z+I,Ae=p[ie],Uc=ie+1<k?p[ie+1].el:E;kr[I]===0?R(null,Ae,g,Uc,_,S,O,b,P):Hn&&(vt<0||I!==Fc[vt]?Ie(Ae,g,Uc,2):vt--)}}},Ie=(d,p,g,E,_=null)=>{const{el:S,type:O,transition:b,children:P,shapeFlag:I}=d;if(I&6){Ie(d.component.subTree,p,g,E);return}if(I&128){d.suspense.move(p,g,E);return}if(I&64){O.move(d,p,g,F);return}if(O===pe){r(S,p,g);for(let $=0;$<P.length;$++)Ie(P[$],p,g,E);r(d.anchor,p,g);return}if(O===mi){U(d,p,g);return}if(E!==2&&I&1&&b)if(E===0)b.beforeEnter(S),r(S,p,g),Xt(()=>b.enter(S),_);else{const{leave:$,delayLeave:B,afterLeave:W}=b,Z=()=>r(S,p,g),ht=()=>{$(S,()=>{Z(),W&&W()})};B?B(S,Z,ht):ht()}else r(S,p,g)},Yt=(d,p,g,E=!1,_=!1)=>{const{type:S,props:O,ref:b,children:P,dynamicChildren:I,shapeFlag:k,patchFlag:$,dirs:B}=d;if(b!=null&&wa(b,null,g,d,!0),k&256){p.ctx.deactivate(d);return}const W=k&1&&B,Z=!di(d);let ht;if(Z&&(ht=O&&O.onVnodeBeforeUnmount)&&Re(ht,p,d),k&6)Ws(d.component,g,E);else{if(k&128){d.suspense.unmount(g,E);return}W&&gn(d,null,p,"beforeUnmount"),k&64?d.type.remove(d,p,g,_,F,E):I&&(S!==pe||$>0&&$&64)?Ut(I,p,g,!1,!0):(S===pe&&$&384||!_&&k&16)&&Ut(P,p,g),E&&$n(d)}(Z&&(ht=O&&O.onVnodeUnmounted)||W)&&Xt(()=>{ht&&Re(ht,p,d),W&&gn(d,null,p,"unmounted")},g)},$n=d=>{const{type:p,el:g,anchor:E,transition:_}=d;if(p===pe){qn(g,E);return}if(p===mi){J(d);return}const S=()=>{s(g),_&&!_.persisted&&_.afterLeave&&_.afterLeave()};if(d.shapeFlag&1&&_&&!_.persisted){const{leave:O,delayLeave:b}=_,P=()=>O(g,S);b?b(d.el,S,P):P()}else S()},qn=(d,p)=>{let g;for(;d!==p;)g=f(d),s(d),d=g;s(p)},Ws=(d,p,g)=>{const{bum:E,scope:_,update:S,subTree:O,um:b}=d;E&&hi(E),_.stop(),S&&(S.active=!1,Yt(O,d,p,g)),b&&Xt(b,p),Xt(()=>{d.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},Ut=(d,p,g,E=!1,_=!1,S=0)=>{for(let O=S;O<d.length;O++)Yt(d[O],p,g,E,_)},y=d=>d.shapeFlag&6?y(d.component.subTree):d.shapeFlag&128?d.suspense.next():f(d.anchor||d.el);let M=!1;const D=(d,p,g)=>{d==null?p._vnode&&Yt(p._vnode,null,null,!0):R(p._vnode||null,d,p,null,null,null,g),M||(M=!0,Qc(),bf(),M=!1),p._vnode=d},F={p:R,um:Yt,m:Ie,r:$n,mt:Mr,mc:re,pc:ot,pbc:se,n:y,o:e};let at,yt;return t&&([at,yt]=t(F)),{render:D,hydrate:at,createApp:E_(D,at)}}function $o({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function _n({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function P_(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Hf(e,t,n=!1){const r=e.children,s=t.children;if(H(r)&&H(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Je(s[i]),a.el=o.el),n||Hf(o,a)),a.type===no&&(a.el=o.el)}}function C_(e){const t=e.slice(),n=[0];let r,s,i,o,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(s=n[n.length-1],e[s]<c){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<c?i=a+1:o=a;c<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function Kf(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Kf(t)}const V_=e=>e.__isTeleport,pe=Symbol.for("v-fgt"),no=Symbol.for("v-txt"),cs=Symbol.for("v-cmt"),mi=Symbol.for("v-stc"),Xr=[];let me=null;function ir(e=!1){Xr.push(me=e?null:[])}function x_(){Xr.pop(),me=Xr[Xr.length-1]||null}let us=1;function ou(e){us+=e}function D_(e){return e.dynamicChildren=us>0?me||Zn:null,x_(),us>0&&me&&me.push(e),e}function or(e,t,n,r,s,i){return D_(q(e,t,n,r,s,i,!0))}function Ta(e){return e?e.__v_isVNode===!0:!1}function Lr(e,t){return e.type===t.type&&e.key===t.key}const ro="__vInternal",zf=({key:e})=>e??null,gi=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?St(e)||ee(e)||X(e)?{i:Jt,r:e,k:t,f:!!n}:e:null);function q(e,t=null,n=null,r=0,s=null,i=e===pe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&zf(t),ref:t&&gi(t),scopeId:to,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Jt};return a?(Al(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=St(n)?8:16),us>0&&!o&&me&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&me.push(l),l}const Zt=O_;function O_(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===Gg)&&(e=cs),Ta(e)){const a=dr(e,t,!0);return n&&Al(a,n),us>0&&!i&&me&&(a.shapeFlag&6?me[me.indexOf(e)]=a:me.push(a)),a.patchFlag|=-2,a}if(H_(e)&&(e=e.__vccOpts),t){t=N_(t);let{class:a,style:l}=t;a&&!St(a)&&(t.class=xs(a)),dt(l)&&(_f(l)&&!H(l)&&(l=Ft({},l)),t.style=fl(l))}const o=St(e)?1:Qg(e)?128:V_(e)?64:dt(e)?4:X(e)?2:0;return q(e,t,n,r,s,o,i,!0)}function N_(e){return e?_f(e)||ro in e?Ft({},e):e:null}function dr(e,t,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=e,a=t?M_(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&zf(a),ref:t&&t.ref?n&&s?H(s)?s.concat(gi(t)):[s,gi(t)]:gi(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==pe?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&dr(e.ssContent),ssFallback:e.ssFallback&&dr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Ia(e=" ",t=0){return Zt(no,null,e,t)}function Gf(e,t){const n=Zt(mi,null,e);return n.staticCount=t,n}function be(e){return e==null||typeof e=="boolean"?Zt(cs):H(e)?Zt(pe,null,e.slice()):typeof e=="object"?Je(e):Zt(no,null,String(e))}function Je(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:dr(e)}function Al(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(H(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),Al(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(ro in t)?t._ctx=Jt:s===3&&Jt&&(Jt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else X(t)?(t={default:t,_ctx:Jt},n=32):(t=String(t),r&64?(n=16,t=[Ia(t)]):n=8);e.children=t,e.shapeFlag|=n}function M_(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=xs([t.class,r.class]));else if(s==="style")t.style=fl([t.style,r.style]);else if(zi(s)){const i=t[s],o=r[s];o&&i!==o&&!(H(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function Re(e,t,n,r=null){_e(e,t,7,[n,r])}const k_=Ff();let L_=0;function F_(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||k_,i={uid:L_++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new nf(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Bf(r,s),emitsOptions:Pf(r,s),emit:null,emitted:null,propsDefaults:mt,inheritAttrs:r.inheritAttrs,ctx:mt,data:mt,props:mt,attrs:mt,slots:mt,refs:mt,setupState:mt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Ug.bind(null,i),e.ce&&e.ce(i),i}let Ht=null,Ri,Aa;{const e=Jh(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Ri=t("__VUE_INSTANCE_SETTERS__",n=>Ht=n),Aa=t("__VUE_SSR_SETTERS__",n=>so=n)}const Os=e=>{const t=Ht;return Ri(e),e.scope.on(),()=>{e.scope.off(),Ri(t)}},au=()=>{Ht&&Ht.scope.off(),Ri(null)};function Wf(e){return e.vnode.shapeFlag&4}let so=!1;function U_(e,t=!1){t&&Aa(t);const{props:n,children:r}=e.vnode,s=Wf(e);w_(e,n,s,t),A_(e,r);const i=s?B_(e,t):void 0;return t&&Aa(!1),i}function B_(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=yf(new Proxy(e.ctx,d_));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?$_(e):null,i=Os(e);Nn();const o=rn(r,e,0,[e.props,s]);if(Mn(),i(),Qh(o)){if(o.then(au,au),t)return o.then(a=>{lu(e,a,t)}).catch(a=>{Ji(a,e,0)});e.asyncDep=o}else lu(e,o,t)}else Qf(e,t)}function lu(e,t,n){X(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:dt(t)&&(e.setupState=Tf(t)),Qf(e,n)}let cu;function Qf(e,t,n){const r=e.type;if(!e.render){if(!t&&cu&&!r.render){const s=r.template||Tl(e).template;if(s){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,c=Ft(Ft({isCustomElement:i,delimiters:a},o),l);r.render=cu(s,c)}}e.render=r.render||ue}{const s=Os(e);Nn();try{p_(e)}finally{Mn(),s()}}}function j_(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return te(e,"get","$attrs"),t[n]}}))}function $_(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return j_(e)},slots:e.slots,emit:e.emit,expose:t}}function io(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Tf(yf(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Qr)return Qr[n](e)},has(t,n){return n in t||n in Qr}}))}function q_(e,t=!0){return X(e)?e.displayName||e.name:e.name||t&&e.__name}function H_(e){return X(e)&&"__vccOpts"in e}const ae=(e,t)=>Cg(e,t,so);function Yf(e,t,n){const r=arguments.length;return r===2?dt(t)&&!H(t)?Ta(t)?Zt(e,null,[t]):Zt(e,t):Zt(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ta(n)&&(n=[n]),Zt(e,t,n))}const K_="3.4.19";/**
* @vue/runtime-dom v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const z_="http://www.w3.org/2000/svg",G_="http://www.w3.org/1998/Math/MathML",Ze=typeof document<"u"?document:null,uu=Ze&&Ze.createElement("template"),W_={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?Ze.createElementNS(z_,e):t==="mathml"?Ze.createElementNS(G_,e):Ze.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>Ze.createTextNode(e),createComment:e=>Ze.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ze.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{uu.innerHTML=r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e;const a=uu.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Q_=Symbol("_vtc");function Y_(e,t,n){const r=e[Q_];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const hu=Symbol("_vod"),X_=Symbol(""),J_=/(^|;)\s*display\s*:/;function Z_(e,t,n){const r=e.style,s=St(n),i=r.display;let o=!1;if(n&&!s){if(t&&!St(t))for(const a in t)n[a]==null&&Ra(r,a,"");for(const a in n)a==="display"&&(o=!0),Ra(r,a,n[a])}else if(s){if(t!==n){const a=r[X_];a&&(n+=";"+a),r.cssText=n,o=J_.test(n)}}else t&&e.removeAttribute("style");hu in e&&(e[hu]=o?r.display:"",r.display=i)}const fu=/\s*!important$/;function Ra(e,t,n){if(H(n))n.forEach(r=>Ra(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=ty(e,t);fu.test(n)?e.setProperty(Rr(r),n.replace(fu,""),"important"):e[r]=n}}const du=["Webkit","Moz","ms"],qo={};function ty(e,t){const n=qo[t];if(n)return n;let r=Oe(t);if(r!=="filter"&&r in e)return qo[t]=r;r=Qi(r);for(let s=0;s<du.length;s++){const i=du[s]+r;if(i in e)return qo[t]=i}return t}const pu="http://www.w3.org/1999/xlink";function ey(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(pu,t.slice(6,t.length)):e.setAttributeNS(pu,t,n);else{const i=ig(t);n==null||i&&!Zh(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function ny(e,t,n,r,s,i,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,s,i),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const c=a==="OPTION"?e.getAttribute("value"):e.value,u=n??"";c!==u&&(e.value=u),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=Zh(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function En(e,t,n,r){e.addEventListener(t,n,r)}function ry(e,t,n,r){e.removeEventListener(t,n,r)}const mu=Symbol("_vei");function sy(e,t,n,r,s=null){const i=e[mu]||(e[mu]={}),o=i[t];if(r&&o)o.value=r;else{const[a,l]=iy(t);if(r){const c=i[t]=ly(r,s);En(e,a,c,l)}else o&&(ry(e,a,o,l),i[t]=void 0)}}const gu=/(?:Once|Passive|Capture)$/;function iy(e){let t;if(gu.test(e)){t={};let r;for(;r=e.match(gu);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Rr(e.slice(2)),t]}let Ho=0;const oy=Promise.resolve(),ay=()=>Ho||(oy.then(()=>Ho=0),Ho=Date.now());function ly(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;_e(cy(r,n.value),t,5,[r])};return n.value=e,n.attached=ay(),n}function cy(e,t){if(H(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const _u=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,uy=(e,t,n,r,s,i,o,a,l)=>{const c=s==="svg";t==="class"?Y_(e,r,c):t==="style"?Z_(e,n,r):zi(t)?cl(t)||sy(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):hy(e,t,r,c))?ny(e,t,r,i,o,a,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),ey(e,t,r,c))};function hy(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&_u(t)&&X(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return _u(t)&&St(n)?!1:t in e}const bi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return H(t)?n=>hi(t,n):t};function fy(e){e.target.composing=!0}function yu(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ar=Symbol("_assign"),ei={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[ar]=bi(s);const i=r||s.props&&s.props.type==="number";En(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),i&&(a=ha(a)),e[ar](a)}),n&&En(e,"change",()=>{e.value=e.value.trim()}),t||(En(e,"compositionstart",fy),En(e,"compositionend",yu),En(e,"change",yu))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:s}},i){if(e[ar]=bi(i),e.composing)return;const o=s||e.type==="number"?ha(e.value):e.value,a=t??"";o!==a&&(document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===a)||(e.value=a))}},dy={deep:!0,created(e,t,n){e[ar]=bi(n),En(e,"change",()=>{const r=e._modelValue,s=py(e),i=e.checked,o=e[ar];if(H(r)){const a=tf(r,s),l=a!==-1;if(i&&!l)o(r.concat(s));else if(!i&&l){const c=[...r];c.splice(a,1),o(c)}}else if(Gi(r)){const a=new Set(r);i?a.add(s):a.delete(s),o(a)}else o(Xf(e,i))})},mounted:vu,beforeUpdate(e,t,n){e[ar]=bi(n),vu(e,t,n)}};function vu(e,{value:t,oldValue:n},r){e._modelValue=t,H(t)?e.checked=tf(t,r.props.value)>-1:Gi(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=Yi(t,Xf(e,!0)))}function py(e){return"_value"in e?e._value:e.value}function Xf(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const my=["ctrl","shift","alt","meta"],gy={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>my.some(n=>e[`${n}Key`]&&!t.includes(n))},_y=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<t.length;o++){const a=gy[t[o]];if(a&&a(s,t))return}return e(s,...i)})},yy=Ft({patchProp:uy},W_);let Eu;function vy(){return Eu||(Eu=b_(yy))}const Ey=(...e)=>{const t=vy().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=Ty(r);if(!s)return;const i=t._component;!X(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,wy(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function wy(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Ty(e){return St(e)?document.querySelector(e):e}const oo=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},Iy={},Ay={id:"app"};function Ry(e,t){const n=Vf("router-view");return ir(),or("div",Ay,[Zt(n)])}const by=oo(Iy,[["render",Ry]]),Sy="modulepreload",Py=function(e){return"/"+e},wu={},Cy=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link");s=Promise.all(n.map(o=>{if(o=Py(o),o in wu)return;wu[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let h=i.length-1;h>=0;h--){const f=i[h];if(f.href===o&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":Sy,a||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),a)return new Promise((h,f)=>{u.addEventListener("load",h),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}return s.then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};function Vy(){return Jf().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Jf(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const xy=typeof Proxy=="function",Dy="devtools-plugin:setup",Oy="plugin:settings:set";let Kn,ba;function Ny(){var e;return Kn!==void 0||(typeof window<"u"&&window.performance?(Kn=!0,ba=window.performance):typeof globalThis<"u"&&(!((e=globalThis.perf_hooks)===null||e===void 0)&&e.performance)?(Kn=!0,ba=globalThis.perf_hooks.performance):Kn=!1),Kn}function My(){return Ny()?ba.now():Date.now()}class ky{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const o in t.settings){const a=t.settings[o];r[o]=a.defaultValue}const s=`__vue-devtools-plugin-settings__${t.id}`;let i=Object.assign({},r);try{const o=localStorage.getItem(s),a=JSON.parse(o);Object.assign(i,a)}catch{}this.fallbacks={getSettings(){return i},setSettings(o){try{localStorage.setItem(s,JSON.stringify(o))}catch{}i=o},now(){return My()}},n&&n.on(Oy,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(c=>{this.targetQueue.push({method:a,args:l,resolve:c})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function Ly(e,t){const n=e,r=Jf(),s=Vy(),i=xy&&n.enableEarlyProxy;if(s&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!i))s.emit(Dy,e,t);else{const o=i?new ky(n,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:o}),o&&t(o.proxiedTarget)}}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Wn=typeof window<"u";function Fy(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const lt=Object.assign;function Ko(e,t){const n={};for(const r in t){const s=t[r];n[r]=ye(s)?s.map(e):e(s)}return n}const Jr=()=>{},ye=Array.isArray,Uy=/\/$/,By=e=>e.replace(Uy,"");function zo(e,t,n="/"){let r,s={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),s=e(i)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=Hy(r??t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:o}}function jy(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Tu(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function $y(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&pr(t.matched[r],n.matched[s])&&Zf(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function pr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Zf(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!qy(e[n],t[n]))return!1;return!0}function qy(e,t){return ye(e)?Iu(e,t):ye(t)?Iu(t,e):e===t}function Iu(e,t){return ye(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function Hy(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var hs;(function(e){e.pop="pop",e.push="push"})(hs||(hs={}));var Zr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Zr||(Zr={}));function Ky(e){if(!e)if(Wn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),By(e)}const zy=/^[^#]+#/;function Gy(e,t){return e.replace(zy,"#")+t}function Wy(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const ao=()=>({left:window.pageXOffset,top:window.pageYOffset});function Qy(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=Wy(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Au(e,t){return(history.state?history.state.position-t:-1)+e}const Sa=new Map;function Yy(e,t){Sa.set(e,t)}function Xy(e){const t=Sa.get(e);return Sa.delete(e),t}let Jy=()=>location.protocol+"//"+location.host;function td(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let a=s.includes(e.slice(i))?e.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Tu(l,"")}return Tu(n,e)+r+s}function Zy(e,t,n,r){let s=[],i=[],o=null;const a=({state:f})=>{const m=td(e,location),T=n.value,R=t.value;let A=0;if(f){if(n.value=m,t.value=f,o&&o===T){o=null;return}A=R?f.position-R.position:0}else r(m);s.forEach(C=>{C(n.value,T,{delta:A,type:hs.pop,direction:A?A>0?Zr.forward:Zr.back:Zr.unknown})})};function l(){o=n.value}function c(f){s.push(f);const m=()=>{const T=s.indexOf(f);T>-1&&s.splice(T,1)};return i.push(m),m}function u(){const{history:f}=window;f.state&&f.replaceState(lt({},f.state,{scroll:ao()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function Ru(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?ao():null}}function tv(e){const{history:t,location:n}=window,r={value:td(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const h=e.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+l:Jy()+e+l;try{t[u?"replaceState":"pushState"](c,"",f),s.value=c}catch(m){console.error(m),n[u?"replace":"assign"](f)}}function o(l,c){const u=lt({},t.state,Ru(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});i(l,u,!0),r.value=l}function a(l,c){const u=lt({},s.value,t.state,{forward:l,scroll:ao()});i(u.current,u,!0);const h=lt({},Ru(r.value,l,null),{position:u.position+1},c);i(l,h,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function ev(e){e=Ky(e);const t=tv(e),n=Zy(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=lt({location:"",base:e,go:r,createHref:Gy.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function nv(e){return typeof e=="string"||e&&typeof e=="object"}function ed(e){return typeof e=="string"||typeof e=="symbol"}const Ye={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},nd=Symbol("");var bu;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(bu||(bu={}));function mr(e,t){return lt(new Error,{type:e,[nd]:!0},t)}function Le(e,t){return e instanceof Error&&nd in e&&(t==null||!!(e.type&t))}const Su="[^/]+?",rv={sensitive:!1,strict:!1,start:!0,end:!0},sv=/[.+*?^${}()[\]/\\]/g;function iv(e,t){const n=lt({},rv,t),r=[];let s=n.start?"^":"";const i=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let h=0;h<c.length;h++){const f=c[h];let m=40+(n.sensitive?.25:0);if(f.type===0)h||(s+="/"),s+=f.value.replace(sv,"\\$&"),m+=40;else if(f.type===1){const{value:T,repeatable:R,optional:A,regexp:C}=f;i.push({name:T,repeatable:R,optional:A});const L=C||Su;if(L!==Su){m+=10;try{new RegExp(`(${L})`)}catch(J){throw new Error(`Invalid custom RegExp for param "${T}" (${L}): `+J.message)}}let U=R?`((?:${L})(?:/(?:${L}))*)`:`(${L})`;h||(U=A&&c.length<2?`(?:/${U})`:"/"+U),A&&(U+="?"),s+=U,m+=20,A&&(m+=-8),R&&(m+=-20),L===".*"&&(m+=-50)}u.push(m)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const m=u[f]||"",T=i[f-1];h[T.name]=m&&T.repeatable?m.split("/"):m}return h}function l(c){let u="",h=!1;for(const f of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const m of f)if(m.type===0)u+=m.value;else if(m.type===1){const{value:T,repeatable:R,optional:A}=m,C=T in c?c[T]:"";if(ye(C)&&!R)throw new Error(`Provided param "${T}" is an array but it is not repeatable (* or + modifiers)`);const L=ye(C)?C.join("/"):C;if(!L)if(A)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${T}"`);u+=L}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function ov(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function av(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=ov(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Pu(r))return 1;if(Pu(s))return-1}return s.length-r.length}function Pu(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const lv={type:0,value:""},cv=/[a-zA-Z0-9_]/;function uv(e){if(!e)return[[]];if(e==="/")return[[lv]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${c}": ${m}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,c="",u="";function h(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:cv.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),h(),o(),s}function hv(e,t,n){const r=iv(uv(e.path),n),s=lt(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function fv(e,t){const n=[],r=new Map;t=xu({strict:!1,end:!0,sensitive:!1},t);function s(u){return r.get(u)}function i(u,h,f){const m=!f,T=dv(u);T.aliasOf=f&&f.record;const R=xu(t,u),A=[T];if("alias"in u){const U=typeof u.alias=="string"?[u.alias]:u.alias;for(const J of U)A.push(lt({},T,{components:f?f.record.components:T.components,path:J,aliasOf:f?f.record:T}))}let C,L;for(const U of A){const{path:J}=U;if(h&&J[0]!=="/"){const pt=h.record.path,K=pt[pt.length-1]==="/"?"":"/";U.path=h.record.path+(J&&K+J)}if(C=hv(U,h,R),f?f.alias.push(C):(L=L||C,L!==C&&L.alias.push(C),m&&u.name&&!Vu(C)&&o(u.name)),T.children){const pt=T.children;for(let K=0;K<pt.length;K++)i(pt[K],C,f&&f.children[K])}f=f||C,(C.record.components&&Object.keys(C.record.components).length||C.record.name||C.record.redirect)&&l(C)}return L?()=>{o(L)}:Jr}function o(u){if(ed(u)){const h=r.get(u);h&&(r.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&r.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let h=0;for(;h<n.length&&av(u,n[h])>=0&&(u.record.path!==n[h].record.path||!rd(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!Vu(u)&&r.set(u.record.name,u)}function c(u,h){let f,m={},T,R;if("name"in u&&u.name){if(f=r.get(u.name),!f)throw mr(1,{location:u});R=f.record.name,m=lt(Cu(h.params,f.keys.filter(L=>!L.optional).map(L=>L.name)),u.params&&Cu(u.params,f.keys.map(L=>L.name))),T=f.stringify(m)}else if("path"in u)T=u.path,f=n.find(L=>L.re.test(T)),f&&(m=f.parse(T),R=f.record.name);else{if(f=h.name?r.get(h.name):n.find(L=>L.re.test(h.path)),!f)throw mr(1,{location:u,currentLocation:h});R=f.record.name,m=lt({},h.params,u.params),T=f.stringify(m)}const A=[];let C=f;for(;C;)A.unshift(C.record),C=C.parent;return{name:R,path:T,params:m,matched:A,meta:mv(A)}}return e.forEach(u=>i(u)),{addRoute:i,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function Cu(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function dv(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:pv(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function pv(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Vu(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function mv(e){return e.reduce((t,n)=>lt(t,n.meta),{})}function xu(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function rd(e,t){return t.children.some(n=>n===e||rd(e,n))}const sd=/#/g,gv=/&/g,_v=/\//g,yv=/=/g,vv=/\?/g,id=/\+/g,Ev=/%5B/g,wv=/%5D/g,od=/%5E/g,Tv=/%60/g,ad=/%7B/g,Iv=/%7C/g,ld=/%7D/g,Av=/%20/g;function Rl(e){return encodeURI(""+e).replace(Iv,"|").replace(Ev,"[").replace(wv,"]")}function Rv(e){return Rl(e).replace(ad,"{").replace(ld,"}").replace(od,"^")}function Pa(e){return Rl(e).replace(id,"%2B").replace(Av,"+").replace(sd,"%23").replace(gv,"%26").replace(Tv,"`").replace(ad,"{").replace(ld,"}").replace(od,"^")}function bv(e){return Pa(e).replace(yv,"%3D")}function Sv(e){return Rl(e).replace(sd,"%23").replace(vv,"%3F")}function Pv(e){return e==null?"":Sv(e).replace(_v,"%2F")}function Si(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function Cv(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(id," "),o=i.indexOf("="),a=Si(o<0?i:i.slice(0,o)),l=o<0?null:Si(i.slice(o+1));if(a in t){let c=t[a];ye(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function Du(e){let t="";for(let n in e){const r=e[n];if(n=bv(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(ye(r)?r.map(i=>i&&Pa(i)):[r&&Pa(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function Vv(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=ye(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const xv=Symbol(""),Ou=Symbol(""),bl=Symbol(""),cd=Symbol(""),Ca=Symbol("");function Fr(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function tn(e,t,n,r,s){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(mr(4,{from:n,to:t})):h instanceof Error?a(h):nv(h)?a(mr(2,{from:t,to:h})):(i&&r.enterCallbacks[s]===i&&typeof h=="function"&&i.push(h),o())},c=e.call(r&&r.instances[s],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch(h=>a(h))})}function Go(e,t,n,r){const s=[];for(const i of e)for(const o in i.components){let a=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(Dv(a)){const c=(a.__vccOpts||a)[t];c&&s.push(tn(c,n,r,i,o))}else{let l=a();s.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=Fy(c)?c.default:c;i.components[o]=u;const f=(u.__vccOpts||u)[t];return f&&tn(f,n,r,i,o)()}))}}return s}function Dv(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Nu(e){const t=Be(bl),n=Be(cd),r=ae(()=>t.resolve(nr(e.to))),s=ae(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(pr.bind(null,u));if(f>-1)return f;const m=Mu(l[c-2]);return c>1&&Mu(u)===m&&h[h.length-1].path!==m?h.findIndex(pr.bind(null,l[c-2])):f}),i=ae(()=>s.value>-1&&kv(n.params,r.value.params)),o=ae(()=>s.value>-1&&s.value===n.matched.length-1&&Zf(n.params,r.value.params));function a(l={}){return Mv(l)?t[nr(e.replace)?"replace":"push"](nr(e.to)).catch(Jr):Promise.resolve()}return{route:r,href:ae(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const Ov=Of({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Nu,setup(e,{slots:t}){const n=Ds(Nu(e)),{options:r}=Be(bl),s=ae(()=>({[ku(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[ku(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:Yf("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),Nv=Ov;function Mv(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function kv(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!ye(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function Mu(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const ku=(e,t,n)=>e??t??n,Lv=Of({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Be(Ca),s=ae(()=>e.route||r.value),i=Be(Ou,0),o=ae(()=>{let c=nr(i);const{matched:u}=s.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=ae(()=>s.value.matched[o.value]);pi(Ou,ae(()=>o.value+1)),pi(xv,a),pi(Ca,s);const l=Vg();return sr(()=>[l.value,a.value,e.name],([c,u,h],[f,m,T])=>{u&&(u.instances[h]=c,m&&m!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=m.leaveGuards),u.updateGuards.size||(u.updateGuards=m.updateGuards))),c&&u&&(!m||!pr(u,m)||!f)&&(u.enterCallbacks[h]||[]).forEach(R=>R(c))},{flush:"post"}),()=>{const c=s.value,u=e.name,h=a.value,f=h&&h.components[u];if(!f)return Lu(n.default,{Component:f,route:c});const m=h.props[u],T=m?m===!0?c.params:typeof m=="function"?m(c):m:null,A=Yf(f,lt({},T,t,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return Lu(n.default,{Component:A,route:c})||A}}});function Lu(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Fv=Lv;function Uv(e){const t=fv(e.routes,e),n=e.parseQuery||Cv,r=e.stringifyQuery||Du,s=e.history,i=Fr(),o=Fr(),a=Fr(),l=xg(Ye);let c=Ye;Wn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Ko.bind(null,y=>""+y),h=Ko.bind(null,Pv),f=Ko.bind(null,Si);function m(y,M){let D,F;return ed(y)?(D=t.getRecordMatcher(y),F=M):F=y,t.addRoute(F,D)}function T(y){const M=t.getRecordMatcher(y);M&&t.removeRoute(M)}function R(){return t.getRoutes().map(y=>y.record)}function A(y){return!!t.getRecordMatcher(y)}function C(y,M){if(M=lt({},M||l.value),typeof y=="string"){const p=zo(n,y,M.path),g=t.resolve({path:p.path},M),E=s.createHref(p.fullPath);return lt(p,g,{params:f(g.params),hash:Si(p.hash),redirectedFrom:void 0,href:E})}let D;if("path"in y)D=lt({},y,{path:zo(n,y.path,M.path).path});else{const p=lt({},y.params);for(const g in p)p[g]==null&&delete p[g];D=lt({},y,{params:h(p)}),M.params=h(M.params)}const F=t.resolve(D,M),at=y.hash||"";F.params=u(f(F.params));const yt=jy(r,lt({},y,{hash:Rv(at),path:F.path})),d=s.createHref(yt);return lt({fullPath:yt,hash:at,query:r===Du?Vv(y.query):y.query||{}},F,{redirectedFrom:void 0,href:d})}function L(y){return typeof y=="string"?zo(n,y,l.value.path):lt({},y)}function U(y,M){if(c!==y)return mr(8,{from:M,to:y})}function J(y){return Tt(y)}function pt(y){return J(lt(L(y),{replace:!0}))}function K(y){const M=y.matched[y.matched.length-1];if(M&&M.redirect){const{redirect:D}=M;let F=typeof D=="function"?D(y):D;return typeof F=="string"&&(F=F.includes("?")||F.includes("#")?F=L(F):{path:F},F.params={}),lt({query:y.query,hash:y.hash,params:"path"in F?{}:y.params},F)}}function Tt(y,M){const D=c=C(y),F=l.value,at=y.state,yt=y.force,d=y.replace===!0,p=K(D);if(p)return Tt(lt(L(p),{state:typeof p=="object"?lt({},at,p.state):at,force:yt,replace:d}),M||D);const g=D;g.redirectedFrom=M;let E;return!yt&&$y(r,F,D)&&(E=mr(16,{to:g,from:F}),Ie(F,F,!0,!1)),(E?Promise.resolve(E):se(g,F)).catch(_=>Le(_)?Le(_,2)?_:We(_):ot(_,g,F)).then(_=>{if(_){if(Le(_,2))return Tt(lt({replace:d},L(_.to),{state:typeof _.to=="object"?lt({},at,_.to.state):at,force:yt}),M||g)}else _=mn(g,F,!0,d,at);return Ge(g,F,_),_})}function re(y,M){const D=U(y,M);return D?Promise.reject(D):Promise.resolve()}function ze(y){const M=qn.values().next().value;return M&&typeof M.runWithContext=="function"?M.runWithContext(y):y()}function se(y,M){let D;const[F,at,yt]=Bv(y,M);D=Go(F.reverse(),"beforeRouteLeave",y,M);for(const p of F)p.leaveGuards.forEach(g=>{D.push(tn(g,y,M))});const d=re.bind(null,y,M);return D.push(d),Ut(D).then(()=>{D=[];for(const p of i.list())D.push(tn(p,y,M));return D.push(d),Ut(D)}).then(()=>{D=Go(at,"beforeRouteUpdate",y,M);for(const p of at)p.updateGuards.forEach(g=>{D.push(tn(g,y,M))});return D.push(d),Ut(D)}).then(()=>{D=[];for(const p of yt)if(p.beforeEnter)if(ye(p.beforeEnter))for(const g of p.beforeEnter)D.push(tn(g,y,M));else D.push(tn(p.beforeEnter,y,M));return D.push(d),Ut(D)}).then(()=>(y.matched.forEach(p=>p.enterCallbacks={}),D=Go(yt,"beforeRouteEnter",y,M),D.push(d),Ut(D))).then(()=>{D=[];for(const p of o.list())D.push(tn(p,y,M));return D.push(d),Ut(D)}).catch(p=>Le(p,8)?p:Promise.reject(p))}function Ge(y,M,D){a.list().forEach(F=>ze(()=>F(y,M,D)))}function mn(y,M,D,F,at){const yt=U(y,M);if(yt)return yt;const d=M===Ye,p=Wn?history.state:{};D&&(F||d?s.replace(y.fullPath,lt({scroll:d&&p&&p.scroll},at)):s.push(y.fullPath,at)),l.value=y,Ie(y,M,D,d),We()}let Te;function Mr(){Te||(Te=s.listen((y,M,D)=>{if(!Ws.listening)return;const F=C(y),at=K(F);if(at){Tt(lt(at,{replace:!0}),F).catch(Jr);return}c=F;const yt=l.value;Wn&&Yy(Au(yt.fullPath,D.delta),ao()),se(F,yt).catch(d=>Le(d,12)?d:Le(d,2)?(Tt(d.to,F).then(p=>{Le(p,20)&&!D.delta&&D.type===hs.pop&&s.go(-1,!1)}).catch(Jr),Promise.reject()):(D.delta&&s.go(-D.delta,!1),ot(d,F,yt))).then(d=>{d=d||mn(F,yt,!1),d&&(D.delta&&!Le(d,8)?s.go(-D.delta,!1):D.type===hs.pop&&Le(d,20)&&s.go(-1,!1)),Ge(F,yt,d)}).catch(Jr)}))}let jn=Fr(),Pt=Fr(),ut;function ot(y,M,D){We(y);const F=Pt.list();return F.length?F.forEach(at=>at(y,M,D)):console.error(y),Promise.reject(y)}function ke(){return ut&&l.value!==Ye?Promise.resolve():new Promise((y,M)=>{jn.add([y,M])})}function We(y){return ut||(ut=!y,Mr(),jn.list().forEach(([M,D])=>y?D(y):M()),jn.reset()),y}function Ie(y,M,D,F){const{scrollBehavior:at}=e;if(!Wn||!at)return Promise.resolve();const yt=!D&&Xy(Au(y.fullPath,0))||(F||!D)&&history.state&&history.state.scroll||null;return Af().then(()=>at(y,M,yt)).then(d=>d&&Qy(d)).catch(d=>ot(d,y,M))}const Yt=y=>s.go(y);let $n;const qn=new Set,Ws={currentRoute:l,listening:!0,addRoute:m,removeRoute:T,hasRoute:A,getRoutes:R,resolve:C,options:e,push:J,replace:pt,go:Yt,back:()=>Yt(-1),forward:()=>Yt(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:Pt.add,isReady:ke,install(y){const M=this;y.component("RouterLink",Nv),y.component("RouterView",Fv),y.config.globalProperties.$router=M,Object.defineProperty(y.config.globalProperties,"$route",{enumerable:!0,get:()=>nr(l)}),Wn&&!$n&&l.value===Ye&&($n=!0,J(s.location).catch(at=>{}));const D={};for(const at in Ye)Object.defineProperty(D,at,{get:()=>l.value[at],enumerable:!0});y.provide(bl,M),y.provide(cd,mf(D)),y.provide(Ca,l);const F=y.unmount;qn.add(y),y.unmount=function(){qn.delete(y),qn.size<1&&(c=Ye,Te&&Te(),Te=null,l.value=Ye,$n=!1,ut=!1),F()}}};function Ut(y){return y.reduce((M,D)=>M.then(()=>ze(D)),Promise.resolve())}return Ws}function Bv(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(c=>pr(c,a))?r.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>pr(c,l))||s.push(l))}return[n,r,s]}const jv={name:"YourComponentName",data(){return{nightMode:JSON.parse(localStorage.getItem("nightMode"))||!1}},watch:{nightMode:function(){localStorage.setItem("nightMode",JSON.stringify(this.nightMode)),console.log("Night Mode: "+JSON.stringify(this.nightMode))}}},$v=q("label",{for:"theme-toggle"},[q("span")],-1);function qv(e,t,n,r,s,i){return ir(),or("div",{id:"page",class:xs({"theme-dark":s.nightMode})},[$r(q("input",{type:"checkbox",id:"theme-toggle","onUpdate:modelValue":t[0]||(t[0]=o=>s.nightMode=o)},null,512),[[dy,s.nightMode]]),$v],2)}const ud=oo(jv,[["render",qv]]),Hv="/assets/hazman-BaYV1rVD.jpg",Kv={components:{darkmode:ud},name:"maskformdsdasVidsadews",data(){return{menuOpen:!1}},methods:{toggleMenu(){this.menuOpen=!this.menuOpen}}},Sl=e=>(Bg("data-v-93466117"),e=e(),jg(),e),zv={class:"antialiased bg-gray-400 sticky top-0"},Gv={class:"lg:px-16 px-6 bg-white flex flex-wrap items-center p-4 py-3 lg:py-0 py-2 lg:px-40"},Wv=Sl(()=>q("div",{class:"flex-1 flex justify-between items-center dark:text-white"},[q("a",{href:"https://hazman97.github.io"}," Hazman Adanan ")],-1)),Qv=Sl(()=>q("svg",{class:"fill-current text-gray-900",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"},[q("title",null,"menu"),q("path",{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"})],-1)),Yv=[Qv],Xv=Sl(()=>q("input",{class:"hidden",type:"checkbox",id:"menu-toggle"},null,-1)),Jv={class:"lg:flex items-center justify-between text-base text-gray-700 pt-4 lg:pt-0"},Zv=Gf('<li data-v-93466117><a class="lg:p-4 py-3 px-0 block border-b-2 border-transparent hover:border-indigo-400" href="/code" data-v-93466117>About</a></li><li data-v-93466117><a class="lg:p-4 py-3 px-0 block border-b-2 border-transparent hover:border-indigo-400" href="#Experience" data-v-93466117>experience</a></li><li data-v-93466117><a class="lg:p-4 py-3 px-0 block border-b-2 border-transparent hover:border-indigo-400" href="#Project" data-v-93466117>Project</a></li><li data-v-93466117><a class="lg:p-4 py-3 px-0 block border-b-2 border-transparent hover:border-indigo-400 lg:mb-0 mb-2" href="#Education" data-v-93466117>Education</a></li><li data-v-93466117><a class="lg:p-4 py-3 px-0 block border-b-2 border-transparent hover:border-indigo-400 lg:mb-0 mb-2" href="#Skill" data-v-93466117>Skill</a></li>',5),tE=Gf('<main class="bg-gray-200 min-h-screen flex justify-center items-center" data-v-93466117><div class="max-w-4xl mx-auto px-4" data-v-93466117><div class="bg-slate-200" data-v-93466117><div class="my-5 min-h-screen flex flex-wrap justify-center items-center" data-v-93466117><section class="text-center flex-initial w-full sm:w-3/4 px-4" id="home" data-v-93466117><h1 class="text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-4" data-v-93466117>Hi there!</h1><p class="text-lg text-gray-700 mb-8" data-v-93466117> I&#39;m a front-end enthusiast gaining practical experience in the field. After completing an internship, I&#39;ve transitioned into a role as a Front End Developer. Passionate about web development, I&#39;m also intrigued by networking and computer support technology. With a solid foundation in these areas and a commitment to ongoing learning, I&#39;m eager to explore opportunities that allow me to contribute to both front-end development and IT support roles. </p></section><div class="flex-initial w-full md:w-1/4 px-4 text-center" data-v-93466117><img class="rounded-full object-scale-down mx-auto h-48 w-96" src="'+Hv+'" alt="image description" data-v-93466117></div></div></div></div></main><main class="bg-gray-100 max-h-screen flex justify-start items-start" data-v-93466117><div class="max-w-4xl 2xl:mx-40 xl:mx-40 mx-auto px-4" data-v-93466117><section class="py-20" id="about" data-v-93466117><h2 class="flex-start text-2xl font-semibold" data-v-93466117>About Me</h2><p data-v-93466117> This is where you can introduce yourself and describe your skills, experiences, and interests. </p></section></div></main><main class="bg-gray-200 min-h-screen flex justify-start items-start" data-v-93466117><div class="max-w-4xl 2xl:mx-40 xl:mx-40 mx-auto px-4" data-v-93466117><section class="mt-12" id="Experience" data-v-93466117><h2 class="text-2xl font-semibold mb-4" data-v-93466117>Experience</h2><p data-v-93466117>This is where you can showcase your projects with descriptions and links.</p></section></div></main><main class="bg-gray-100 min-h-screen flex justify-start items-start" data-v-93466117><div class="max-w-4xl 2xl:mx-40 xl:mx-40 mx-auto px-4" data-v-93466117><section class="mt-12" id="Project" data-v-93466117><h2 class="text-2xl font-semibold mb-4" data-v-93466117>Project</h2><p data-v-93466117>This is where you can provide a downloadable version of your resume or CV.</p></section></div></main><main class="bg-gray-200 min-h-screen flex justify-start items-start" data-v-93466117><div class="max-w-4xl 2xl:mx-40 xl:mx-40 mx-auto px-4" data-v-93466117><section class="mt-12" id="Education" data-v-93466117><h2 class="text-2xl font-semibold mb-4" data-v-93466117>Education</h2><p data-v-93466117>This is where you can include a contact form or provide contact information.</p></section></div></main><main class="bg-gray-100 min-h-screen flex justify-start items-start" data-v-93466117><div class="max-w-4xl 2xl:mx-40 xl:mx-40 mx-auto px-4" data-v-93466117><section class="mt-12" id="Skill" data-v-93466117><h2 class="text-2xl font-semibold mb-4" data-v-93466117>Skill</h2><p data-v-93466117>This is where you can include a contact form or provide contact information.</p></section></div></main>',6);function eE(e,t,n,r,s,i){const o=Vf("darkmode");return ir(),or(pe,null,[q("div",zv,[q("header",Gv,[Wv,q("label",{for:"menu-toggle",class:"pointer-cursor lg:hidden block p-4 py-2",onClick:t[0]||(t[0]=(...a)=>i.toggleMenu&&i.toggleMenu(...a))},Yv),Xv,q("div",{class:xs(s.menuOpen?"lg:flex lg:items-center lg:w-auto w-full":"hidden lg:flex lg:items-center lg:w-auto w-full"),id:"menu"},[q("nav",null,[q("ul",Jv,[q("li",null,[Zt(o,{class:"hidden 2xl: xl: lg:block md:hidden sm:"})]),Zv])])],2)])]),tE],64)}const nE=oo(Kv,[["render",eE],["__scopeId","data-v-93466117"]]);var Fu={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},rE=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],o=e[n++],a=e[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return t.join("")},fd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],o=s+1<e.length,a=o?e[s+1]:0,l=s+2<e.length,c=l?e[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),r.push(n[u],n[h],n[f],n[m])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(hd(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):rE(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],a=s<e.length?n[e.charAt(s)]:0;++s;const c=s<e.length?n[e.charAt(s)]:64;++s;const h=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new sE;const f=i<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const T=c<<6&192|h;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class sE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iE=function(e){const t=hd(e);return fd.encodeByteArray(t,!0)},Pi=function(e){return iE(e).replace(/\./g,"")},oE=function(e){try{return fd.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=()=>aE().__FIREBASE_DEFAULTS__,cE=()=>{if(typeof process>"u"||typeof Fu>"u")return;const e=Fu.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},uE=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&oE(e[1]);return t&&JSON.parse(t)},Pl=()=>{try{return lE()||cE()||uE()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},hE=e=>{var t,n;return(n=(t=Pl())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},fE=e=>{const t=hE(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},dd=()=>{var e;return(e=Pl())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",s=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Pi(JSON.stringify(n)),Pi(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mE(){var e;const t=(e=Pl())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gE(){return!mE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pd(){try{return typeof indexedDB=="object"}catch{return!1}}function _E(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;t(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="FirebaseError";class br extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=yE,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,md.prototype.create)}}class md{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],o=i?vE(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new br(s,a,r)}}function vE(e,t){return e.replace(EE,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const EE=/\{\$([^}]+)}/g;function Va(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],o=t[s];if(Uu(i)&&Uu(o)){if(!Va(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Uu(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(e){return e&&e._delegate?e._delegate:e}class fs{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new dE;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(IE(t))try{this.getOrInitializeService({instanceIdentifier:yn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=yn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=yn){return this.instances.has(t)}getOptions(t=yn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(t,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(t),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&t(o,s),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TE(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=yn){return this.component?this.component.multipleInstances?t:yn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TE(e){return e===yn?void 0:e}function IE(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new wE(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(rt||(rt={}));const RE={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},bE=rt.INFO,SE={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},PE=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=SE[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class gd{constructor(t){this.name=t,this._logLevel=bE,this._logHandler=PE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in rt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?RE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...t),this._logHandler(this,rt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...t),this._logHandler(this,rt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...t),this._logHandler(this,rt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...t),this._logHandler(this,rt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...t),this._logHandler(this,rt.ERROR,...t)}}const CE=(e,t)=>t.some(n=>e instanceof n);let Bu,ju;function VE(){return Bu||(Bu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xE(){return ju||(ju=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _d=new WeakMap,xa=new WeakMap,yd=new WeakMap,Wo=new WeakMap,Cl=new WeakMap;function DE(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(sn(e.result)),s()},o=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&_d.set(n,e)}).catch(()=>{}),Cl.set(t,e),t}function OE(e){if(xa.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});xa.set(e,t)}let Da={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return xa.get(e);if(t==="objectStoreNames")return e.objectStoreNames||yd.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function NE(e){Da=e(Da)}function ME(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Qo(this),t,...n);return yd.set(r,t.sort?t.sort():[t]),sn(r)}:xE().includes(e)?function(...t){return e.apply(Qo(this),t),sn(_d.get(this))}:function(...t){return sn(e.apply(Qo(this),t))}}function kE(e){return typeof e=="function"?ME(e):(e instanceof IDBTransaction&&OE(e),CE(e,VE())?new Proxy(e,Da):e)}function sn(e){if(e instanceof IDBRequest)return DE(e);if(Wo.has(e))return Wo.get(e);const t=kE(e);return t!==e&&(Wo.set(e,t),Cl.set(t,e)),t}const Qo=e=>Cl.get(e);function LE(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(e,t),a=sn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(sn(o.result),l.oldVersion,l.newVersion,sn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const FE=["get","getKey","getAll","getAllKeys","count"],UE=["put","add","delete","clear"],Yo=new Map;function $u(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Yo.get(t))return Yo.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=UE.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||FE.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Yo.set(t,i),i}NE(e=>({...e,get:(t,n,r)=>$u(t,n)||e.get(t,n,r),has:(t,n)=>!!$u(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jE(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function jE(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Oa="@firebase/app",qu="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn=new gd("@firebase/app"),$E="@firebase/app-compat",qE="@firebase/analytics-compat",HE="@firebase/analytics",KE="@firebase/app-check-compat",zE="@firebase/app-check",GE="@firebase/auth",WE="@firebase/auth-compat",QE="@firebase/database",YE="@firebase/database-compat",XE="@firebase/functions",JE="@firebase/functions-compat",ZE="@firebase/installations",tw="@firebase/installations-compat",ew="@firebase/messaging",nw="@firebase/messaging-compat",rw="@firebase/performance",sw="@firebase/performance-compat",iw="@firebase/remote-config",ow="@firebase/remote-config-compat",aw="@firebase/storage",lw="@firebase/storage-compat",cw="@firebase/firestore",uw="@firebase/firestore-compat",hw="firebase",fw="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na="[DEFAULT]",dw={[Oa]:"fire-core",[$E]:"fire-core-compat",[HE]:"fire-analytics",[qE]:"fire-analytics-compat",[zE]:"fire-app-check",[KE]:"fire-app-check-compat",[GE]:"fire-auth",[WE]:"fire-auth-compat",[QE]:"fire-rtdb",[YE]:"fire-rtdb-compat",[XE]:"fire-fn",[JE]:"fire-fn-compat",[ZE]:"fire-iid",[tw]:"fire-iid-compat",[ew]:"fire-fcm",[nw]:"fire-fcm-compat",[rw]:"fire-perf",[sw]:"fire-perf-compat",[iw]:"fire-rc",[ow]:"fire-rc-compat",[aw]:"fire-gcs",[lw]:"fire-gcs-compat",[cw]:"fire-fst",[uw]:"fire-fst-compat","fire-js":"fire-js",[hw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new Map,Ma=new Map;function pw(e,t){try{e.container.addComponent(t)}catch(n){Vn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function xi(e){const t=e.name;if(Ma.has(t))return Vn.debug(`There were multiple attempts to register component ${t}.`),!1;Ma.set(t,e);for(const n of Vi.values())pw(n,e);return!0}function mw(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},on=new md("app","Firebase",gw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw on.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=fw;function vd(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Na,automaticDataCollectionEnabled:!1},t),s=r.name;if(typeof s!="string"||!s)throw on.create("bad-app-name",{appName:String(s)});if(n||(n=dd()),!n)throw on.create("no-options");const i=Vi.get(s);if(i){if(Va(n,i.options)&&Va(r,i.config))return i;throw on.create("duplicate-app",{appName:s})}const o=new AE(s);for(const l of Ma.values())o.addComponent(l);const a=new _w(n,r,o);return Vi.set(s,a),a}function vw(e=Na){const t=Vi.get(e);if(!t&&e===Na&&dd())return vd();if(!t)throw on.create("no-app",{appName:e});return t}function lr(e,t,n){var r;let s=(r=dw[e])!==null&&r!==void 0?r:e;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${t}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Vn.warn(a.join(" "));return}xi(new fs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="firebase-heartbeat-database",ww=1,ds="firebase-heartbeat-store";let Xo=null;function Ed(){return Xo||(Xo=LE(Ew,ww,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ds)}catch(n){console.warn(n)}}}}).catch(e=>{throw on.create("idb-open",{originalErrorMessage:e.message})})),Xo}async function Tw(e){try{const n=(await Ed()).transaction(ds),r=await n.objectStore(ds).get(wd(e));return await n.done,r}catch(t){if(t instanceof br)Vn.warn(t.message);else{const n=on.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Vn.warn(n.message)}}}async function Hu(e,t){try{const r=(await Ed()).transaction(ds,"readwrite");await r.objectStore(ds).put(t,wd(e)),await r.done}catch(n){if(n instanceof br)Vn.warn(n.message);else{const r=on.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vn.warn(r.message)}}}function wd(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=1024,Aw=30*24*60*60*1e3;class Rw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Sw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ku();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Aw}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ku(),{heartbeatsToSend:r,unsentEntries:s}=bw(this._heartbeatsCache.heartbeats),i=Pi(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Ku(){return new Date().toISOString().substring(0,10)}function bw(e,t=Iw){const n=[];let r=e.slice();for(const s of e){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),zu(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),zu(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Sw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pd()?_E().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Tw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Hu(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Hu(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function zu(e){return Pi(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(e){xi(new fs("platform-logger",t=>new BE(t),"PRIVATE")),xi(new fs("heartbeat",t=>new Rw(t),"PRIVATE")),lr(Oa,qu,e),lr(Oa,qu,"esm2017"),lr("fire-js","")}Pw("");var Cw="firebase",Vw="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lr(Cw,Vw,"app");var xw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},x,Vl=Vl||{},G=xw||self;function lo(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Ns(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function Dw(e){return Object.prototype.hasOwnProperty.call(e,Jo)&&e[Jo]||(e[Jo]=++Ow)}var Jo="closure_uid_"+(1e9*Math.random()>>>0),Ow=0;function Nw(e,t,n){return e.call.apply(e.bind,arguments)}function Mw(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),e.apply(t,s)}}return function(){return e.apply(t,arguments)}}function Kt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Kt=Nw:Kt=Mw,Kt.apply(null,arguments)}function ni(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Dt(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[s].apply(r,o)}}function dn(){this.s=this.s,this.o=this.o}var kw=0;dn.prototype.s=!1;dn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),kw!=0)&&Dw(this)};dn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Td=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function xl(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Gu(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(lo(r)){const s=e.length||0,i=r.length||0;e.length=s+i;for(let o=0;o<i;o++)e[s+o]=r[o]}else e.push(r)}}function zt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}zt.prototype.h=function(){this.defaultPrevented=!0};var Lw=function(){if(!G.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};G.addEventListener("test",n,t),G.removeEventListener("test",n,t)}catch{}return e}();function ps(e){return/^[\s\xa0]*$/.test(e)}function co(){var e=G.navigator;return e&&(e=e.userAgent)?e:""}function Pe(e){return co().indexOf(e)!=-1}function Dl(e){return Dl[" "](e),e}Dl[" "]=function(){};function Fw(e,t){var n=VT;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var Uw=Pe("Opera"),_r=Pe("Trident")||Pe("MSIE"),Id=Pe("Edge"),ka=Id||_r,Ad=Pe("Gecko")&&!(co().toLowerCase().indexOf("webkit")!=-1&&!Pe("Edge"))&&!(Pe("Trident")||Pe("MSIE"))&&!Pe("Edge"),Bw=co().toLowerCase().indexOf("webkit")!=-1&&!Pe("Edge");function Rd(){var e=G.document;return e?e.documentMode:void 0}var La;t:{var Zo="",ta=function(){var e=co();if(Ad)return/rv:([^\);]+)(\)|;)/.exec(e);if(Id)return/Edge\/([\d\.]+)/.exec(e);if(_r)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(Bw)return/WebKit\/(\S+)/.exec(e);if(Uw)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(ta&&(Zo=ta?ta[1]:""),_r){var ea=Rd();if(ea!=null&&ea>parseFloat(Zo)){La=String(ea);break t}}La=Zo}var Fa;if(G.document&&_r){var Wu=Rd();Fa=Wu||parseInt(La,10)||void 0}else Fa=void 0;var jw=Fa;function ms(e,t){if(zt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ad){t:{try{Dl(t.nodeName);var s=!0;break t}catch{}s=!1}s||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:$w[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ms.$.h.call(this)}}Dt(ms,zt);var $w={2:"touch",3:"pen",4:"mouse"};ms.prototype.h=function(){ms.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ms="closure_listenable_"+(1e6*Math.random()|0),qw=0;function Hw(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=s,this.key=++qw,this.fa=this.ia=!1}function uo(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Ol(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Kw(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function bd(e){const t={};for(const n in e)t[n]=e[n];return t}const Qu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Sd(e,t){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)e[n]=r[n];for(let i=0;i<Qu.length;i++)n=Qu[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ho(e){this.src=e,this.g={},this.h=0}ho.prototype.add=function(e,t,n,r,s){var i=e.toString();e=this.g[i],e||(e=this.g[i]=[],this.h++);var o=Ba(e,t,r,s);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new Hw(t,this.src,i,!!r,s),t.ia=n,e.push(t)),t};function Ua(e,t){var n=t.type;if(n in e.g){var r=e.g[n],s=Td(r,t),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(uo(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Ba(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.fa&&i.listener==t&&i.capture==!!n&&i.la==r)return s}return-1}var Nl="closure_lm_"+(1e6*Math.random()|0),na={};function Pd(e,t,n,r,s){if(r&&r.once)return Vd(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)Pd(e,t[i],n,r,s);return null}return n=Ll(n),e&&e[Ms]?e.O(t,n,Ns(r)?!!r.capture:!!r,s):Cd(e,t,n,!1,r,s)}function Cd(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var o=Ns(s)?!!s.capture:!!s,a=kl(e);if(a||(e[Nl]=a=new ho(e)),n=a.add(t,n,r,o,i),n.proxy)return n;if(r=zw(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Lw||(s=o),s===void 0&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(Dd(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function zw(){function e(n){return t.call(e.src,e.listener,n)}const t=Gw;return e}function Vd(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)Vd(e,t[i],n,r,s);return null}return n=Ll(n),e&&e[Ms]?e.P(t,n,Ns(r)?!!r.capture:!!r,s):Cd(e,t,n,!0,r,s)}function xd(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)xd(e,t[i],n,r,s);else r=Ns(r)?!!r.capture:!!r,n=Ll(n),e&&e[Ms]?(e=e.i,t=String(t).toString(),t in e.g&&(i=e.g[t],n=Ba(i,n,r,s),-1<n&&(uo(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete e.g[t],e.h--)))):e&&(e=kl(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ba(t,n,r,s)),(n=-1<e?t[e]:null)&&Ml(n))}function Ml(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Ms])Ua(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Dd(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=kl(t))?(Ua(n,e),n.h==0&&(n.src=null,t[Nl]=null)):uo(e)}}}function Dd(e){return e in na?na[e]:na[e]="on"+e}function Gw(e,t){if(e.fa)e=!0;else{t=new ms(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Ml(e),e=n.call(r,t)}return e}function kl(e){return e=e[Nl],e instanceof ho?e:null}var ra="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ll(e){return typeof e=="function"?e:(e[ra]||(e[ra]=function(t){return e.handleEvent(t)}),e[ra])}function xt(){dn.call(this),this.i=new ho(this),this.S=this,this.J=null}Dt(xt,dn);xt.prototype[Ms]=!0;xt.prototype.removeEventListener=function(e,t,n,r){xd(this,e,t,n,r)};function kt(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new zt(t,e);else if(t instanceof zt)t.target=t.target||e;else{var s=t;t=new zt(r,e),Sd(t,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=t.g=n[i];s=ri(o,r,!0,t)&&s}if(o=t.g=e,s=ri(o,r,!0,t)&&s,s=ri(o,r,!1,t)&&s,n)for(i=0;i<n.length;i++)o=t.g=n[i],s=ri(o,r,!1,t)&&s}xt.prototype.N=function(){if(xt.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)uo(n[r]);delete e.g[t],e.h--}}this.J=null};xt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};xt.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function ri(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Ua(e.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var Fl=G.JSON.stringify;class Ww{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function Qw(){var e=Ul;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class Yw{constructor(){this.h=this.g=null}add(t,n){const r=Od.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Od=new Ww(()=>new Xw,e=>e.reset());class Xw{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Jw(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Zw(e){G.setTimeout(()=>{throw e},0)}let gs,_s=!1,Ul=new Yw,Nd=()=>{const e=G.Promise.resolve(void 0);gs=()=>{e.then(tT)}};var tT=()=>{for(var e;e=Qw();){try{e.h.call(e.g)}catch(n){Zw(n)}var t=Od;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}_s=!1};function fo(e,t){xt.call(this),this.h=e||1,this.g=t||G,this.j=Kt(this.qb,this),this.l=Date.now()}Dt(fo,xt);x=fo.prototype;x.ga=!1;x.T=null;x.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),kt(this,"tick"),this.ga&&(Bl(this),this.start()))}};x.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Bl(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}x.N=function(){fo.$.N.call(this),Bl(this),delete this.g};function jl(e,t,n){if(typeof e=="function")n&&(e=Kt(e,n));else if(e&&typeof e.handleEvent=="function")e=Kt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:G.setTimeout(e,t||0)}function Md(e){e.g=jl(()=>{e.g=null,e.i&&(e.i=!1,Md(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class eT extends dn{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Md(this)}N(){super.N(),this.g&&(G.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ys(e){dn.call(this),this.h=e,this.g={}}Dt(ys,dn);var Yu=[];function kd(e,t,n,r){Array.isArray(n)||(n&&(Yu[0]=n.toString()),n=Yu);for(var s=0;s<n.length;s++){var i=Pd(t,n[s],r||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function Ld(e){Ol(e.g,function(t,n){this.g.hasOwnProperty(n)&&Ml(t)},e),e.g={}}ys.prototype.N=function(){ys.$.N.call(this),Ld(this)};ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function po(){this.g=!0}po.prototype.Ea=function(){this.g=!1};function nT(e,t,n,r,s,i){e.info(function(){if(e.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+`
`+n+`
`+o})}function rT(e,t,n,r,s,i,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+`
`+n+`
`+i+" "+o})}function Jn(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+iT(e,n)+(r?" "+r:"")})}function sT(e,t){e.info(function(){return"TIMEOUT: "+t})}po.prototype.info=function(){};function iT(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Fl(n)}catch{return t}}var kn={},Xu=null;function mo(){return Xu=Xu||new xt}kn.Ta="serverreachability";function Fd(e){zt.call(this,kn.Ta,e)}Dt(Fd,zt);function vs(e){const t=mo();kt(t,new Fd(t))}kn.STAT_EVENT="statevent";function Ud(e,t){zt.call(this,kn.STAT_EVENT,e),this.stat=t}Dt(Ud,zt);function Qt(e){const t=mo();kt(t,new Ud(t,e))}kn.Ua="timingevent";function Bd(e,t){zt.call(this,kn.Ua,e),this.size=t}Dt(Bd,zt);function ks(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return G.setTimeout(function(){e()},t)}var go={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},jd={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function $l(){}$l.prototype.h=null;function Ju(e){return e.h||(e.h=e.i())}function $d(){}var Ls={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ql(){zt.call(this,"d")}Dt(ql,zt);function Hl(){zt.call(this,"c")}Dt(Hl,zt);var ja;function _o(){}Dt(_o,$l);_o.prototype.g=function(){return new XMLHttpRequest};_o.prototype.i=function(){return{}};ja=new _o;function Fs(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new ys(this),this.P=oT,e=ka?125:void 0,this.V=new fo(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new qd}function qd(){this.i=null,this.g="",this.h=!1}var oT=45e3,Hd={},$a={};x=Fs.prototype;x.setTimeout=function(e){this.P=e};function qa(e,t,n){e.L=1,e.A=vo(qe(t)),e.u=n,e.S=!0,Kd(e,null)}function Kd(e,t){e.G=Date.now(),Us(e),e.B=qe(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Zd(n.i,"t",r),e.o=0,n=e.l.J,e.h=new qd,e.g=Ep(e.l,n?t:null,!e.u),0<e.O&&(e.M=new eT(Kt(e.Pa,e,e.g),e.O)),kd(e.U,e.g,"readystatechange",e.nb),t=e.I?bd(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),vs(),nT(e.j,e.v,e.B,e.m,e.W,e.u)}x.nb=function(e){e=e.target;const t=this.M;t&&Ce(e)==3?t.l():this.Pa(e)};x.Pa=function(e){try{if(e==this.g)t:{const u=Ce(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||ka||this.g&&(this.h.h||this.g.ja()||nh(this.g)))){this.J||u!=4||t==7||(t==8||0>=h?vs(3):vs(2)),yo(this);var n=this.g.da();this.ca=n;e:if(zd(this)){var r=nh(this.g);e="";var s=r.length,i=Ce(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),ts(this);var o="";break e}this.h.i=new G.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:i&&t==s-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,rT(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ps(a)){var c=a;break e}}c=null}if(n=c)Jn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ha(this,n);else{this.i=!1,this.s=3,Qt(12),In(this),ts(this);break t}}this.S?(Gd(this,u,o),ka&&this.i&&u==3&&(kd(this.U,this.V,"tick",this.mb),this.V.start())):(Jn(this.j,this.m,o,null),Ha(this,o)),u==4&&In(this),this.i&&!this.J&&(u==4?gp(this.l,this):(this.i=!1,Us(this)))}else ST(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Qt(12)):(this.s=0,Qt(13)),In(this),ts(this)}}}catch{}finally{}};function zd(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function Gd(e,t,n){let r=!0,s;for(;!e.J&&e.o<n.length;)if(s=aT(e,n),s==$a){t==4&&(e.s=4,Qt(14),r=!1),Jn(e.j,e.m,null,"[Incomplete Response]");break}else if(s==Hd){e.s=4,Qt(15),Jn(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Jn(e.j,e.m,s,null),Ha(e,s);zd(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,Qt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yl(t),t.M=!0,Qt(11))):(Jn(e.j,e.m,n,"[Invalid Chunked Response]"),In(e),ts(e))}x.mb=function(){if(this.g){var e=Ce(this.g),t=this.g.ja();this.o<t.length&&(yo(this),Gd(this,e,t),this.i&&e!=4&&Us(this))}};function aT(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?$a:(n=Number(t.substring(n,r)),isNaN(n)?Hd:(r+=1,r+n>t.length?$a:(t=t.slice(r,r+n),e.o=r+n,t)))}x.cancel=function(){this.J=!0,In(this)};function Us(e){e.Y=Date.now()+e.P,Wd(e,e.P)}function Wd(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=ks(Kt(e.lb,e),t)}function yo(e){e.C&&(G.clearTimeout(e.C),e.C=null)}x.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(sT(this.j,this.B),this.L!=2&&(vs(),Qt(17)),In(this),this.s=2,ts(this)):Wd(this,this.Y-e)};function ts(e){e.l.H==0||e.J||gp(e.l,e)}function In(e){yo(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Bl(e.V),Ld(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Ha(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||Ka(n.i,e))){if(!e.K&&Ka(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){t:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Ni(n),Io(n);else break t;Ql(n),Qt(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=ks(Kt(n.ib,n),6e3));if(1>=np(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else An(n,11)}else if((e.K||n.g==e)&&Ni(n),!ps(t))for(s=n.Ja.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=e.g;if(m){const T=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(T){var i=r.i;i.g||T.indexOf("spdy")==-1&&T.indexOf("quic")==-1&&T.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Kl(i,i.h),i.h=null))}if(r.F){const R=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;R&&(r.Da=R,gt(r.I,r.F,R))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=vp(r,r.J?r.pa:null,r.Y),o.K){rp(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(yo(a),Us(a)),r.g=o}else pp(r);0<n.j.length&&Ao(n)}else c[0]!="stop"&&c[0]!="close"||An(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?An(n,7):Wl(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}vs(4)}catch{}}function lT(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(lo(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function cT(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(lo(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function Qd(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(lo(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=cT(e),r=lT(e),s=r.length,i=0;i<s;i++)t.call(void 0,r[i],n&&n[i],e)}var Yd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uT(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Cn(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Cn){this.h=e.h,Di(this,e.j),this.s=e.s,this.g=e.g,Oi(this,e.m),this.l=e.l;var t=e.i,n=new Es;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Zu(this,n),this.o=e.o}else e&&(t=String(e).match(Yd))?(this.h=!1,Di(this,t[1]||"",!0),this.s=Hr(t[2]||""),this.g=Hr(t[3]||"",!0),Oi(this,t[4]),this.l=Hr(t[5]||"",!0),Zu(this,t[6]||"",!0),this.o=Hr(t[7]||"")):(this.h=!1,this.i=new Es(null,this.h))}Cn.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Kr(t,th,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Kr(t,th,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Kr(n,n.charAt(0)=="/"?dT:fT,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Kr(n,mT)),e.join("")};function qe(e){return new Cn(e)}function Di(e,t,n){e.j=n?Hr(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Oi(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Zu(e,t,n){t instanceof Es?(e.i=t,gT(e.i,e.h)):(n||(t=Kr(t,pT)),e.i=new Es(t,e.h))}function gt(e,t,n){e.i.set(t,n)}function vo(e){return gt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Hr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Kr(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,hT),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function hT(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var th=/[#\/\?@]/g,fT=/[#\?:]/g,dT=/[#\?]/g,pT=/[#\?@]/g,mT=/#/g;function Es(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function pn(e){e.g||(e.g=new Map,e.h=0,e.i&&uT(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}x=Es.prototype;x.add=function(e,t){pn(this),this.i=null,e=Sr(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Xd(e,t){pn(e),t=Sr(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Jd(e,t){return pn(e),t=Sr(e,t),e.g.has(t)}x.forEach=function(e,t){pn(this),this.g.forEach(function(n,r){n.forEach(function(s){e.call(t,s,r,this)},this)},this)};x.ta=function(){pn(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const s=e[r];for(let i=0;i<s.length;i++)n.push(t[r])}return n};x.Z=function(e){pn(this);let t=[];if(typeof e=="string")Jd(this,e)&&(t=t.concat(this.g.get(Sr(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};x.set=function(e,t){return pn(this),this.i=null,e=Sr(this,e),Jd(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};x.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function Zd(e,t,n){Xd(e,t),0<n.length&&(e.i=null,e.g.set(Sr(e,t),xl(n)),e.h+=n.length)}x.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),e.push(s)}}return this.i=e.join("&")};function Sr(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function gT(e,t){t&&!e.j&&(pn(e),e.i=null,e.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(Xd(this,r),Zd(this,s,n))},e)),e.j=t}var _T=class{constructor(e,t){this.g=e,this.map=t}};function tp(e){this.l=e||yT,G.PerformanceNavigationTiming?(e=G.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(G.g&&G.g.Ka&&G.g.Ka()&&G.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var yT=10;function ep(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function np(e){return e.h?1:e.g?e.g.size:0}function Ka(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Kl(e,t){e.g?e.g.add(t):e.h=t}function rp(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}tp.prototype.cancel=function(){if(this.i=sp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function sp(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return xl(e.i)}var vT=class{stringify(e){return G.JSON.stringify(e,void 0)}parse(e){return G.JSON.parse(e,void 0)}};function ET(){this.g=new vT}function wT(e,t,n){const r=n||"";try{Qd(e,function(s,i){let o=s;Ns(s)&&(o=Fl(s)),t.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw t.push(r+"type="+encodeURIComponent("_badmap")),s}}function TT(e,t){const n=new po;if(G.Image){const r=new Image;r.onload=ni(si,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ni(si,n,r,"TestLoadImage: error",!1,t),r.onabort=ni(si,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ni(si,n,r,"TestLoadImage: timeout",!1,t),G.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function si(e,t,n,r,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(r)}catch{}}function Eo(e){this.l=e.ec||null,this.j=e.ob||!1}Dt(Eo,$l);Eo.prototype.g=function(){return new wo(this.l,this.j)};Eo.prototype.i=function(e){return function(){return e}}({});function wo(e,t){xt.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=zl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Dt(wo,xt);var zl=0;x=wo.prototype;x.open=function(e,t){if(this.readyState!=zl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ws(this)};x.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||G).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};x.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bs(this)),this.readyState=zl};x.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ws(this)),this.g&&(this.readyState=3,ws(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof G.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ip(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function ip(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}x.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Bs(this):ws(this),this.readyState==3&&ip(this)}};x.Za=function(e){this.g&&(this.response=this.responseText=e,Bs(this))};x.Ya=function(e){this.g&&(this.response=e,Bs(this))};x.ka=function(){this.g&&Bs(this)};function Bs(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ws(e)}x.setRequestHeader=function(e,t){this.v.append(e,t)};x.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};x.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function ws(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(wo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var IT=G.JSON.parse;function wt(e){xt.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=op,this.L=this.M=!1}Dt(wt,xt);var op="",AT=/^https?$/i,RT=["POST","PUT"];x=wt.prototype;x.Oa=function(e){this.M=e};x.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ja.g(),this.C=this.u?Ju(this.u):Ju(ja),this.g.onreadystatechange=Kt(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(i){eh(this,i);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=G.FormData&&e instanceof G.FormData,!(0<=Td(RT,t))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{cp(this),0<this.B&&((this.L=bT(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Kt(this.ua,this)):this.A=jl(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(i){eh(this,i)}};function bT(e){return _r&&typeof e.timeout=="number"&&e.ontimeout!==void 0}x.ua=function(){typeof Vl<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kt(this,"timeout"),this.abort(8))};function eh(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ap(e),To(e)}function ap(e){e.F||(e.F=!0,kt(e,"complete"),kt(e,"error"))}x.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,kt(this,"complete"),kt(this,"abort"),To(this))};x.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),To(this,!0)),wt.$.N.call(this)};x.La=function(){this.s||(this.G||this.v||this.l?lp(this):this.kb())};x.kb=function(){lp(this)};function lp(e){if(e.h&&typeof Vl<"u"&&(!e.C[1]||Ce(e)!=4||e.da()!=2)){if(e.v&&Ce(e)==4)jl(e.La,0,e);else if(kt(e,"readystatechange"),Ce(e)==4){e.h=!1;try{const o=e.da();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var s=String(e.I).match(Yd)[1]||null;!s&&G.self&&G.self.location&&(s=G.self.location.protocol.slice(0,-1)),r=!AT.test(s?s.toLowerCase():"")}n=r}if(n)kt(e,"complete"),kt(e,"success");else{e.m=6;try{var i=2<Ce(e)?e.g.statusText:""}catch{i=""}e.j=i+" ["+e.da()+"]",ap(e)}}finally{To(e)}}}}function To(e,t){if(e.g){cp(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||kt(e,"ready");try{n.onreadystatechange=r}catch{}}}function cp(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(G.clearTimeout(e.A),e.A=null)}x.isActive=function(){return!!this.g};function Ce(e){return e.g?e.g.readyState:0}x.da=function(){try{return 2<Ce(this)?this.g.status:-1}catch{return-1}};x.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};x.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),IT(t)}};function nh(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case op:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function ST(e){const t={};e=(e.g&&2<=Ce(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(ps(e[r]))continue;var n=Jw(e[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}Kw(t,function(r){return r.join(", ")})}x.Ia=function(){return this.m};x.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function up(e){let t="";return Ol(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Gl(e,t,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=up(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):gt(e,t,n))}function Ur(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function hp(e){this.Ga=0,this.j=[],this.l=new po,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ur("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ur("baseRetryDelayMs",5e3,e),this.hb=Ur("retryDelaySeedMs",1e4,e),this.eb=Ur("forwardChannelMaxRetries",2,e),this.xa=Ur("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new tp(e&&e.concurrentRequestLimit),this.Ja=new ET,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}x=hp.prototype;x.ra=8;x.H=1;function Wl(e){if(fp(e),e.H==3){var t=e.W++,n=qe(e.I);if(gt(n,"SID",e.K),gt(n,"RID",t),gt(n,"TYPE","terminate"),js(e,n),t=new Fs(e,e.l,t),t.L=2,t.A=vo(qe(n)),n=!1,G.navigator&&G.navigator.sendBeacon)try{n=G.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&G.Image&&(new Image().src=t.A,n=!0),n||(t.g=Ep(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Us(t)}yp(e)}function Io(e){e.g&&(Yl(e),e.g.cancel(),e.g=null)}function fp(e){Io(e),e.u&&(G.clearTimeout(e.u),e.u=null),Ni(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&G.clearTimeout(e.m),e.m=null)}function Ao(e){if(!ep(e.i)&&!e.m){e.m=!0;var t=e.Na;gs||Nd(),_s||(gs(),_s=!0),Ul.add(t,e),e.C=0}}function PT(e,t){return np(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=ks(Kt(e.Na,e,t),_p(e,e.C)),e.C++,!0)}x.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const s=new Fs(this,this.l,e);let i=this.s;if(this.U&&(i?(i=bd(i),Sd(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)t:{for(var t=0,n=0;n<this.j.length;n++){e:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break e}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break t}if(t===4096||n===this.j.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=dp(this,s,t),n=qe(this.I),gt(n,"RID",e),gt(n,"CVER",22),this.F&&gt(n,"X-HTTP-Session-Id",this.F),js(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(up(i)))+"&"+t:this.o&&Gl(n,this.o,i)),Kl(this.i,s),this.bb&&gt(n,"TYPE","init"),this.P?(gt(n,"$req",t),gt(n,"SID","null"),s.aa=!0,qa(s,n,null)):qa(s,n,t),this.H=2}}else this.H==3&&(e?rh(this,e):this.j.length==0||ep(this.i)||rh(this))};function rh(e,t){var n;t?n=t.m:n=e.W++;const r=qe(e.I);gt(r,"SID",e.K),gt(r,"RID",n),gt(r,"AID",e.V),js(e,r),e.o&&e.s&&Gl(r,e.o,e.s),n=new Fs(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=dp(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Kl(e.i,n),qa(n,r,t)}function js(e,t){e.na&&Ol(e.na,function(n,r){gt(t,r,n)}),e.h&&Qd({},function(n,r){gt(t,r,n)})}function dp(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Kt(e.h.Va,e.h,e):null;t:{var s=e.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=i,0>c)i=Math.max(0,s[l].g-100),a=!1;else try{wT(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break t}}}return e=e.j.splice(0,n),t.F=e,r}function pp(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;gs||Nd(),_s||(gs(),_s=!0),Ul.add(t,e),e.A=0}}function Ql(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=ks(Kt(e.Ma,e),_p(e,e.A)),e.A++,!0)}x.Ma=function(){if(this.u=null,mp(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=ks(Kt(this.jb,this),e)}};x.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Qt(10),Io(this),mp(this))};function Yl(e){e.B!=null&&(G.clearTimeout(e.B),e.B=null)}function mp(e){e.g=new Fs(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=qe(e.wa);gt(t,"RID","rpc"),gt(t,"SID",e.K),gt(t,"AID",e.V),gt(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&gt(t,"TO",e.qa),gt(t,"TYPE","xmlhttp"),js(e,t),e.o&&e.s&&Gl(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=vo(qe(t)),n.u=null,n.S=!0,Kd(n,e)}x.ib=function(){this.v!=null&&(this.v=null,Io(this),Ql(this),Qt(19))};function Ni(e){e.v!=null&&(G.clearTimeout(e.v),e.v=null)}function gp(e,t){var n=null;if(e.g==t){Ni(e),Yl(e),e.g=null;var r=2}else if(Ka(e.i,t))n=t.F,rp(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var s=e.C;r=mo(),kt(r,new Bd(r,n)),Ao(e)}else pp(e);else if(s=t.s,s==3||s==0&&0<t.ca||!(r==1&&PT(e,t)||r==2&&Ql(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:An(e,5);break;case 4:An(e,10);break;case 3:An(e,6);break;default:An(e,2)}}}function _p(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function An(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=Kt(e.pb,e);n||(n=new Cn("//www.google.com/images/cleardot.gif"),G.location&&G.location.protocol=="http"||Di(n,"https"),vo(n)),TT(n.toString(),r)}else Qt(2);e.H=0,e.h&&e.h.za(t),yp(e),fp(e)}x.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Qt(2)):(this.l.info("Failed to ping google.com"),Qt(1))};function yp(e){if(e.H=0,e.ma=[],e.h){const t=sp(e.i);(t.length!=0||e.j.length!=0)&&(Gu(e.ma,t),Gu(e.ma,e.j),e.i.i.length=0,xl(e.j),e.j.length=0),e.h.ya()}}function vp(e,t,n){var r=n instanceof Cn?qe(n):new Cn(n);if(r.g!="")t&&(r.g=t+"."+r.g),Oi(r,r.m);else{var s=G.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var i=new Cn(null);r&&Di(i,r),t&&(i.g=t),s&&Oi(i,s),n&&(i.l=n),r=i}return n=e.F,t=e.Da,n&&t&&gt(r,n,t),gt(r,"VER",e.ra),js(e,r),r}function Ep(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new wt(new Eo({ob:n})):new wt(e.va),t.Oa(e.J),t}x.isActive=function(){return!!this.h&&this.h.isActive(this)};function wp(){}x=wp.prototype;x.Ba=function(){};x.Aa=function(){};x.za=function(){};x.ya=function(){};x.isActive=function(){return!0};x.Va=function(){};function Mi(){if(_r&&!(10<=Number(jw)))throw Error("Environmental error: no available transport.")}Mi.prototype.g=function(e,t){return new oe(e,t)};function oe(e,t){xt.call(this),this.g=new hp(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ps(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ps(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Pr(this)}Dt(oe,xt);oe.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Qt(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=vp(e,null,e.Y),Ao(e)};oe.prototype.close=function(){Wl(this.g)};oe.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Fl(e),e=n);t.j.push(new _T(t.fb++,e)),t.H==3&&Ao(t)};oe.prototype.N=function(){this.g.h=null,delete this.j,Wl(this.g),delete this.g,oe.$.N.call(this)};function Tp(e){ql.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Dt(Tp,ql);function Ip(){Hl.call(this),this.status=1}Dt(Ip,Hl);function Pr(e){this.g=e}Dt(Pr,wp);Pr.prototype.Ba=function(){kt(this.g,"a")};Pr.prototype.Aa=function(e){kt(this.g,new Tp(e))};Pr.prototype.za=function(e){kt(this.g,new Ip)};Pr.prototype.ya=function(){kt(this.g,"b")};function CT(){this.blockSize=-1}function ve(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Dt(ve,CT);ve.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function sa(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var s=0;16>s;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var i=e.g[3],o=t+(i^n&(s^i))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[1]+3905402710&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(i^n&(s^i))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[5]+1200080426&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(i^n&(s^i))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[9]+2336552879&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(i^n&(s^i))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[13]+4254626195&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(s^i&(n^s))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[6]+3225465664&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^i&(n^s))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[10]+38016083&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^i&(n^s))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[14]+3275163606&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^i&(n^s))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[2]+4243563512&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(n^s^i)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[8]+2272392833&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^i)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[4]+1272893353&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^i)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[0]+3936430074&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^i)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[12]+3873151461&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(s^(n|~i))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[7]+1126891415&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~i))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[3]+2399980690&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~i))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[15]+4264355552&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~i))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[11]+3174756917&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+i&4294967295}ve.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,s=this.h,i=0;i<t;){if(s==0)for(;i<=n;)sa(this,e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(r[s++]=e.charCodeAt(i++),s==this.blockSize){sa(this,r),s=0;break}}else for(;i<t;)if(r[s++]=e[i++],s==this.blockSize){sa(this,r),s=0;break}}this.h=s,this.i+=t};ve.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function ct(e,t){this.h=t;for(var n=[],r=!0,s=e.length-1;0<=s;s--){var i=e[s]|0;r&&i==t||(n[s]=i,r=!1)}this.g=n}var VT={};function Xl(e){return-128<=e&&128>e?Fw(e,function(t){return new ct([t|0],0>t?-1:0)}):new ct([e|0],0>e?-1:0)}function Ve(e){if(isNaN(e)||!isFinite(e))return cr;if(0>e)return Nt(Ve(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=za;return new ct(t,0)}function Ap(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Nt(Ap(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ve(Math.pow(t,8)),r=cr,s=0;s<e.length;s+=8){var i=Math.min(8,e.length-s),o=parseInt(e.substring(s,s+i),t);8>i?(i=Ve(Math.pow(t,i)),r=r.R(i).add(Ve(o))):(r=r.R(n),r=r.add(Ve(o)))}return r}var za=4294967296,cr=Xl(0),Ga=Xl(1),sh=Xl(16777216);x=ct.prototype;x.ea=function(){if(le(this))return-Nt(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:za+r)*t,t*=za}return e};x.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Fe(this))return"0";if(le(this))return"-"+Nt(this).toString(e);for(var t=Ve(Math.pow(e,6)),n=this,r="";;){var s=Li(n,t).g;n=ki(n,s.R(t));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=s,Fe(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};x.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Fe(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function le(e){return e.h==-1}x.X=function(e){return e=ki(this,e),le(e)?-1:Fe(e)?0:1};function Nt(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new ct(n,~e.h).add(Ga)}x.abs=function(){return le(this)?Nt(this):this};x.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,s=0;s<=t;s++){var i=r+(this.D(s)&65535)+(e.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(e.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new ct(n,n[n.length-1]&-2147483648?-1:0)};function ki(e,t){return e.add(Nt(t))}x.R=function(e){if(Fe(this)||Fe(e))return cr;if(le(this))return le(e)?Nt(this).R(Nt(e)):Nt(Nt(this).R(e));if(le(e))return Nt(this.R(Nt(e)));if(0>this.X(sh)&&0>e.X(sh))return Ve(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<e.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(s)>>>16,l=e.D(s)&65535;n[2*r+2*s]+=o*l,ii(n,2*r+2*s),n[2*r+2*s+1]+=i*l,ii(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,ii(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,ii(n,2*r+2*s+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new ct(n,0)};function ii(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Br(e,t){this.g=e,this.h=t}function Li(e,t){if(Fe(t))throw Error("division by zero");if(Fe(e))return new Br(cr,cr);if(le(e))return t=Li(Nt(e),t),new Br(Nt(t.g),Nt(t.h));if(le(t))return t=Li(e,Nt(t)),new Br(Nt(t.g),t.h);if(30<e.g.length){if(le(e)||le(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Ga,r=t;0>=r.X(e);)n=ih(n),r=ih(r);var s=zn(n,1),i=zn(r,1);for(r=zn(r,2),n=zn(n,2);!Fe(r);){var o=i.add(r);0>=o.X(e)&&(s=s.add(n),i=o),r=zn(r,1),n=zn(n,1)}return t=ki(e,s.R(t)),new Br(s,t)}for(s=cr;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Ve(n),o=i.R(t);le(o)||0<o.X(e);)n-=r,i=Ve(n),o=i.R(t);Fe(i)&&(i=Ga),s=s.add(i),e=ki(e,o)}return new Br(s,e)}x.gb=function(e){return Li(this,e).h};x.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new ct(n,this.h&e.h)};x.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new ct(n,this.h|e.h)};x.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new ct(n,this.h^e.h)};function ih(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new ct(n,e.h)}function zn(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,s=[],i=0;i<r;i++)s[i]=0<t?e.D(i+n)>>>t|e.D(i+n+1)<<32-t:e.D(i+n);return new ct(s,e.h)}Mi.prototype.createWebChannel=Mi.prototype.g;oe.prototype.send=oe.prototype.u;oe.prototype.open=oe.prototype.m;oe.prototype.close=oe.prototype.close;go.NO_ERROR=0;go.TIMEOUT=8;go.HTTP_ERROR=6;jd.COMPLETE="complete";$d.EventType=Ls;Ls.OPEN="a";Ls.CLOSE="b";Ls.ERROR="c";Ls.MESSAGE="d";xt.prototype.listen=xt.prototype.O;wt.prototype.listenOnce=wt.prototype.P;wt.prototype.getLastError=wt.prototype.Sa;wt.prototype.getLastErrorCode=wt.prototype.Ia;wt.prototype.getStatus=wt.prototype.da;wt.prototype.getResponseJson=wt.prototype.Wa;wt.prototype.getResponseText=wt.prototype.ja;wt.prototype.send=wt.prototype.ha;wt.prototype.setWithCredentials=wt.prototype.Oa;ve.prototype.digest=ve.prototype.l;ve.prototype.reset=ve.prototype.reset;ve.prototype.update=ve.prototype.j;ct.prototype.add=ct.prototype.add;ct.prototype.multiply=ct.prototype.R;ct.prototype.modulo=ct.prototype.gb;ct.prototype.compare=ct.prototype.X;ct.prototype.toNumber=ct.prototype.ea;ct.prototype.toString=ct.prototype.toString;ct.prototype.getBits=ct.prototype.D;ct.fromNumber=Ve;ct.fromString=Ap;var xT=function(){return new Mi},DT=function(){return mo()},ia=go,OT=jd,NT=kn,oh={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},oi=$d,MT=wt,kT=ve,ur=ct;const ah="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cr="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn=new gd("@firebase/firestore");function jr(){return xn.logLevel}function V(e,...t){if(xn.logLevel<=rt.DEBUG){const n=t.map(Jl);xn.debug(`Firestore (${Cr}): ${e}`,...n)}}function Ne(e,...t){if(xn.logLevel<=rt.ERROR){const n=t.map(Jl);xn.error(`Firestore (${Cr}): ${e}`,...n)}}function yr(e,...t){if(xn.logLevel<=rt.WARN){const n=t.map(Jl);xn.warn(`Firestore (${Cr}): ${e}`,...n)}}function Jl(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z(e="Unexpected state"){const t=`FIRESTORE (${Cr}) INTERNAL ASSERTION FAILED: `+e;throw Ne(t),new Error(t)}function ft(e,t){e||z()}function Y(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class N extends br{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class LT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(jt.UNAUTHENTICATED))}shutdown(){}}class FT{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class UT{constructor(t){this.t=t,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new je;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new je,t.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new je)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ft(typeof r.accessToken=="string"),new Rp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return ft(t===null||typeof t=="string"),new jt(t)}}class BT{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class jT{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new BT(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $T{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qT{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=i=>{i.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,V("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>r(i))};const s=i=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ft(typeof n.token=="string"),this.R=n.token,new $T(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const s=HT(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=t.charAt(s[i]%t.length))}return r}}function st(e,t){return e<t?-1:e>t?1:0}function vr(e,t,n){return e.length===t.length&&e.every((r,s)=>n(r,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new N(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new N(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new N(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new N(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return bt.fromMillis(Date.now())}static fromDate(t){return bt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new bt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?st(this.nanoseconds,t.nanoseconds):st(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Q(t)}static min(){return new Q(new bt(0,0))}static max(){return new Q(new bt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(t,n,r){n===void 0?n=0:n>t.length&&z(),r===void 0?r=t.length-n:r>t.length-n&&z(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ts.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ts?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let s=0;s<r;s++){const i=t.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class _t extends Ts{construct(t,n,r){return new _t(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new N(v.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new _t(n)}static emptyPath(){return new _t([])}}const KT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends Ts{construct(t,n,r){return new Mt(t,n,r)}static isValidIdentifier(t){return KT.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Mt(["__name__"])}static fromServerFormat(t){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new N(v.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<t.length;){const a=t[s];if(a==="\\"){if(s+1===t.length)throw new N(v.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new N(v.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new N(v.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Mt(n)}static emptyPath(){return new Mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(t){this.path=t}static fromPath(t){return new j(_t.fromString(t))}static fromName(t){return new j(_t.fromString(t).popFirst(5))}static empty(){return new j(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&_t.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return _t.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new j(new _t(t.slice()))}}function zT(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=Q.fromTimestamp(r===1e9?new bt(n+1,0):new bt(n,r));return new un(s,j.empty(),t)}function GT(e){return new un(e.readTime,e.key,-1)}class un{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new un(Q.min(),j.empty(),-1)}static max(){return new un(Q.max(),j.empty(),-1)}}function WT(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=j.comparator(e.documentKey,t.documentKey),n!==0?n:st(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $s(e){if(e.code!==v.FAILED_PRECONDITION||e.message!==QT)throw e;V("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new w((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof w?n:w.resolve(n)}catch(n){return w.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):w.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):w.reject(n)}static resolve(t){return new w((n,r)=>{n(t)})}static reject(t){return new w((n,r)=>{r(t)})}static waitFor(t){return new w((n,r)=>{let s=0,i=0,o=!1;t.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(t){let n=w.resolve(!1);for(const r of t)n=n.next(s=>s?w.resolve(s):r());return n}static forEach(t,n){const r=[];return t.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(t,n){return new w((r,s)=>{const i=t.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(t[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(t,n){return new w((r,s)=>{const i=()=>{t()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.V=new je,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new es(t,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=tc(r.target.error);this.V.reject(new es(t,s))}}static open(t,n,r,s){try{return new Zl(n,t.transaction(s,r))}catch(i){throw new es(n,i)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(V("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new JT(n)}}class Rn{constructor(t,n,r){this.name=t,this.version=n,this.p=r,Rn.S(Ci())===12.2&&Ne("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return V("SimpleDb","Removing database:",t),wn(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!pd())return!1;if(Rn.C())return!0;const t=Ci(),n=Rn.S(t),r=0<n&&n<10,s=Rn.v(t),i=0<s&&s<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||i)}static C(){var t;return typeof process<"u"&&((t=process.__PRIVATE_env)===null||t===void 0?void 0:t.F)==="YES"}static M(t,n){return t.store(n)}static S(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(t){const n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(t){return this.db||(V("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new es(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new N(v.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new N(v.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new es(t,o))},s.onupgradeneeded=i=>{V("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.p.N(o,s.transaction,i.oldVersion,this.version).next(()=>{V("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(t){this.L=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(t);const a=Zl.open(this.db,t,i?"readonly":"readwrite",r),l=s(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),w.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(V("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class XT{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return wn(this.k.delete())}}class es extends N{constructor(t,n){super(v.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function qs(e){return e.name==="IndexedDbTransactionError"}class JT{constructor(t){this.store=t}put(t,n){let r;return n!==void 0?(V("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(V("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),wn(r)}add(t){return V("SimpleDb","ADD",this.store.name,t,t),wn(this.store.add(t))}get(t){return wn(this.store.get(t)).next(n=>(n===void 0&&(n=null),V("SimpleDb","GET",this.store.name,t,n),n))}delete(t){return V("SimpleDb","DELETE",this.store.name,t),wn(this.store.delete(t))}count(){return V("SimpleDb","COUNT",this.store.name),wn(this.store.count())}W(t,n){const r=this.options(t,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new w((o,a)=>{i.onerror=l=>{a(l.target.error)},i.onsuccess=l=>{o(l.target.result)}})}{const i=this.cursor(r),o=[];return this.G(i,(a,l)=>{o.push(l)}).next(()=>o)}}j(t,n){const r=this.store.getAll(t,n===null?void 0:n);return new w((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}H(t,n){V("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,n);r.J=!1;const s=this.cursor(r);return this.G(s,(i,o,a)=>a.delete())}Y(t,n){let r;n?r=t:(r={},n=t);const s=this.cursor(r);return this.G(s,n)}Z(t){const n=this.cursor({});return new w((r,s)=>{n.onerror=i=>{const o=tc(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?t(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(t,n){const r=[];return new w((s,i)=>{t.onerror=o=>{i(o.target.error)},t.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const l=new XT(a),c=n(a.primaryKey,a.value,l);if(c instanceof w){const u=c.catch(h=>(l.done(),w.reject(h)));r.push(u)}l.isDone?s():l.$===null?a.continue():a.continue(l.$)}}).next(()=>w.waitFor(r))}options(t,n){let r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const r=this.store.index(t.index);return t.J?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function wn(e){return new w((t,n)=>{e.onsuccess=r=>{const s=r.target.result;t(s)},e.onerror=r=>{const s=tc(r.target.error);n(s)}})}let lh=!1;function tc(e){const t=Rn.S(Ci());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){const r=new N("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return lh||(lh=!0,setTimeout(()=>{throw r},0)),r}}return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}ec._e=-1;function Ro(e){return e==null}function Fi(e){return e===0&&1/e==-1/0}function ZT(e){return typeof e=="number"&&Number.isInteger(e)&&!Fi(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Vr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Sp(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t,n){this.comparator=t,this.root=n||Ot.EMPTY}insert(t,n){return new Et(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(t){return new Et(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ai(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ai(this.root,t,this.comparator,!1)}getReverseIterator(){return new ai(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ai(this.root,t,this.comparator,!0)}}class ai{constructor(t,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?r(t.key,n):1,n&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ot{constructor(t,n,r,s,i){this.key=t,this.value=n,this.color=r??Ot.RED,this.left=s??Ot.EMPTY,this.right=i??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,s,i){return new Ot(t??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const i=r(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return Ot.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw z();const t=this.left.check();if(t!==this.right.check())throw z();return t+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw z()}get value(){throw z()}get color(){throw z()}get left(){throw z()}get right(){throw z()}copy(t,n,r,s,i){return this}insert(t,n,r){return new Ot(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(t){this.comparator=t,this.data=new Et(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new uh(this.data.getIterator())}getIteratorFrom(t){return new uh(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Lt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Lt(this.comparator);return n.data=t,n}}class uh{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(t){this.fields=t,t.sort(Mt.comparator)}static empty(){return new ge([])}unionWith(t){let n=new Lt(Mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new ge(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return vr(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Pp("Invalid base64 string: "+i):i}}(t);return new Gt(n)}static fromUint8Array(t){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(t);return new Gt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return st(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const t0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hn(e){if(ft(!!e),typeof e=="string"){let t=0;const n=t0.exec(e);if(ft(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:At(e.seconds),nanos:At(e.nanos)}}function At(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Dn(e){return typeof e=="string"?Gt.fromBase64String(e):Gt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function rc(e){const t=e.mapValue.fields.__previous_value__;return nc(t)?rc(t):t}function Is(e){const t=hn(e.mapValue.fields.__local_write_time__.timestampValue);return new bt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(t,n,r,s,i,o,a,l,c){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class As{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new As("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof As&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function On(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?nc(e)?4:n0(e)?9007199254740991:10:z()}function Me(e,t){if(e===t)return!0;const n=On(e);if(n!==On(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Is(e).isEqual(Is(t));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=hn(s.timestampValue),a=hn(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,i){return Dn(s.bytesValue).isEqual(Dn(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,i){return At(s.geoPointValue.latitude)===At(i.geoPointValue.latitude)&&At(s.geoPointValue.longitude)===At(i.geoPointValue.longitude)}(e,t);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return At(s.integerValue)===At(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=At(s.doubleValue),a=At(i.doubleValue);return o===a?Fi(o)===Fi(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return vr(e.arrayValue.values||[],t.arrayValue.values||[],Me);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(ch(o)!==ch(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Me(o[l],a[l])))return!1;return!0}(e,t);default:return z()}}function Rs(e,t){return(e.values||[]).find(n=>Me(n,t))!==void 0}function Er(e,t){if(e===t)return 0;const n=On(e),r=On(t);if(n!==r)return st(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return st(e.booleanValue,t.booleanValue);case 2:return function(i,o){const a=At(i.integerValue||i.doubleValue),l=At(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return hh(e.timestampValue,t.timestampValue);case 4:return hh(Is(e),Is(t));case 5:return st(e.stringValue,t.stringValue);case 6:return function(i,o){const a=Dn(i),l=Dn(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=st(a[c],l[c]);if(u!==0)return u}return st(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,o){const a=st(At(i.latitude),At(o.latitude));return a!==0?a:st(At(i.longitude),At(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Er(a[c],l[c]);if(u)return u}return st(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,o){if(i===li.mapValue&&o===li.mapValue)return 0;if(i===li.mapValue)return 1;if(o===li.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const f=st(l[h],u[h]);if(f!==0)return f;const m=Er(a[l[h]],c[u[h]]);if(m!==0)return m}return st(l.length,u.length)}(e.mapValue,t.mapValue);default:throw z()}}function hh(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return st(e,t);const n=hn(e),r=hn(t),s=st(n.seconds,r.seconds);return s!==0?s:st(n.nanos,r.nanos)}function wr(e){return Wa(e)}function Wa(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=hn(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Dn(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return j.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Wa(i);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Wa(n.fields[o])}`;return s+"}"}(e.mapValue):z()}function fh(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Qa(e){return!!e&&"integerValue"in e}function sc(e){return!!e&&"arrayValue"in e}function dh(e){return!!e&&"nullValue"in e}function ph(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function _i(e){return!!e&&"mapValue"in e}function ns(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Vr(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=ns(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ns(e.arrayValue.values[n]);return t}return Object.assign({},e)}function n0(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t){this.value=t}static empty(){return new ce({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!_i(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ns(n)}setAll(t){let n=Mt.emptyPath(),r={},s=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=ns(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(t){const n=this.field(t.popLast());_i(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Me(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=n.mapValue.fields[t.get(r)];_i(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,r){Vr(n,(s,i)=>t[s]=i);for(const s of r)delete t[s]}clone(){return new ce(ns(this.value))}}function Cp(e){const t=[];return Vr(e.fields,(n,r)=>{const s=new Mt([n]);if(_i(r)){const i=Cp(r.mapValue).fields;if(i.length===0)t.push(s);else for(const o of i)t.push(s.child(o))}else t.push(s)}),new ge(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t,n,r,s,i,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(t){return new $t(t,0,Q.min(),Q.min(),Q.min(),ce.empty(),0)}static newFoundDocument(t,n,r,s){return new $t(t,1,n,Q.min(),r,s,0)}static newNoDocument(t,n){return new $t(t,2,n,Q.min(),Q.min(),ce.empty(),0)}static newUnknownDocument(t,n){return new $t(t,3,n,Q.min(),Q.min(),ce.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ce.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ce.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $t&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(t,n){this.position=t,this.inclusive=n}}function mh(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],o=e.position[s];if(i.field.isKeyField()?r=j.comparator(j.fromName(o.referenceValue),n.key):r=Er(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function gh(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Me(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(t,n="asc"){this.field=t,this.dir=n}}function r0(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{}class Rt extends Vp{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new i0(t,n,r):n==="array-contains"?new l0(t,r):n==="in"?new c0(t,r):n==="not-in"?new u0(t,r):n==="array-contains-any"?new h0(t,r):new Rt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new o0(t,r):new a0(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Er(n,this.value)):n!==null&&On(this.value)===On(n)&&this.matchesComparison(Er(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ee extends Vp{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new Ee(t,n)}matches(t){return xp(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function xp(e){return e.op==="and"}function Dp(e){return s0(e)&&xp(e)}function s0(e){for(const t of e.filters)if(t instanceof Ee)return!1;return!0}function Ya(e){if(e instanceof Rt)return e.field.canonicalString()+e.op.toString()+wr(e.value);if(Dp(e))return e.filters.map(t=>Ya(t)).join(",");{const t=e.filters.map(n=>Ya(n)).join(",");return`${e.op}(${t})`}}function Op(e,t){return e instanceof Rt?function(r,s){return s instanceof Rt&&r.op===s.op&&r.field.isEqual(s.field)&&Me(r.value,s.value)}(e,t):e instanceof Ee?function(r,s){return s instanceof Ee&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Op(o,s.filters[a]),!0):!1}(e,t):void z()}function Np(e){return e instanceof Rt?function(n){return`${n.field.canonicalString()} ${n.op} ${wr(n.value)}`}(e):e instanceof Ee?function(n){return n.op.toString()+" {"+n.getFilters().map(Np).join(" ,")+"}"}(e):"Filter"}class i0 extends Rt{constructor(t,n,r){super(t,n,r),this.key=j.fromName(r.referenceValue)}matches(t){const n=j.comparator(t.key,this.key);return this.matchesComparison(n)}}class o0 extends Rt{constructor(t,n){super(t,"in",n),this.keys=Mp("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class a0 extends Rt{constructor(t,n){super(t,"not-in",n),this.keys=Mp("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Mp(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>j.fromName(r.referenceValue))}class l0 extends Rt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return sc(n)&&Rs(n.arrayValue,this.value)}}class c0 extends Rt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Rs(this.value.arrayValue,n)}}class u0 extends Rt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Rs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Rs(this.value.arrayValue,n)}}class h0 extends Rt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!sc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Rs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(t,n=null,r=[],s=[],i=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function _h(e,t=null,n=[],r=[],s=null,i=null,o=null){return new f0(e,t,n,r,s,i,o)}function ic(e){const t=Y(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Ya(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ro(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>wr(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>wr(r)).join(",")),t.ce=n}return t.ce}function oc(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!r0(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Op(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!gh(e.startAt,t.startAt)&&gh(e.endAt,t.endAt)}function Xa(e){return j.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(t,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function d0(e,t,n,r,s,i,o,a){return new xr(e,t,n,r,s,i,o,a)}function kp(e){return new xr(e)}function yh(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Lp(e){return e.collectionGroup!==null}function rs(e){const t=Y(e);if(t.le===null){t.le=[];const n=new Set;for(const i of t.explicitOrderBy)t.le.push(i),n.add(i.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Lt(Mt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||t.le.push(new bs(i,r))}),n.has(Mt.keyField().canonicalString())||t.le.push(new bs(Mt.keyField(),r))}return t.le}function xe(e){const t=Y(e);return t.he||(t.he=p0(t,rs(e))),t.he}function p0(e,t){if(e.limitType==="F")return _h(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new bs(s.field,i)});const n=e.endAt?new Ui(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ui(e.startAt.position,e.startAt.inclusive):null;return _h(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Ja(e,t){const n=e.filters.concat([t]);return new xr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Za(e,t,n){return new xr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function bo(e,t){return oc(xe(e),xe(t))&&e.limitType===t.limitType}function Fp(e){return`${ic(xe(e))}|lt:${e.limitType}`}function Qn(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Np(s)).join(", ")}]`),Ro(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>wr(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>wr(s)).join(",")),`Target(${r})`}(xe(e))}; limitType=${e.limitType})`}function So(e,t){return t.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):j.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(e,t)&&function(r,s){for(const i of rs(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(e,t)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(e,t)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=mh(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,rs(r),s)||r.endAt&&!function(o,a,l){const c=mh(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,rs(r),s))}(e,t)}function m0(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Up(e){return(t,n)=>{let r=!1;for(const s of rs(e)){const i=g0(s,t,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function g0(e,t,n){const r=e.field.isKeyField()?j.comparator(t.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Er(l,c):z()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Vr(this.inner,(n,r)=>{for(const[s,i]of r)t(s,i)})}isEmpty(){return Sp(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=new Et(j.comparator);function He(){return _0}const Bp=new Et(j.comparator);function zr(...e){let t=Bp;for(const n of e)t=t.insert(n.key,n);return t}function jp(e){let t=Bp;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function bn(){return ss()}function $p(){return ss()}function ss(){return new Dr(e=>e.toString(),(e,t)=>e.isEqual(t))}const y0=new Et(j.comparator),v0=new Lt(j.comparator);function tt(...e){let t=v0;for(const n of e)t=t.add(n);return t}const E0=new Lt(st);function w0(){return E0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fi(t)?"-0":t}}function Hp(e){return{integerValue:""+e}}function T0(e,t){return ZT(t)?Hp(t):qp(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this._=void 0}}function I0(e,t,n){return e instanceof Ss?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&nc(i)&&(i=rc(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,t):e instanceof Ps?zp(e,t):e instanceof Cs?Gp(e,t):function(s,i){const o=Kp(s,i),a=vh(o)+vh(s.Ie);return Qa(o)&&Qa(s.Ie)?Hp(a):qp(s.serializer,a)}(e,t)}function A0(e,t,n){return e instanceof Ps?zp(e,t):e instanceof Cs?Gp(e,t):n}function Kp(e,t){return e instanceof Bi?function(r){return Qa(r)||function(i){return!!i&&"doubleValue"in i}(r)}(t)?t:{integerValue:0}:null}class Ss extends Po{}class Ps extends Po{constructor(t){super(),this.elements=t}}function zp(e,t){const n=Wp(t);for(const r of e.elements)n.some(s=>Me(s,r))||n.push(r);return{arrayValue:{values:n}}}class Cs extends Po{constructor(t){super(),this.elements=t}}function Gp(e,t){let n=Wp(t);for(const r of e.elements)n=n.filter(s=>!Me(s,r));return{arrayValue:{values:n}}}class Bi extends Po{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function vh(e){return At(e.integerValue||e.doubleValue)}function Wp(e){return sc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(t,n){this.field=t,this.transform=n}}function b0(e,t){return e.field.isEqual(t.field)&&function(r,s){return r instanceof Ps&&s instanceof Ps||r instanceof Cs&&s instanceof Cs?vr(r.elements,s.elements,Me):r instanceof Bi&&s instanceof Bi?Me(r.Ie,s.Ie):r instanceof Ss&&s instanceof Ss}(e.transform,t.transform)}class S0{constructor(t,n){this.version=t,this.transformResults=n}}class $e{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new $e}static exists(t){return new $e(void 0,t)}static updateTime(t){return new $e(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function yi(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Co{}function Qp(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Xp(e.key,$e.none()):new Hs(e.key,e.data,$e.none());{const n=e.data,r=ce.empty();let s=new Lt(Mt.comparator);for(let i of t.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ln(e.key,r,new ge(s.toArray()),$e.none())}}function P0(e,t,n){e instanceof Hs?function(s,i,o){const a=s.value.clone(),l=wh(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Ln?function(s,i,o){if(!yi(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=wh(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Yp(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function is(e,t,n,r){return e instanceof Hs?function(i,o,a,l){if(!yi(i.precondition,o))return a;const c=i.value.clone(),u=Th(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ln?function(i,o,a,l){if(!yi(i.precondition,o))return a;const c=Th(i.fieldTransforms,l,o),u=o.data;return u.setAll(Yp(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(e,t,n,r):function(i,o,a){return yi(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function C0(e,t){let n=null;for(const r of e.fieldTransforms){const s=t.data.field(r.field),i=Kp(r.transform,s||null);i!=null&&(n===null&&(n=ce.empty()),n.set(r.field,i))}return n||null}function Eh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&vr(r,s,(i,o)=>b0(i,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Hs extends Co{constructor(t,n,r,s=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ln extends Co{constructor(t,n,r,s,i=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Yp(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function wh(e,t,n){const r=new Map;ft(e.length===n.length);for(let s=0;s<n.length;s++){const i=e[s],o=i.transform,a=t.data.field(i.field);r.set(i.field,A0(o,a,n[s]))}return r}function Th(e,t,n){const r=new Map;for(const s of e){const i=s.transform,o=n.data.field(s.field);r.set(s.field,I0(i,o,t))}return r}class Xp extends Co{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class V0 extends Co{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(t,n,r,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&P0(i,t,r[s])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=is(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=is(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=$p();return this.mutations.forEach(s=>{const i=t.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=Qp(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Q.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),tt())}isEqual(t){return this.batchId===t.batchId&&vr(this.mutations,t.mutations,(n,r)=>Eh(n,r))&&vr(this.baseMutations,t.baseMutations,(n,r)=>Eh(n,r))}}class ac{constructor(t,n,r,s){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(t,n,r){ft(t.mutations.length===r.length);let s=function(){return y0}();const i=t.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new ac(t,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,et;function N0(e){switch(e){default:return z();case v.CANCELLED:case v.UNKNOWN:case v.DEADLINE_EXCEEDED:case v.RESOURCE_EXHAUSTED:case v.INTERNAL:case v.UNAVAILABLE:case v.UNAUTHENTICATED:return!1;case v.INVALID_ARGUMENT:case v.NOT_FOUND:case v.ALREADY_EXISTS:case v.PERMISSION_DENIED:case v.FAILED_PRECONDITION:case v.ABORTED:case v.OUT_OF_RANGE:case v.UNIMPLEMENTED:case v.DATA_LOSS:return!0}}function Jp(e){if(e===void 0)return Ne("GRPC error has no .code"),v.UNKNOWN;switch(e){case It.OK:return v.OK;case It.CANCELLED:return v.CANCELLED;case It.UNKNOWN:return v.UNKNOWN;case It.DEADLINE_EXCEEDED:return v.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return v.RESOURCE_EXHAUSTED;case It.INTERNAL:return v.INTERNAL;case It.UNAVAILABLE:return v.UNAVAILABLE;case It.UNAUTHENTICATED:return v.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return v.INVALID_ARGUMENT;case It.NOT_FOUND:return v.NOT_FOUND;case It.ALREADY_EXISTS:return v.ALREADY_EXISTS;case It.PERMISSION_DENIED:return v.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return v.FAILED_PRECONDITION;case It.ABORTED:return v.ABORTED;case It.OUT_OF_RANGE:return v.OUT_OF_RANGE;case It.UNIMPLEMENTED:return v.UNIMPLEMENTED;case It.DATA_LOSS:return v.DATA_LOSS;default:return z()}}(et=It||(It={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=new ur([4294967295,4294967295],0);function Ih(e){const t=M0().encode(e),n=new kT;return n.update(t),new Uint8Array(n.digest())}function Ah(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new ur([n,r],0),new ur([s,i],0)]}class lc{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Gr(`Invalid padding: ${n}`);if(r<0)throw new Gr(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Gr(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Gr(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=ur.fromNumber(this.Te)}de(t,n,r){let s=t.add(n.multiply(ur.fromNumber(r)));return s.compare(k0)===1&&(s=new ur([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=Ih(t),[r,s]=Ah(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const s=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),o=new lc(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=Ih(t),[r,s]=Ah(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Gr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(t,n,r,s,i){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const s=new Map;return s.set(t,Ks.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Vo(Q.min(),s,new Et(st),He(),tt())}}class Ks{constructor(t,n,r,s,i){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Ks(r,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(t,n,r,s){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=s}}class Zp{constructor(t,n){this.targetId=t,this.fe=n}}class tm{constructor(t,n,r=Gt.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Rh{constructor(){this.ge=0,this.pe=Sh(),this.ye=Gt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=tt(),n=tt(),r=tt();return this.pe.forEach((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:z()}}),new Ks(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=Sh()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,ft(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class L0{constructor(t){this.Be=t,this.ke=new Map,this.qe=He(),this.Qe=bh(),this.Ke=new Et(st)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:z()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(t){const n=t.targetId,r=t.fe.count,s=this.Ye(n);if(s){const i=s.target;if(Xa(i))if(r===0){const o=new j(i.path);this.We(n,o,$t.newNoDocument(o,Q.min()))}else ft(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),l=a?this.et(a,t,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Dn(r).toUint8Array()}catch(l){if(l instanceof Pp)return yr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new lc(o,s,i)}catch(l){return yr(l instanceof Gr?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Be.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;t.mightContain(a)||(this.We(n,i,null),s++)}),s}it(t){const n=new Map;this.ke.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&Xa(a.target)){const l=new j(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,$t.newNoDocument(l,t))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=tt();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(t));const s=new Vo(t,n,this.Ke,this.qe,r);return this.qe=He(),this.Qe=bh(),this.Ke=new Et(st),s}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const s=this.ze(t);this.st(t,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Be.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new Rh,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new Lt(st),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||V("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Be._t(t)}He(t){this.ke.set(t,new Rh),this.Be.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Be.getRemoteKeysForTarget(t).has(n)}}function bh(){return new Et(j.comparator)}function Sh(){return new Et(j.comparator)}const F0={asc:"ASCENDING",desc:"DESCENDING"},U0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B0={and:"AND",or:"OR"};class j0{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function tl(e,t){return e.useProto3Json||Ro(t)?t:{value:t}}function ji(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function em(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function $0(e,t){return ji(e,t.toTimestamp())}function De(e){return ft(!!e),Q.fromTimestamp(function(n){const r=hn(n);return new bt(r.seconds,r.nanos)}(e))}function cc(e,t){return el(e,t).canonicalString()}function el(e,t){const n=function(s){return new _t(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function nm(e){const t=_t.fromString(e);return ft(am(t)),t}function nl(e,t){return cc(e.databaseId,t.path)}function oa(e,t){const n=nm(t);if(n.get(1)!==e.databaseId.projectId)throw new N(v.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new N(v.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new j(sm(n))}function rm(e,t){return cc(e.databaseId,t)}function q0(e){const t=nm(e);return t.length===4?_t.emptyPath():sm(t)}function rl(e){return new _t(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function sm(e){return ft(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Ph(e,t,n){return{name:nl(e,t),fields:n.value.mapValue.fields}}function H0(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:z()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(ft(u===void 0||typeof u=="string"),Gt.fromBase64String(u||"")):(ft(u===void 0||u instanceof Uint8Array),Gt.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const u=c.code===void 0?v.UNKNOWN:Jp(c.code);return new N(u,c.message||"")}(o);n=new tm(r,s,i,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=oa(e,r.document.name),i=De(r.document.updateTime),o=r.document.createTime?De(r.document.createTime):Q.min(),a=new ce({mapValue:{fields:r.document.fields}}),l=$t.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new vi(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=oa(e,r.document),i=r.readTime?De(r.readTime):Q.min(),o=$t.newNoDocument(s,i),a=r.removedTargetIds||[];n=new vi([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=oa(e,r.document),i=r.removedTargetIds||[];n=new vi([],i,s,null)}else{if(!("filter"in t))return z();{t.filter;const r=t.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new O0(s,i),a=r.targetId;n=new Zp(a,o)}}return n}function K0(e,t){let n;if(t instanceof Hs)n={update:Ph(e,t.key,t.value)};else if(t instanceof Xp)n={delete:nl(e,t.key)};else if(t instanceof Ln)n={update:Ph(e,t.key,t.data),updateMask:tI(t.fieldMask)};else{if(!(t instanceof V0))return z();n={verify:nl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Ss)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ps)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Cs)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Bi)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw z()}(0,r))),t.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:$0(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:z()}(e,t.precondition)),n}function z0(e,t){return e&&e.length>0?(ft(t!==void 0),e.map(n=>function(s,i){let o=s.updateTime?De(s.updateTime):De(i);return o.isEqual(Q.min())&&(o=De(i)),new S0(o,s.transformResults||[])}(n,t))):[]}function G0(e,t){return{documents:[rm(e,t.path)]}}function W0(e,t){const n={structuredQuery:{}},r=t.path;let s;t.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rm(e,s);const i=function(c){if(c.length!==0)return om(Ee.create(c,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:Yn(f.field),direction:X0(f.dir)}}(u))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=tl(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{ut:n,parent:s}}function Q0(e){let t=q0(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ft(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:t=t.child(u.collectionId)}let i=[];n.where&&(i=function(h){const f=im(h);return f instanceof Ee&&Dp(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(T){return new bs(Xn(T.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Ro(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new Ui(m,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,m=h.values||[];return new Ui(m,f)}(n.endAt)),d0(t,s,o,i,a,"F",l,c)}function Y0(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return z()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function im(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Xn(n.unaryFilter.field);return Rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Xn(n.unaryFilter.field);return Rt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Xn(n.unaryFilter.field);return Rt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Xn(n.unaryFilter.field);return Rt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return z()}}(e):e.fieldFilter!==void 0?function(n){return Rt.create(Xn(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return z()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Ee.create(n.compositeFilter.filters.map(r=>im(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return z()}}(n.compositeFilter.op))}(e):z()}function X0(e){return F0[e]}function J0(e){return U0[e]}function Z0(e){return B0[e]}function Yn(e){return{fieldPath:e.canonicalString()}}function Xn(e){return Mt.fromServerFormat(e.fieldPath)}function om(e){return e instanceof Rt?function(n){if(n.op==="=="){if(ph(n.value))return{unaryFilter:{field:Yn(n.field),op:"IS_NAN"}};if(dh(n.value))return{unaryFilter:{field:Yn(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ph(n.value))return{unaryFilter:{field:Yn(n.field),op:"IS_NOT_NAN"}};if(dh(n.value))return{unaryFilter:{field:Yn(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yn(n.field),op:J0(n.op),value:n.value}}}(e):e instanceof Ee?function(n){const r=n.getFilters().map(s=>om(s));return r.length===1?r[0]:{compositeFilter:{op:Z0(n.op),filters:r}}}(e):z()}function tI(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function am(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t,n,r,s,i=Q.min(),o=Q.min(),a=Gt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new en(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new en(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new en(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new en(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(t){this.ct=t}}function nI(e){const t=Q0({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Za(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this._n=new sI}addToCollectionParentIndex(t,n){return this._n.add(n),w.resolve()}getCollectionParents(t,n){return w.resolve(this._n.getEntries(n))}addFieldIndex(t,n){return w.resolve()}deleteFieldIndex(t,n){return w.resolve()}deleteAllFieldIndexes(t){return w.resolve()}createTargetIndexes(t,n){return w.resolve()}getDocumentsMatchingTarget(t,n){return w.resolve(null)}getIndexType(t,n){return w.resolve(0)}getFieldIndexes(t,n){return w.resolve([])}getNextCollectionGroupToUpdate(t){return w.resolve(null)}getMinOffset(t,n){return w.resolve(un.min())}getMinOffsetFromCollectionGroup(t,n){return w.resolve(un.min())}updateCollectionGroup(t,n,r){return w.resolve()}updateIndexEntries(t,n){return w.resolve()}}class sI{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n]||new Lt(_t.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(t){return(this.index[t]||new Lt(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new Tr(0)}static Ln(){return new Tr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this.changes=new Dr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,$t.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?w.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t,n,r,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(r!==null&&is(r.mutation,s,ge.empty(),bt.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,tt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=tt()){const s=bn();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,r).next(i=>{let o=zr();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=bn();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,tt()))}populateOverlays(t,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(t,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,s){let i=He();const o=ss(),a=function(){return ss()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof Ln)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),is(u.mutation,c,u.mutation.getFieldMask(),bt.now())):o.set(c.key,ge.empty())}),this.recalculateAndSaveOverlays(t,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new oI(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const r=ss();let s=new Et((o,a)=>o-a),i=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||ge.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(s.get(a.batchId)||tt()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=$p();u.forEach(f=>{if(!i.has(f)){const m=Qp(n.get(f),r.get(f));m!==null&&h.set(f,m),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,h))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,s){return function(o){return j.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Lp(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,s):this.getDocumentsMatchingCollectionQuery(t,n,r,s)}getNextDocuments(t,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,s-i.size):w.resolve(bn());let a=-1,l=i;return o.next(c=>w.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?w.resolve():this.remoteDocumentCache.getEntry(t,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(t,c,i)).next(()=>this.computeViews(t,l,c,tt())).next(u=>({batchId:a,changes:jp(u)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new j(n)).next(r=>{let s=zr();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,r,s){const i=n.collectionGroup;let o=zr();return this.indexManager.getCollectionParents(t,i).next(a=>w.forEach(a,l=>{const c=function(h,f){return new xr(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(t,c,r,s).next(u=>{u.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,$t.newInvalidDocument(u)))});let a=zr();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&is(u.mutation,c,ge.empty(),bt.now()),So(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,n){return w.resolve(this.cr.get(n))}saveBundleMetadata(t,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:De(s.createTime)}}(n)),w.resolve()}getNamedQuery(t,n){return w.resolve(this.lr.get(n))}saveNamedQuery(t,n){return this.lr.set(n.name,function(s){return{name:s.name,query:nI(s.bundledQuery),readTime:De(s.readTime)}}(n)),w.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(){this.overlays=new Et(j.comparator),this.hr=new Map}getOverlay(t,n){return w.resolve(this.overlays.get(n))}getOverlays(t,n){const r=bn();return w.forEach(n,s=>this.getOverlay(t,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((s,i)=>{this.ht(t,n,i)}),w.resolve()}removeOverlaysForBatchId(t,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),w.resolve()}getOverlaysForCollection(t,n,r){const s=bn(),i=n.length+1,o=new j(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return w.resolve(s)}getOverlaysForCollectionGroup(t,n,r,s){let i=new Et((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=bn(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=bn(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return w.resolve(a)}ht(t,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new D0(n,r));let i=this.hr.get(n);i===void 0&&(i=tt(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(){this.Pr=new Lt(Vt.Ir),this.Tr=new Lt(Vt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,n){const r=new Vt(t,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Ar(new Vt(t,n))}Rr(t,n){t.forEach(r=>this.removeReference(r,n))}Vr(t){const n=new j(new _t([])),r=new Vt(n,t),s=new Vt(n,t+1),i=[];return this.Tr.forEachInRange([r,s],o=>{this.Ar(o),i.push(o.key)}),i}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const n=new j(new _t([])),r=new Vt(n,t),s=new Vt(n,t+1);let i=tt();return this.Tr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(t){const n=new Vt(t,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class Vt{constructor(t,n){this.key=t,this.pr=n}static Ir(t,n){return j.comparator(t.key,n.key)||st(t.pr,n.pr)}static Er(t,n){return st(t.pr,n.pr)||j.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Lt(Vt.Ir)}checkEmpty(t){return w.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new x0(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.wr=this.wr.add(new Vt(a.key,i)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(t,n){return w.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,s=this.br(r),i=s<0?0:s;return w.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new Vt(n,0),s=new Vt(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],o=>{const a=this.Sr(o.pr);i.push(a)}),w.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Lt(st);return n.forEach(s=>{const i=new Vt(s,0),o=new Vt(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,o],a=>{r=r.add(a.pr)})}),w.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,s=r.length+1;let i=r;j.isDocumentKey(i)||(i=i.child(""));const o=new Vt(new j(i),0);let a=new Lt(st);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.pr)),!0)},o),w.resolve(this.Dr(a))}Dr(t){const n=[];return t.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){ft(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return w.forEach(n.mutations,s=>{const i=new Vt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.wr=r})}Mn(t){}containsKey(t,n){const r=new Vt(n,0),s=this.wr.firstAfterOrEqual(r);return w.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,w.resolve()}Cr(t,n){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){const n=this.br(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t){this.vr=t,this.docs=function(){return new Et(j.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(t,n){let r=He();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():$t.newInvalidDocument(s))}),w.resolve(r)}getDocumentsMatchingQuery(t,n,r,s){let i=He();const o=n.path,a=new j(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||WT(GT(u),r)<=0||(s.has(u.key)||So(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return w.resolve(i)}getAllFromCollectionGroup(t,n,r,s){z()}Fr(t,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new fI(this)}getSize(t){return w.resolve(this.size)}}class fI extends iI{constructor(t){super(),this.ar=t}applyChanges(t){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(t,s)):this.ar.removeEntry(r)}),w.waitFor(n)}getFromCache(t,n){return this.ar.getEntry(t,n)}getAllFromCache(t,n){return this.ar.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(t){this.persistence=t,this.Mr=new Dr(n=>ic(n),oc),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.Or=0,this.Nr=new uc,this.targetCount=0,this.Lr=Tr.Nn()}forEachTarget(t,n){return this.Mr.forEach((r,s)=>n(s)),w.resolve()}getLastRemoteSnapshotVersion(t){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return w.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),w.resolve()}qn(t){this.Mr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Lr=new Tr(n),this.highestTargetId=n),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,n){return this.qn(n),this.targetCount+=1,w.resolve()}updateTargetData(t,n){return this.qn(n),w.resolve()}removeTargetData(t,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(t,n,r){let s=0;const i=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(t,a.targetId)),s++)}),w.waitFor(i).next(()=>s)}getTargetCount(t){return w.resolve(this.targetCount)}getTargetData(t,n){const r=this.Mr.get(n)||null;return w.resolve(r)}addMatchingKeys(t,n,r){return this.Nr.dr(n,r),w.resolve()}removeMatchingKeys(t,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(t,o))}),w.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this.Nr.Vr(n),w.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Nr.gr(n);return w.resolve(r)}containsKey(t,n){return w.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(t,n){this.Br={},this.overlays={},this.kr=new ec(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new dI(this),this.indexManager=new rI,this.remoteDocumentCache=function(s){return new hI(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new eI(n),this.$r=new lI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new cI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new uI(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,n,r){V("MemoryPersistence","Starting transaction:",t);const s=new mI(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(t,n){return w.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class mI extends YT{constructor(t){super(),this.currentSequenceNumber=t}}class hc{constructor(t){this.persistence=t,this.zr=new uc,this.jr=null}static Hr(t){return new hc(t)}get Jr(){if(this.jr)return this.jr;throw z()}addReference(t,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),w.resolve()}removeReference(t,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),w.resolve()}markPotentiallyOrphaned(t,n){return this.Jr.add(n.toString()),w.resolve()}removeTarget(t,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(t,n))}Ur(){this.jr=new Set}Wr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Jr,r=>{const s=j.fromPath(r);return this.Yr(t,s).next(i=>{i||n.removeEntry(s,Q.min())})}).next(()=>(this.jr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Yr(t,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(t){return 0}Yr(t,n){return w.or([()=>w.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(t,n,r,s){this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(t,n){let r=tt(),s=tt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new fc(t,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return gE()?8:Rn.v(Ci())>0?6:4}()}initialize(t,n){this.zi=t,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(t,n,r,s){const i={result:null};return this.ji(t,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Hi(t,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new gI;return this.Ji(t,n,o).next(a=>{if(i.result=a,this.Ui)return this.Yi(t,n,o,a.size)})}).next(()=>i.result)}Yi(t,n,r,s){return r.documentReadCount<this.Wi?(jr()<=rt.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",Qn(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),w.resolve()):(jr()<=rt.DEBUG&&V("QueryEngine","Query:",Qn(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(jr()<=rt.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",Qn(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xe(n))):w.resolve())}ji(t,n){if(yh(n))return w.resolve(null);let r=xe(n);return this.indexManager.getIndexType(t,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Za(n,null,"F"),r=xe(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(i=>{const o=tt(...i);return this.zi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(t,Za(n,null,"F")):this.es(t,c,n,l)}))})))}Hi(t,n,r,s){return yh(n)||s.isEqual(Q.min())?w.resolve(null):this.zi.getDocuments(t,r).next(i=>{const o=this.Zi(n,i);return this.Xi(n,o,r,s)?w.resolve(null):(jr()<=rt.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Qn(n)),this.es(t,o,n,zT(s,-1)).next(a=>a))})}Zi(t,n){let r=new Lt(Up(t));return n.forEach((s,i)=>{So(t,i)&&(r=r.add(i))}),r}Xi(t,n,r,s){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const i=t.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(t,n,r){return jr()<=rt.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",Qn(n)),this.zi.getDocumentsMatchingQuery(t,n,un.min(),r)}es(t,n,r,s){return this.zi.getDocumentsMatchingQuery(t,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(t,n,r,s){this.persistence=t,this.ts=n,this.serializer=s,this.ns=new Et(st),this.rs=new Dr(i=>ic(i),oc),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new aI(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ns))}}function vI(e,t,n,r){return new yI(e,t,n,r)}async function lm(e,t){const n=Y(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(t),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=tt();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function EI(e,t){const n=Y(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,f=h.keys();let m=w.resolve();return f.forEach(T=>{m=m.next(()=>u.getEntry(l,T)).next(R=>{const A=c.docVersions.get(T);ft(A!==null),R.version.compareTo(A)<0&&(h.applyToRemoteDocument(R,c),R.isValidDocument()&&(R.setReadTime(c.commitVersion),u.addEntry(R)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,t,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=tt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,s))})}function cm(e){const t=Y(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Qr.getLastRemoteSnapshotVersion(n))}function wI(e,t){const n=Y(e),r=t.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const a=[];t.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;a.push(n.Qr.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(i,u.addedDocuments,h)));let m=f.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(h)!==null?m=m.withResumeToken(Gt.EMPTY_BYTE_STRING,Q.min()).withLastLimboFreeSnapshotVersion(Q.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),s=s.insert(h,m),function(R,A,C){return R.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(f,m,u)&&a.push(n.Qr.updateTargetData(i,m))});let l=He(),c=tt();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(TI(i,o,t.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!r.isEqual(Q.min())){const u=n.Qr.getLastRemoteSnapshotVersion(i).next(h=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return w.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.ns=s,i))}function TI(e,t,n){let r=tt(),s=tt();return n.forEach(i=>r=r.add(i)),t.getEntries(e,r).next(i=>{let o=He();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Q.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):V("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:s}})}function II(e,t){const n=Y(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function AI(e,t){const n=Y(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,t).next(i=>i?(s=i,w.resolve(s)):n.Qr.allocateTargetId(r).next(o=>(s=new en(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(t,r.targetId)),r})}async function sl(e,t,n){const r=Y(e),s=r.ns.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!qs(o))throw o;V("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ns=r.ns.remove(t),r.rs.delete(s.target)}function Ch(e,t,n){const r=Y(e);let s=Q.min(),i=tt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=Y(l),f=h.rs.get(u);return f!==void 0?w.resolve(h.ns.get(f)):h.Qr.getTargetData(c,u)}(r,o,xe(t)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,t,n?s:Q.min(),n?i:tt())).next(a=>(RI(r,m0(t),a),{documents:a,hs:i})))}function RI(e,t,n){let r=e.ss.get(t)||Q.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),e.ss.set(t,r)}class Vh{constructor(){this.activeTargetIds=w0()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class bI{constructor(){this.no=new Vh,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,n,r){this.ro[t]=n}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new Vh,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{io(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ci=null;function aa(){return ci===null?ci=function(){return 268435456+Math.round(2147483648*Math.random())}():ci++,"0x"+ci.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}onMessage(t){this.Ao=t}close(){this.ho()}send(t){this.lo(t)}Ro(){this.Io()}Vo(t){this.Eo(t)}mo(t){this.Ao(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class VI extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${s}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get wo(){return!1}So(n,r,s,i,o){const a=aa(),l=this.bo(n,r.toUriEncodedString());V("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,i,o),this.Co(n,l,c,s).then(u=>(V("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw yr("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}vo(n,r,s,i,o,a){return this.So(n,r,s,i,o)}Do(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cr}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}bo(n,r){const s=PI[n];return`${this.fo}/v1/${r}:${s}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Co(t,n,r,s){const i=aa();return new Promise((o,a)=>{const l=new MT;l.setWithCredentials(!0),l.listenOnce(OT.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ia.NO_ERROR:const u=l.getResponseJson();V(Bt,`XHR for RPC '${t}' ${i} received:`,JSON.stringify(u)),o(u);break;case ia.TIMEOUT:V(Bt,`RPC '${t}' ${i} timed out`),a(new N(v.DEADLINE_EXCEEDED,"Request time out"));break;case ia.HTTP_ERROR:const h=l.getStatus();if(V(Bt,`RPC '${t}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const T=function(A){const C=A.toLowerCase().replace(/_/g,"-");return Object.values(v).indexOf(C)>=0?C:v.UNKNOWN}(m.status);a(new N(T,m.message))}else a(new N(v.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new N(v.UNAVAILABLE,"Connection failed."));break;default:z()}}finally{V(Bt,`RPC '${t}' ${i} completed.`)}});const c=JSON.stringify(s);V(Bt,`RPC '${t}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Fo(t,n,r){const s=aa(),i=[this.fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=xT(),a=DT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");V(Bt,`Creating RPC '${t}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,m=!1;const T=new CI({lo:A=>{m?V(Bt,`Not sending because RPC '${t}' stream ${s} is closed:`,A):(f||(V(Bt,`Opening RPC '${t}' stream ${s} transport.`),h.open(),f=!0),V(Bt,`RPC '${t}' stream ${s} sending:`,A),h.send(A))},ho:()=>h.close()}),R=(A,C,L)=>{A.listen(C,U=>{try{L(U)}catch(J){setTimeout(()=>{throw J},0)}})};return R(h,oi.EventType.OPEN,()=>{m||V(Bt,`RPC '${t}' stream ${s} transport opened.`)}),R(h,oi.EventType.CLOSE,()=>{m||(m=!0,V(Bt,`RPC '${t}' stream ${s} transport closed`),T.Vo())}),R(h,oi.EventType.ERROR,A=>{m||(m=!0,yr(Bt,`RPC '${t}' stream ${s} transport errored:`,A),T.Vo(new N(v.UNAVAILABLE,"The operation could not be completed")))}),R(h,oi.EventType.MESSAGE,A=>{var C;if(!m){const L=A.data[0];ft(!!L);const U=L,J=U.error||((C=U[0])===null||C===void 0?void 0:C.error);if(J){V(Bt,`RPC '${t}' stream ${s} received error:`,J);const pt=J.status;let K=function(ze){const se=It[ze];if(se!==void 0)return Jp(se)}(pt),Tt=J.message;K===void 0&&(K=v.INTERNAL,Tt="Unknown error status: "+pt+" with message "+J.message),m=!0,T.Vo(new N(K,Tt)),h.close()}else V(Bt,`RPC '${t}' stream ${s} received:`,L),T.mo(L)}}),R(a,NT.STAT_EVENT,A=>{A.stat===oh.PROXY?V(Bt,`RPC '${t}' stream ${s} detected buffering proxy`):A.stat===oh.NOPROXY&&V(Bt,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{T.Ro()},0),T}}function la(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(e){return new j0(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(t,n,r=1e3,s=1.5,i=6e4){this.oi=t,this.timerId=n,this.Mo=r,this.xo=s,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(t){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&V("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),t())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(t,n,r,s,i,o,a,l){this.oi=t,this.$o=r,this.Uo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new um(t,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(t){this.n_(),this.stream.send(t)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(t,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,t!==4?this.jo.reset():n&&n.code===v.RESOURCE_EXHAUSTED?(Ne(n.toString()),Ne("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===v.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.To(n)}i_(){}auth(){this.state=1;const t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Wo===n&&this.o_(r,s)},r=>{t(()=>{const s=new N(v.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(s)})})}o_(t,n){const r=this.s_(this.Wo);this.stream=this.a_(t,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{r(()=>this.__(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(t){return V("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}s_(t){return n=>{this.oi.enqueueAndForget(()=>this.Wo===t?n():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xI extends hm{constructor(t,n,r,s,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}a_(t,n){return this.connection.Fo("Listen",t,n)}onMessage(t){this.jo.reset();const n=H0(this.serializer,t),r=function(i){if(!("targetChange"in i))return Q.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Q.min():o.readTime?De(o.readTime):Q.min()}(t);return this.listener.u_(n,r)}c_(t){const n={};n.database=rl(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Xa(l)?{documents:G0(i,l)}:{query:W0(i,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=em(i,o.resumeToken);const c=tl(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Q.min())>0){a.readTime=ji(i,o.snapshotVersion.toTimestamp());const c=tl(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,t);const r=Y0(this.serializer,t);r&&(n.labels=r),this.t_(n)}l_(t){const n={};n.database=rl(this.serializer),n.removeTarget=t,this.t_(n)}}class DI extends hm{constructor(t,n,r,s,i,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(t,n){return this.connection.Fo("Write",t,n)}onMessage(t){if(ft(!!t.streamToken),this.lastStreamToken=t.streamToken,this.h_){this.jo.reset();const n=z0(t.writeResults,t.commitTime),r=De(t.commitTime);return this.listener.T_(r,n)}return ft(!t.writeResults||t.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const t={};t.database=rl(this.serializer),this.t_(t)}I_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>K0(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI extends class{}{constructor(t,n,r,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new N(v.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(t,el(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new N(v.UNKNOWN,i.toString())})}vo(t,n,r,s,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(t,el(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new N(v.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class NI{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(t){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.y_("Offline")))}set(t){this.b_(),this.m_=0,t==="Online"&&(this.g_=!1),this.y_(t)}y_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}w_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Ne(n),this.g_=!1):V("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(t,n,r,s,i){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(o=>{r.enqueueAndForget(async()=>{Fn(this)&&(V("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Y(l);c.v_.add(4),await zs(c),c.x_.set("Unknown"),c.v_.delete(4),await Do(c)}(this))})}),this.x_=new NI(r,s)}}async function Do(e){if(Fn(e))for(const t of e.F_)await t(!0)}async function zs(e){for(const t of e.F_)await t(!1)}function fm(e,t){const n=Y(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),gc(n)?mc(n):Or(n).Jo()&&pc(n,t))}function dc(e,t){const n=Y(e),r=Or(n);n.C_.delete(t),r.Jo()&&dm(n,t),n.C_.size===0&&(r.Jo()?r.Xo():Fn(n)&&n.x_.set("Unknown"))}function pc(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Q.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Or(e).c_(t)}function dm(e,t){e.O_.Oe(t),Or(e).l_(t)}function mc(e){e.O_=new L0({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Or(e).start(),e.x_.p_()}function gc(e){return Fn(e)&&!Or(e).Ho()&&e.C_.size>0}function Fn(e){return Y(e).v_.size===0}function pm(e){e.O_=void 0}async function kI(e){e.C_.forEach((t,n)=>{pc(e,t)})}async function LI(e,t){pm(e),gc(e)?(e.x_.S_(t),mc(e)):e.x_.set("Unknown")}async function FI(e,t,n){if(e.x_.set("Online"),t instanceof tm&&t.state===2&&t.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.C_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.C_.delete(a),s.O_.removeTarget(a))}(e,t)}catch(r){V("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await $i(e,r)}else if(t instanceof vi?e.O_.$e(t):t instanceof Zp?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(Q.min()))try{const r=await cm(e.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.O_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.C_.get(c);u&&i.C_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.C_.get(l);if(!u)return;i.C_.set(l,u.withResumeToken(Gt.EMPTY_BYTE_STRING,u.snapshotVersion)),dm(i,l);const h=new en(u.target,l,c,u.sequenceNumber);pc(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){V("RemoteStore","Failed to raise snapshot:",r),await $i(e,r)}}async function $i(e,t,n){if(!qs(t))throw t;e.v_.add(1),await zs(e),e.x_.set("Offline"),n||(n=()=>cm(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{V("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await Do(e)})}function mm(e,t){return t().catch(n=>$i(e,n,t))}async function Oo(e){const t=Y(e),n=fn(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;UI(t);)try{const s=await II(t.localStore,r);if(s===null){t.D_.length===0&&n.Xo();break}r=s.batchId,BI(t,s)}catch(s){await $i(t,s)}gm(t)&&_m(t)}function UI(e){return Fn(e)&&e.D_.length<10}function BI(e,t){e.D_.push(t);const n=fn(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function gm(e){return Fn(e)&&!fn(e).Ho()&&e.D_.length>0}function _m(e){fn(e).start()}async function jI(e){fn(e).d_()}async function $I(e){const t=fn(e);for(const n of e.D_)t.I_(n.mutations)}async function qI(e,t,n){const r=e.D_.shift(),s=ac.from(r,t,n);await mm(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Oo(e)}async function HI(e,t){t&&fn(e).P_&&await async function(r,s){if(function(o){return N0(o)&&o!==v.ABORTED}(s.code)){const i=r.D_.shift();fn(r).Zo(),await mm(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Oo(r)}}(e,t),gm(e)&&_m(e)}async function Dh(e,t){const n=Y(e);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");const r=Fn(n);n.v_.add(3),await zs(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await Do(n)}async function KI(e,t){const n=Y(e);t?(n.v_.delete(2),await Do(n)):t||(n.v_.add(2),await zs(n),n.x_.set("Unknown"))}function Or(e){return e.N_||(e.N_=function(n,r,s){const i=Y(n);return i.R_(),new xI(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(e.datastore,e.asyncQueue,{Po:kI.bind(null,e),To:LI.bind(null,e),u_:FI.bind(null,e)}),e.F_.push(async t=>{t?(e.N_.Zo(),gc(e)?mc(e):e.x_.set("Unknown")):(await e.N_.stop(),pm(e))})),e.N_}function fn(e){return e.L_||(e.L_=function(n,r,s){const i=Y(n);return i.R_(),new DI(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(e.datastore,e.asyncQueue,{Po:jI.bind(null,e),To:HI.bind(null,e),E_:$I.bind(null,e),T_:qI.bind(null,e)}),e.F_.push(async t=>{t?(e.L_.Zo(),await Oo(e)):(await e.L_.stop(),e.D_.length>0&&(V("RemoteStore",`Stopping write stream with ${e.D_.length} pending writes`),e.D_=[]))})),e.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(t,n,r,s,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new je,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,s,i){const o=Date.now()+r,a=new _c(t,n,o,s,i);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new N(v.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yc(e,t){if(Ne("AsyncQueue",`${t}: ${e}`),qs(e))return new N(v.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(t){this.comparator=t?(n,r)=>t(n,r)||j.comparator(n.key,r.key):(n,r)=>j.comparator(n.key,r.key),this.keyedMap=zr(),this.sortedSet=new Et(this.comparator)}static emptySet(t){return new hr(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof hr)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new hr;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(){this.B_=new Et(j.comparator)}track(t){const n=t.doc.key,r=this.B_.get(n);r?t.type!==0&&r.type===3?this.B_=this.B_.insert(n,t):t.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.B_=this.B_.remove(n):t.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):z():this.B_=this.B_.insert(n,t)}k_(){const t=[];return this.B_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Ir{constructor(t,n,r,s,i,o,a,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ir(t,n,hr.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bo(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(t=>t.U_())}}class GI{constructor(){this.queries=new Dr(t=>Fp(t),bo),this.onlineState="Unknown",this.W_=new Set}}async function WI(e,t){const n=Y(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.K_()&&t.U_()&&(r=2):(i=new zI,r=t.U_()?0:1);try{switch(r){case 0:i.q_=await n.onListen(s,!0);break;case 1:i.q_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=yc(o,`Initialization of query '${Qn(t.query)}' failed`);return void t.onError(a)}n.queries.set(s,i),i.Q_.push(t),t.G_(n.onlineState),i.q_&&t.z_(i.q_)&&vc(n)}async function QI(e,t){const n=Y(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Q_.indexOf(t);o>=0&&(i.Q_.splice(o,1),i.Q_.length===0?s=t.U_()?0:1:!i.K_()&&t.U_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function YI(e,t){const n=Y(e);let r=!1;for(const s of t){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Q_)a.z_(s)&&(r=!0);o.q_=s}}r&&vc(n)}function XI(e,t,n){const r=Y(e),s=r.queries.get(t);if(s)for(const i of s.Q_)i.onError(n);r.queries.delete(t)}function vc(e){e.W_.forEach(t=>{t.next()})}var il,Nh;(Nh=il||(il={})).j_="default",Nh.Cache="cache";class JI{constructor(t,n,r){this.query=t,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new Ir(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.J_?this.Z_(t)&&(this.H_.next(t),n=!0):this.X_(t,this.onlineState)&&(this.ea(t),n=!0),this.Y_=t,n}onError(t){this.H_.error(t)}G_(t){this.onlineState=t;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,t)&&(this.ea(this.Y_),n=!0),n}X_(t,n){if(!t.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Z_(t){if(t.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(t){t=Ir.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.J_=!0,this.H_.next(t)}U_(){return this.options.source!==il.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(t){this.key=t}}class vm{constructor(t){this.key=t}}class ZI{constructor(t,n){this.query=t,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=tt(),this.mutatedKeys=tt(),this.ha=Up(t),this.Pa=new hr(this.ha)}get Ia(){return this.ua}Ta(t,n){const r=n?n.Ea:new Oh,s=n?n.Pa:this.Pa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((u,h)=>{const f=s.get(u),m=So(this.query,h)?h:null,T=!!f&&this.mutatedKeys.has(f.key),R=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let A=!1;f&&m?f.data.isEqual(m.data)?T!==R&&(r.track({type:3,doc:m}),A=!0):this.da(f,m)||(r.track({type:2,doc:m}),A=!0,(l&&this.ha(m,l)>0||c&&this.ha(m,c)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),A=!0):f&&!m&&(r.track({type:1,doc:f}),A=!0,(l||c)&&(a=!0)),A&&(m?(o=o.add(m),i=R?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:i}}da(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,s){const i=this.Pa;this.Pa=t.Pa,this.mutatedKeys=t.mutatedKeys;const o=t.Ea.k_();o.sort((u,h)=>function(m,T){const R=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z()}};return R(m)-R(T)}(u.type,h.type)||this.ha(u.doc,h.doc)),this.Aa(r),s=s!=null&&s;const a=n&&!s?this.Ra():[],l=this.la.size===0&&this.current&&!s?1:0,c=l!==this.ca;return this.ca=l,o.length!==0||c?{snapshot:new Ir(this.query,t.Pa,i,o,t.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new Oh,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(t){return!this.ua.has(t)&&!!this.Pa.has(t)&&!this.Pa.get(t).hasLocalMutations}Aa(t){t&&(t.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=t.current)}Ra(){if(!this.current)return[];const t=this.la;this.la=tt(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return t.forEach(r=>{this.la.has(r)||n.push(new vm(r))}),this.la.forEach(r=>{t.has(r)||n.push(new ym(r))}),n}fa(t){this.ua=t.hs,this.la=tt();const n=this.Ta(t.documents);return this.applyChanges(n,!0)}ga(){return Ir.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class tA{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class eA{constructor(t){this.key=t,this.pa=!1}}class nA{constructor(t,n,r,s,i,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new Dr(a=>Fp(a),bo),this.Sa=new Map,this.ba=new Set,this.Da=new Et(j.comparator),this.Ca=new Map,this.va=new uc,this.Fa={},this.Ma=new Map,this.xa=Tr.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function rA(e,t,n=!0){const r=Rm(e);let s;const i=r.wa.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ga()):s=await Em(r,t,n,!0),s}async function sA(e,t){const n=Rm(e);await Em(n,t,!0,!1)}async function Em(e,t,n,r){const s=await AI(e.localStore,xe(t)),i=s.targetId,o=n?e.sharedClientState.addLocalQueryTarget(i):"not-current";let a;return r&&(a=await iA(e,t,i,o==="current",s.resumeToken)),e.isPrimaryClient&&n&&fm(e.remoteStore,s),a}async function iA(e,t,n,r,s){e.Na=(h,f,m)=>async function(R,A,C,L){let U=A.view.Ta(C);U.Xi&&(U=await Ch(R.localStore,A.query,!1).then(({documents:Tt})=>A.view.Ta(Tt,U)));const J=L&&L.targetChanges.get(A.targetId),pt=L&&L.targetMismatches.get(A.targetId)!=null,K=A.view.applyChanges(U,R.isPrimaryClient,J,pt);return kh(R,A.targetId,K.Va),K.snapshot}(e,h,f,m);const i=await Ch(e.localStore,t,!0),o=new ZI(t,i.hs),a=o.Ta(i.documents),l=Ks.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",s),c=o.applyChanges(a,e.isPrimaryClient,l);kh(e,n,c.Va);const u=new tA(t,n,o);return e.wa.set(t,u),e.Sa.has(n)?e.Sa.get(n).push(t):e.Sa.set(n,[t]),c.snapshot}async function oA(e,t,n){const r=Y(e),s=r.wa.get(t),i=r.Sa.get(s.targetId);if(i.length>1)return r.Sa.set(s.targetId,i.filter(o=>!bo(o,t))),void r.wa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await sl(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&dc(r.remoteStore,s.targetId),ol(r,s.targetId)}).catch($s)):(ol(r,s.targetId),await sl(r.localStore,s.targetId,!0))}async function aA(e,t){const n=Y(e),r=n.wa.get(t),s=n.Sa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),dc(n.remoteStore,r.targetId))}async function lA(e,t,n){const r=mA(e);try{const s=await function(o,a){const l=Y(o),c=bt.now(),u=a.reduce((m,T)=>m.add(T.key),tt());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let T=He(),R=tt();return l.os.getEntries(m,u).next(A=>{T=A,T.forEach((C,L)=>{L.isValidDocument()||(R=R.add(C))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,T)).next(A=>{h=A;const C=[];for(const L of a){const U=C0(L,h.get(L.key).overlayedDocument);U!=null&&C.push(new Ln(L.key,U,Cp(U.value.mapValue),$e.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,C,a)}).next(A=>{f=A;const C=A.applyToLocalDocumentSet(h,R);return l.documentOverlayCache.saveOverlays(m,A.batchId,C)})}).then(()=>({batchId:f.batchId,changes:jp(h)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Fa[o.currentUser.toKey()];c||(c=new Et(st)),c=c.insert(a,l),o.Fa[o.currentUser.toKey()]=c}(r,s.batchId,n),await Gs(r,s.changes),await Oo(r.remoteStore)}catch(s){const i=yc(s,"Failed to persist write");n.reject(i)}}async function wm(e,t){const n=Y(e);try{const r=await wI(n.localStore,t);t.targetChanges.forEach((s,i)=>{const o=n.Ca.get(i);o&&(ft(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.pa=!0:s.modifiedDocuments.size>0?ft(o.pa):s.removedDocuments.size>0&&(ft(o.pa),o.pa=!1))}),await Gs(n,r,t)}catch(r){await $s(r)}}function Mh(e,t,n){const r=Y(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wa.forEach((i,o)=>{const a=o.view.G_(t);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Y(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const f of h.Q_)f.G_(a)&&(c=!0)}),c&&vc(l)}(r.eventManager,t),s.length&&r.ya.u_(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function cA(e,t,n){const r=Y(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Ca.get(t),i=s&&s.key;if(i){let o=new Et(j.comparator);o=o.insert(i,$t.newNoDocument(i,Q.min()));const a=tt().add(i),l=new Vo(Q.min(),new Map,new Et(st),o,a);await wm(r,l),r.Da=r.Da.remove(i),r.Ca.delete(t),Ec(r)}else await sl(r.localStore,t,!1).then(()=>ol(r,t,n)).catch($s)}async function uA(e,t){const n=Y(e),r=t.batch.batchId;try{const s=await EI(n.localStore,t);Im(n,r,null),Tm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gs(n,s)}catch(s){await $s(s)}}async function hA(e,t,n){const r=Y(e);try{const s=await function(o,a){const l=Y(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(ft(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,t);Im(r,t,n),Tm(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Gs(r,s)}catch(s){await $s(s)}}function Tm(e,t){(e.Ma.get(t)||[]).forEach(n=>{n.resolve()}),e.Ma.delete(t)}function Im(e,t,n){const r=Y(e);let s=r.Fa[r.currentUser.toKey()];if(s){const i=s.get(t);i&&(n?i.reject(n):i.resolve(),s=s.remove(t)),r.Fa[r.currentUser.toKey()]=s}}function ol(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Sa.get(t))e.wa.delete(r),n&&e.ya.La(r,n);e.Sa.delete(t),e.isPrimaryClient&&e.va.Vr(t).forEach(r=>{e.va.containsKey(r)||Am(e,r)})}function Am(e,t){e.ba.delete(t.path.canonicalString());const n=e.Da.get(t);n!==null&&(dc(e.remoteStore,n),e.Da=e.Da.remove(t),e.Ca.delete(n),Ec(e))}function kh(e,t,n){for(const r of n)r instanceof ym?(e.va.addReference(r.key,t),fA(e,r)):r instanceof vm?(V("SyncEngine","Document no longer in limbo: "+r.key),e.va.removeReference(r.key,t),e.va.containsKey(r.key)||Am(e,r.key)):z()}function fA(e,t){const n=t.key,r=n.path.canonicalString();e.Da.get(n)||e.ba.has(r)||(V("SyncEngine","New document in limbo: "+n),e.ba.add(r),Ec(e))}function Ec(e){for(;e.ba.size>0&&e.Da.size<e.maxConcurrentLimboResolutions;){const t=e.ba.values().next().value;e.ba.delete(t);const n=new j(_t.fromString(t)),r=e.xa.next();e.Ca.set(r,new eA(n)),e.Da=e.Da.insert(n,r),fm(e.remoteStore,new en(xe(kp(n.path)),r,"TargetPurposeLimboResolution",ec._e))}}async function Gs(e,t,n){const r=Y(e),s=[],i=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{o.push(r.Na(l,t,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=fc.Ki(l.targetId,c);i.push(u)}}))}),await Promise.all(o),r.ya.u_(s),await async function(l,c){const u=Y(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>w.forEach(c,f=>w.forEach(f.qi,m=>u.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>w.forEach(f.Qi,m=>u.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!qs(h))throw h;V("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const m=u.ns.get(f),T=m.snapshotVersion,R=m.withLastLimboFreeSnapshotVersion(T);u.ns=u.ns.insert(f,R)}}}(r.localStore,i))}async function dA(e,t){const n=Y(e);if(!n.currentUser.isEqual(t)){V("SyncEngine","User change. New user:",t.toKey());const r=await lm(n.localStore,t);n.currentUser=t,function(i,o){i.Ma.forEach(a=>{a.forEach(l=>{l.reject(new N(v.CANCELLED,o))})}),i.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Gs(n,r.us)}}function pA(e,t){const n=Y(e),r=n.Ca.get(t);if(r&&r.pa)return tt().add(r.key);{let s=tt();const i=n.Sa.get(t);if(!i)return s;for(const o of i){const a=n.wa.get(o);s=s.unionWith(a.view.Ia)}return s}}function Rm(e){const t=Y(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=wm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cA.bind(null,t),t.ya.u_=YI.bind(null,t.eventManager),t.ya.La=XI.bind(null,t.eventManager),t}function mA(e){const t=Y(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uA.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hA.bind(null,t),t}class Lh{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=xo(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return vI(this.persistence,new _I,t.initialUser,this.serializer)}createPersistence(t){return new pI(hc.Hr,this.serializer)}createSharedClientState(t){return new bI}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class gA{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Mh(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dA.bind(null,this.syncEngine),await KI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new GI}()}createDatastore(t){const n=xo(t.databaseInfo.databaseId),r=function(i){return new VI(i)}(t.databaseInfo);return function(i,o,a,l){return new OI(i,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,s,i,o,a){return new MI(r,s,i,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>Mh(this.syncEngine,n,0),function(){return xh.D()?new xh:new SI}())}createSyncEngine(t,n){return function(s,i,o,a,l,c,u){const h=new nA(s,i,o,a,l,c);return u&&(h.Oa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t;await async function(r){const s=Y(r);V("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await zs(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.qa(this.observer.next,t)}error(t){this.observer.error?this.qa(this.observer.error,t):Ne("Uncaught Error in snapshot listener:",t.toString())}Qa(){this.muted=!0}qa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(t,n,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=jt.UNAUTHENTICATED,this.clientId=bp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{V("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(V("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new N(v.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new je;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=yc(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function ca(e,t){e.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async s=>{r.isEqual(s)||(await lm(t.localStore,s),r=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Fh(e,t){e.asyncQueue.verifyOperationInProgress();const n=await EA(e);V("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>Dh(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,s)=>Dh(t.remoteStore,s)),e._onlineComponents=t}function vA(e){return e.name==="FirebaseError"?e.code===v.FAILED_PRECONDITION||e.code===v.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function EA(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{await ca(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!vA(n))throw n;yr("Error using user provided cache. Falling back to memory cache: "+n),await ca(e,new Lh)}}else V("FirestoreClient","Using default OfflineComponentProvider"),await ca(e,new Lh);return e._offlineComponents}async function bm(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),await Fh(e,e._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),await Fh(e,new gA))),e._onlineComponents}function wA(e){return bm(e).then(t=>t.syncEngine)}async function TA(e){const t=await bm(e),n=t.eventManager;return n.onListen=rA.bind(null,t.syncEngine),n.onUnlisten=oA.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=sA.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=aA.bind(null,t.syncEngine),n}function IA(e,t,n={}){const r=new je;return e.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new _A({next:f=>{o.enqueueAndForget(()=>QI(i,h)),f.fromCache&&l.source==="server"?c.reject(new N(v.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new JI(a,u,{includeMetadataChanges:!0,ta:!0});return WI(i,h)}(await TA(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(e,t,n){if(!n)throw new N(v.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function AA(e,t,n,r){if(t===!0&&r===!0)throw new N(v.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Bh(e){if(!j.isDocumentKey(e))throw new N(v.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function jh(e){if(j.isDocumentKey(e))throw new N(v.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function No(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":z()}function qi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new N(v.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=No(e);throw new N(v.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new N(v.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new N(v.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}AA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Sm((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new N(v.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new N(v.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new N(v.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Mo{constructor(t,n,r,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $h({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new N(v.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new N(v.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $h(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new LT;switch(r.type){case"firstParty":return new jT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new N(v.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Uh.get(n);r&&(V("ComponentProvider","Removing Datastore"),Uh.delete(n),r.terminate())}(this),Promise.resolve()}}function RA(e,t,n,r={}){var s;const i=(e=qi(e,Mo))._getSettings(),o=`${t}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&yr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=jt.MOCK_USER;else{a=pE(r.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new N(v.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new jt(c)}e._authCredentials=new FT(new Rp(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Un(this.firestore,t,this._query)}}class he{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new an(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new he(this.firestore,t,this._key)}}class an extends Un{constructor(t,n,r){super(t,n,kp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new he(this.firestore,null,new j(t))}withConverter(t){return new an(this.firestore,t,this._path)}}function qh(e,t,...n){if(e=gr(e),Pm("collection","path",t),e instanceof Mo){const r=_t.fromString(t,...n);return jh(r),new an(e,null,r)}{if(!(e instanceof he||e instanceof an))throw new N(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(_t.fromString(t,...n));return jh(r),new an(e.firestore,null,r)}}function bA(e,t,...n){if(e=gr(e),arguments.length===1&&(t=bp.newId()),Pm("doc","path",t),e instanceof Mo){const r=_t.fromString(t,...n);return Bh(r),new he(e,null,new j(r))}{if(!(e instanceof he||e instanceof an))throw new N(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(_t.fromString(t,...n));return Bh(r),new he(e.firestore,e instanceof an?e.converter:null,new j(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new um(this,"async_queue_retry"),this.cu=()=>{const n=la();n&&V("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const t=la();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.lu(),this.hu(t)}enterRestrictedMode(t){if(!this.iu){this.iu=!0,this.au=t||!1;const n=la();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(t){if(this.lu(),this.iu)return new Promise(()=>{});const n=new je;return this.hu(()=>this.iu&&this.au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.ru.push(t),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(t){if(!qs(t))throw t;V("AsyncQueue","Operation failed with retryable error: "+t)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(t){const n=this.nu.then(()=>(this._u=!0,t().catch(r=>{this.ou=r,this._u=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ne("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(t,n,r){this.lu(),this.uu.indexOf(t)>-1&&(n=0);const s=_c.createAndSchedule(this,t,n,r,i=>this.Iu(i));return this.su.push(s),s}lu(){this.ou&&z()}verifyOperationInProgress(){}async Tu(){let t;do t=this.nu,await t;while(t!==this.nu)}Eu(t){for(const n of this.su)if(n.timerId===t)return!0;return!1}du(t){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tu()})}Au(t){this.uu.push(t)}Iu(t){const n=this.su.indexOf(t);this.su.splice(n,1)}}class wc extends Mo{constructor(t,n,r,s){super(t,n,r,s),this.type="firestore",this._queue=function(){return new SA}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Vm(this),this._firestoreClient.terminate()}}function PA(e,t){const n=typeof e=="object"?e:vw(),r=typeof e=="string"?e:t||"(default)",s=mw(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=fE("firestore");i&&RA(s,...i)}return s}function Cm(e){return e._firestoreClient||Vm(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Vm(e){var t,n,r;const s=e._freezeSettings(),i=function(a,l,c,u){return new e0(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Sm(u.experimentalLongPollingOptions),u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new yA(e._authCredentials,e._appCheckCredentials,e._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ar(Gt.fromBase64String(t))}catch(n){throw new N(v.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ar(Gt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new N(v.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new N(v.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new N(v.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return st(this._lat,t._lat)||st(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=/^__.*__$/;class VA{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ln(t,this.data,this.fieldMask,n,this.fieldTransforms):new Hs(t,this.data,n,this.fieldTransforms)}}function xm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z()}}class Rc{constructor(t,n,r,s,i,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(t){return new Rc(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.mu({path:r,gu:!1});return s.pu(t),s}yu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.mu({path:r,gu:!1});return s.Ru(),s}wu(t){return this.mu({path:void 0,gu:!0})}Su(t){return Hi(t,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let t=0;t<this.path.length;t++)this.pu(this.path.get(t))}pu(t){if(t.length===0)throw this.Su("Document fields must not be empty");if(xm(this.Vu)&&CA.test(t))throw this.Su('Document fields cannot begin and end with "__"')}}class xA{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||xo(t)}Cu(t,n,r,s=!1){return new Rc({Vu:t,methodName:n,Du:r,path:Mt.emptyPath(),gu:!1,bu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dm(e){const t=e._freezeSettings(),n=xo(e._databaseId);return new xA(e._databaseId,!!t.ignoreUndefinedProperties,n)}function DA(e,t,n,r,s,i={}){const o=e.Cu(i.merge||i.mergeFields?2:0,t,n,s);Mm("Data must be an object, but it was:",o,r);const a=Om(r,o);let l,c;if(i.merge)l=new ge(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=NA(t,h,n);if(!o.contains(f))throw new N(v.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);kA(u,f)||u.push(f)}l=new ge(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new VA(new ce(a),l,c)}class bc extends Ic{_toFieldTransform(t){return new R0(t.path,new Ss)}isEqual(t){return t instanceof bc}}function OA(e,t,n,r=!1){return Sc(n,e.Cu(r?4:3,t))}function Sc(e,t){if(Nm(e=gr(e)))return Mm("Unsupported field value:",t,e),Om(e,t);if(e instanceof Ic)return function(r,s){if(!xm(s.Vu))throw s.Su(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Su(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.gu&&t.Vu!==4)throw t.Su("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Sc(a,s.wu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(e,t)}return function(r,s){if((r=gr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return T0(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=bt.fromDate(r);return{timestampValue:ji(s.serializer,i)}}if(r instanceof bt){const i=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ji(s.serializer,i)}}if(r instanceof Ac)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ar)return{bytesValue:em(s.serializer,r._byteString)};if(r instanceof he){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:cc(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Su(`Unsupported field value: ${No(r)}`)}(e,t)}function Om(e,t){const n={};return Sp(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vr(e,(r,s)=>{const i=Sc(s,t.fu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Nm(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof bt||e instanceof Ac||e instanceof Ar||e instanceof he||e instanceof Ic)}function Mm(e,t,n){if(!Nm(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=No(n);throw r==="an object"?t.Su(e+" a custom object"):t.Su(e+" "+r)}}function NA(e,t,n){if((t=gr(t))instanceof Tc)return t._internalPath;if(typeof t=="string")return km(e,t);throw Hi("Field path arguments must be of type string or ",e,!1,void 0,n)}const MA=new RegExp("[~\\*/\\[\\]]");function km(e,t,n){if(t.search(MA)>=0)throw Hi(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Tc(...t.split("."))._internalPath}catch{throw Hi(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Hi(e,t,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new N(v.INVALID_ARGUMENT,a+e+l)}function kA(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t,n,r,s,i){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new he(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new LA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Pc("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LA extends Lm{data(){return super.data()}}function Pc(e,t){return typeof t=="string"?km(e,t):t instanceof Tc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new N(v.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cc{}class Fm extends Cc{}function UA(e,t,...n){let r=[];t instanceof Cc&&r.push(t),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof xc).length,a=i.filter(l=>l instanceof Vc).length;if(o>1||o>0&&a>0)throw new N(v.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)e=s._apply(e);return e}class Vc extends Fm{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new Vc(t,n,r)}_apply(t){const n=this._parse(t);return Um(t._query,n),new Un(t.firestore,t.converter,Ja(t._query,n))}_parse(t){const n=Dm(t.firestore);return function(i,o,a,l,c,u,h){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new N(v.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Kh(h,u);const m=[];for(const T of h)m.push(Hh(l,i,T));f={arrayValue:{values:m}}}else f=Hh(l,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Kh(h,u),f=OA(a,o,h,u==="in"||u==="not-in");return Rt.create(c,u,f)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class xc extends Cc{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new xc(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ee.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)Um(o,l),o=Ja(o,l)}(t._query,n),new Un(t.firestore,t.converter,Ja(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Dc extends Fm{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Dc(t,n)}_apply(t){const n=function(s,i,o){if(s.startAt!==null)throw new N(v.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new N(v.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bs(i,o)}(t._query,this._field,this._direction);return new Un(t.firestore,t.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new xr(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(t._query,n))}}function BA(e,t="asc"){const n=t,r=Pc("orderBy",e);return Dc._create(r,n)}function Hh(e,t,n){if(typeof(n=gr(n))=="string"){if(n==="")throw new N(v.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lp(t)&&n.indexOf("/")!==-1)throw new N(v.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(_t.fromString(n));if(!j.isDocumentKey(r))throw new N(v.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fh(e,new j(r))}if(n instanceof he)return fh(e,n._key);throw new N(v.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${No(n)}.`)}function Kh(e,t){if(!Array.isArray(e)||e.length===0)throw new N(v.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Um(e,t){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new N(v.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new N(v.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class jA{convertValue(t,n="none"){switch(On(t)){case 0:return null;case 1:return t.booleanValue;case 2:return At(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Dn(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw z()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Vr(t,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(t){return new Ac(At(t.latitude),At(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=rc(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Is(t));default:return null}}convertTimestamp(t){const n=hn(t);return new bt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=_t.fromString(t);ft(am(r));const s=new As(r.get(1),r.get(3)),i=new j(r.popFirst(5));return s.isEqual(n)||Ne(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qA extends Lm{constructor(t,n,r,s,i,o){super(t,n,r,s,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ei(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Pc("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ei extends qA{data(t={}){return super.data(t)}}class HA{constructor(t,n,r,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new ui(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new Ei(this._firestore,this._userDataWriter,r.key,r,new ui(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new N(v.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Ei(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ui(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Ei(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ui(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:KA(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function KA(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z()}}class zA extends jA{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ar(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new he(this.firestore,null,n)}}function GA(e){e=qi(e,Un);const t=qi(e.firestore,wc),n=Cm(t),r=new zA(t);return FA(e._query),IA(n,e._query).then(s=>new HA(t,r,e,s))}function WA(e,t){const n=qi(e.firestore,wc),r=bA(e),s=$A(e.converter,t);return QA(n,[DA(Dm(e.firestore),"addDoc",r._key,s,e.converter!==null,{}).toMutation(r._key,$e.exists(!1))]).then(()=>r)}function QA(e,t){return function(r,s){const i=new je;return r.asyncQueue.enqueueAndForget(async()=>lA(await wA(r),s,i)),i.promise}(Cm(e),t)}function YA(){return new bc("serverTimestamp")}(function(t,n=!0){(function(s){Cr=s})(yw),xi(new fs("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new wc(new UT(r.getProvider("auth-internal")),new qT(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new N(v.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new As(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),lr(ah,"4.5.0",t),lr(ah,"4.5.0","esm2017")})();const XA={apiKey:"AIzaSyCH1Y-nDy9Rr6z8ZzOEOgVEb6l9wKFJqL4",authDomain:"vue-js-109c9.firebaseapp.com",projectId:"vue-js-109c9",storageBucket:"vue-js-109c9.appspot.com",messagingSenderId:"83129437860",appId:"1:83129437860:web:7dd9fcee39ff99d8716031"},JA=vd(XA),zh=PA(JA),ZA={data(){return{newTemplate:{title:"",description:"",html:"",preview:""},templates:[]}},async mounted(){await this.fetchData()},methods:{async fetchData(){try{const e=UA(qh(zh,"templates"),BA("createdAt","desc"));(await GA(e)).forEach(n=>{this.templates.push({id:n.id,...n.data()})})}catch(e){console.error("Error fetching data:",e)}},async addTemplate(){try{const e=await WA(qh(zh,"templates"),{title:this.newTemplate.title,description:this.newTemplate.description,html:this.newTemplate.html,preview:this.newTemplate.preview,createdAt:YA()});console.log("Document written with ID: ",e.id),this.templates.push({...this.newTemplate,id:e.id}),this.resetNewTemplate()}catch(e){console.error("Error adding document: ",e)}},resetNewTemplate(){this.newTemplate={title:"",description:"",html:"",preview:""}},copyCode(e){const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),alert("Code copied to clipboard!")}}},tR={class:"mx-auto max-w-lg p-4"},eR=q("div",{class:"text-center mb-8"},[q("h1",{class:"text-3xl font-bold mb-2"},"Template Manager"),q("p",{class:"text-gray-600"},"Manage your templates")],-1),nR={class:"mb-8"},rR=q("h2",{class:"text-xl font-semibold mb-2"},"Add New Template",-1),sR=q("label",{for:"templateTitle",class:"block text-gray-700 font-semibold mb-1"},"Template Title:",-1),iR={class:"mt-4"},oR=q("label",{for:"templateDescription",class:"block text-gray-700 font-semibold mb-1"},"Template Description:",-1),aR={class:"mt-4"},lR=q("label",{for:"templateHTML",class:"block text-gray-700 font-semibold mb-1"},"HTML Code:",-1),cR={class:"mt-4"},uR=q("label",{for:"templatePreview",class:"block text-gray-700 font-semibold mb-1"},"Preview:",-1),hR={class:"mt-4"},fR={class:"p-4 bg-gray-100"},dR={class:"text-xl font-semibold mb-2"},pR={class:"text-gray-700"},mR={class:"p-4"},gR={class:"relative mb-4"},_R={class:"whitespace-pre-wrap overflow-x-auto max-w-full rounded-lg border border-gray-300 bg-slate-200 overflow-y-auto max-h-80 p-2"},yR={class:"language-html"},vR=["onClick"],ER=q("hr",{class:"my-4"},null,-1),wR=q("h3",{class:"text-lg font-semibold mb-2"},"Preview:",-1),TR=["innerHTML"];function IR(e,t,n,r,s,i){return ir(),or("div",tR,[eR,q("div",nR,[rR,q("form",{onSubmit:t[5]||(t[5]=_y((...o)=>i.addTemplate&&i.addTemplate(...o),["prevent"]))},[q("div",null,[sR,$r(q("input",{type:"text",id:"templateTitle",required:"","onUpdate:modelValue":t[0]||(t[0]=o=>s.newTemplate.title=o),class:"w-full p-2 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500"},null,512),[[ei,s.newTemplate.title]])]),q("div",iR,[oR,$r(q("textarea",{id:"templateDescription",required:"","onUpdate:modelValue":t[1]||(t[1]=o=>s.newTemplate.description=o),rows:"3",class:"w-full p-2 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500"},null,512),[[ei,s.newTemplate.description]])]),q("div",aR,[lR,$r(q("textarea",{id:"templateHTML",required:"","onUpdate:modelValue":t[2]||(t[2]=o=>s.newTemplate.html=o),rows:"6",class:"w-full rounded-md p-2 border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500"},null,512),[[ei,s.newTemplate.html]])]),q("div",cR,[uR,$r(q("textarea",{id:"templatePreview","onUpdate:modelValue":t[3]||(t[3]=o=>s.newTemplate.preview=o),rows:"3",class:"w-full rounded-md p-2 border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500"},null,512),[[ei,s.newTemplate.preview]])]),q("div",hR,[q("button",{onClick:t[4]||(t[4]=(...o)=>e.submit&&e.submit(...o)),class:"bg-gray-800 text-white py-2 px-4 rounded-md shadow-md hover:bg-gray-900"}," Add Template ")])],32)]),(ir(!0),or(pe,null,f_(s.templates,(o,a)=>(ir(),or("div",{key:a,class:"mb-8 rounded-lg border border-gray-300 overflow-hidden"},[q("div",fR,[q("h2",dR,Fo(o.title),1),q("p",pR,Fo(o.description),1),q("div",mR,[q("div",gR,[q("pre",_R,[Ia("              "),q("code",yR,Fo(o.html),1),Ia(`
            `)]),q("button",{onClick:l=>i.copyCode(o.html),class:"absolute top-0 right-0 m-2 bg-blue-500 text-white px-2 py-1 rounded-md shadow-md hover:bg-blue-600 focus:outline-none"},"Copy",8,vR)]),ER,wR,q("div",{innerHTML:o.preview},null,8,TR)])])]))),128))])}const AR=oo(ZA,[["render",IR]]),RR=Uv({history:ev("/"),routes:[{path:"/",name:"home",component:nE},{path:"/darkmode",name:"darkmode",component:ud},{path:"/code",name:"template",component:AR},{path:"/about",name:"about",component:()=>Cy(()=>import("./AboutView-Cvekdg8I.js"),__vite__mapDeps([0,1]))}]});/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var bR="store";function Nr(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function SR(e){return e!==null&&typeof e=="object"}function PR(e){return e&&typeof e.then=="function"}function CR(e,t){return function(){return e(t)}}function Bm(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function jm(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;ko(e,n,[],e._modules.root,!0),Oc(e,n,t)}function Oc(e,t,n){var r=e._state,s=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var i=e._wrappedGetters,o={},a={},l=ag(!0);l.run(function(){Nr(i,function(c,u){o[u]=CR(c,e),a[u]=ae(function(){return o[u]()}),Object.defineProperty(e.getters,u,{get:function(){return a[u].value},enumerable:!0})})}),e._state=Ds({data:t}),e._scope=l,e.strict&&NR(e),r&&n&&e._withCommit(function(){r.data=null}),s&&s.stop()}function ko(e,t,n,r,s){var i=!n.length,o=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[o],e._modulesNamespaceMap[o]=r),!i&&!s){var a=Nc(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit(function(){a[l]=r.state})}var c=r.context=VR(e,o,n);r.forEachMutation(function(u,h){var f=o+h;xR(e,f,u,c)}),r.forEachAction(function(u,h){var f=u.root?h:o+h,m=u.handler||u;DR(e,f,m,c)}),r.forEachGetter(function(u,h){var f=o+h;OR(e,f,u,c)}),r.forEachChild(function(u,h){ko(e,t,n.concat(h),u,s)})}function VR(e,t,n){var r=t==="",s={dispatch:r?e.dispatch:function(i,o,a){var l=Ki(i,o,a),c=l.payload,u=l.options,h=l.type;return(!u||!u.root)&&(h=t+h),e.dispatch(h,c)},commit:r?e.commit:function(i,o,a){var l=Ki(i,o,a),c=l.payload,u=l.options,h=l.type;(!u||!u.root)&&(h=t+h),e.commit(h,c,u)}};return Object.defineProperties(s,{getters:{get:r?function(){return e.getters}:function(){return $m(e,t)}},state:{get:function(){return Nc(e.state,n)}}}),s}function $m(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(s){if(s.slice(0,r)===t){var i=s.slice(r);Object.defineProperty(n,i,{get:function(){return e.getters[s]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function xR(e,t,n,r){var s=e._mutations[t]||(e._mutations[t]=[]);s.push(function(o){n.call(e,r.state,o)})}function DR(e,t,n,r){var s=e._actions[t]||(e._actions[t]=[]);s.push(function(o){var a=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},o);return PR(a)||(a=Promise.resolve(a)),e._devtoolHook?a.catch(function(l){throw e._devtoolHook.emit("vuex:error",l),l}):a})}function OR(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(i){return n(r.state,r.getters,i.state,i.getters)})}function NR(e){sr(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function Nc(e,t){return t.reduce(function(n,r){return n[r]},e)}function Ki(e,t,n){return SR(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var MR="vuex bindings",Gh="vuex:mutations",ua="vuex:actions",Gn="vuex",kR=0;function LR(e,t){Ly({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[MR]},function(n){n.addTimelineLayer({id:Gh,label:"Vuex Mutations",color:Wh}),n.addTimelineLayer({id:ua,label:"Vuex Actions",color:Wh}),n.addInspector({id:Gn,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===Gn)if(r.filter){var s=[];zm(s,t._modules.root,r.filter,""),r.rootNodes=s}else r.rootNodes=[Km(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===Gn){var s=r.nodeId;$m(t,s),r.state=BR($R(t._modules,s),s==="root"?t.getters:t._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===Gn){var s=r.nodeId,i=r.path;s!=="root"&&(i=s.split("/").filter(Boolean).concat(i)),t._withCommit(function(){r.set(t._state.data,i,r.state.value)})}}),t.subscribe(function(r,s){var i={};r.payload&&(i.payload=r.payload),i.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(Gn),n.sendInspectorState(Gn),n.addTimelineEvent({layerId:Gh,event:{time:Date.now(),title:r.type,data:i}})}),t.subscribeAction({before:function(r,s){var i={};r.payload&&(i.payload=r.payload),r._id=kR++,r._time=Date.now(),i.state=s,n.addTimelineEvent({layerId:ua,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:i}})},after:function(r,s){var i={},o=Date.now()-r._time;i.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(i.payload=r.payload),i.state=s,n.addTimelineEvent({layerId:ua,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:i}})}})})}var Wh=8702998,FR=6710886,UR=16777215,qm={label:"namespaced",textColor:UR,backgroundColor:FR};function Hm(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function Km(e,t){return{id:t||"root",label:Hm(t),tags:e.namespaced?[qm]:[],children:Object.keys(e._children).map(function(n){return Km(e._children[n],t+n+"/")})}}function zm(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[qm]:[]}),Object.keys(t._children).forEach(function(s){zm(e,t._children[s],n,r+s+"/")})}function BR(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),s={state:Object.keys(e.state).map(function(o){return{key:o,editable:!0,value:e.state[o]}})};if(r.length){var i=jR(t);s.getters=Object.keys(i).map(function(o){return{key:o.endsWith("/")?Hm(o):o,editable:!1,value:al(function(){return i[o]})}})}return s}function jR(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var s=t,i=r.pop();r.forEach(function(o){s[o]||(s[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),s=s[o]._custom.value}),s[i]=al(function(){return e[n]})}else t[n]=al(function(){return e[n]})}),t}function $R(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,s,i){var o=r[s];if(!o)throw new Error('Missing module "'+s+'" for path "'+t+'".');return i===n.length-1?o:o._children},t==="root"?e:e.root._children)}function al(e){try{return e()}catch(t){return t}}var we=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},Gm={namespaced:{configurable:!0}};Gm.namespaced.get=function(){return!!this._rawModule.namespaced};we.prototype.addChild=function(t,n){this._children[t]=n};we.prototype.removeChild=function(t){delete this._children[t]};we.prototype.getChild=function(t){return this._children[t]};we.prototype.hasChild=function(t){return t in this._children};we.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};we.prototype.forEachChild=function(t){Nr(this._children,t)};we.prototype.forEachGetter=function(t){this._rawModule.getters&&Nr(this._rawModule.getters,t)};we.prototype.forEachAction=function(t){this._rawModule.actions&&Nr(this._rawModule.actions,t)};we.prototype.forEachMutation=function(t){this._rawModule.mutations&&Nr(this._rawModule.mutations,t)};Object.defineProperties(we.prototype,Gm);var Bn=function(t){this.register([],t,!1)};Bn.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};Bn.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,s){return n=n.getChild(s),r+(n.namespaced?s+"/":"")},"")};Bn.prototype.update=function(t){Wm([],this.root,t)};Bn.prototype.register=function(t,n,r){var s=this;r===void 0&&(r=!0);var i=new we(n,r);if(t.length===0)this.root=i;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],i)}n.modules&&Nr(n.modules,function(a,l){s.register(t.concat(l),a,r)})};Bn.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],s=n.getChild(r);s&&s.runtime&&n.removeChild(r)};Bn.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function Wm(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;Wm(e.concat(r),t.getChild(r),n.modules[r])}}function qR(e){return new ne(e)}var ne=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var s=t.strict;s===void 0&&(s=!1);var i=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Bn(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=i;var o=this,a=this,l=a.dispatch,c=a.commit;this.dispatch=function(f,m){return l.call(o,f,m)},this.commit=function(f,m,T){return c.call(o,f,m,T)},this.strict=s;var u=this._modules.root.state;ko(this,u,[],this._modules.root),Oc(this,u),r.forEach(function(h){return h(n)})},Mc={state:{configurable:!0}};ne.prototype.install=function(t,n){t.provide(n||bR,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&LR(t,this)};Mc.state.get=function(){return this._state.data};Mc.state.set=function(e){};ne.prototype.commit=function(t,n,r){var s=this,i=Ki(t,n,r),o=i.type,a=i.payload,l={type:o,payload:a},c=this._mutations[o];c&&(this._withCommit(function(){c.forEach(function(h){h(a)})}),this._subscribers.slice().forEach(function(u){return u(l,s.state)}))};ne.prototype.dispatch=function(t,n){var r=this,s=Ki(t,n),i=s.type,o=s.payload,a={type:i,payload:o},l=this._actions[i];if(l){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(a,r.state)})}catch{}var c=l.length>1?Promise.all(l.map(function(u){return u(o)})):l[0](o);return new Promise(function(u,h){c.then(function(f){try{r._actionSubscribers.filter(function(m){return m.after}).forEach(function(m){return m.after(a,r.state)})}catch{}u(f)},function(f){try{r._actionSubscribers.filter(function(m){return m.error}).forEach(function(m){return m.error(a,r.state,f)})}catch{}h(f)})})}};ne.prototype.subscribe=function(t,n){return Bm(t,this._subscribers,n)};ne.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return Bm(r,this._actionSubscribers,n)};ne.prototype.watch=function(t,n,r){var s=this;return sr(function(){return t(s.state,s.getters)},n,Object.assign({},r))};ne.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};ne.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),ko(this,this.state,t,this._modules.get(t),r.preserveState),Oc(this,this.state)};ne.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=Nc(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),jm(this)};ne.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};ne.prototype.hotUpdate=function(t){this._modules.update(t),jm(this,!0)};ne.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(ne.prototype,Mc);const HR=qR({state:{reportData:null},mutations:{setReportData(e,t){e.reportData=t}},actions:{fetchReportData({commit:e},t){setTimeout(()=>{e("setReportData",{type:t,content:"Sample report content"})},1e3)},submitReport({state:e}){setTimeout(()=>{console.log("Submitting report data:",e.reportData)},500)}}}),kc=Ey(by);kc.use(RR);kc.use(HR);kc.mount("#app");export{oo as _,q as a,Ia as b,or as c,xs as n,ir as o};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/AboutView-Cvekdg8I.js","assets/AboutView-B_SY1GJM.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
