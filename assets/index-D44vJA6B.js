(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ol(e,t){const n=new Set(e.split(","));return t?r=>n.has(r.toLowerCase()):r=>n.has(r)}const mt={},Jn=[],ue=()=>{},Mm=()=>!1,Hi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),al=e=>e.startsWith("onUpdate:"),Ft=Object.assign,ll=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Lm=Object.prototype.hasOwnProperty,nt=(e,t)=>Lm.call(e,t),H=Array.isArray,Zn=e=>bs(e)==="[object Map]",Ki=e=>bs(e)==="[object Set]",Vc=e=>bs(e)==="[object Date]",X=e=>typeof e=="function",St=e=>typeof e=="string",ln=e=>typeof e=="symbol",dt=e=>e!==null&&typeof e=="object",Lh=e=>(dt(e)||X(e))&&X(e.then)&&X(e.catch),Fh=Object.prototype.toString,bs=e=>Fh.call(e),Fm=e=>bs(e).slice(8,-1),Uh=e=>bs(e)==="[object Object]",cl=e=>St(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Kr=ol(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),zi=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Um=/-(\w)/g,De=zi(e=>e.replace(Um,(t,n)=>n?n.toUpperCase():"")),Bm=/\B([A-Z])/g,Ir=zi(e=>e.replace(Bm,"-$1").toLowerCase()),Gi=zi(e=>e.charAt(0).toUpperCase()+e.slice(1)),Mo=zi(e=>e?`on${Gi(e)}`:""),cn=(e,t)=>!Object.is(e,t),ai=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},_i=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ua=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Dc;const Bh=()=>Dc||(Dc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ul(e){if(H(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=St(r)?Hm(r):ul(r);if(s)for(const i in s)t[i]=s[i]}return t}else if(St(e)||dt(e))return e}const jm=/;(?![^(]*\))/g,$m=/:([^]+)/,qm=/\/\*[^]*?\*\//g;function Hm(e){const t={};return e.replace(qm,"").split(jm).forEach(n=>{if(n){const r=n.split($m);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Ss(e){let t="";if(St(e))t=e;else if(H(e))for(let n=0;n<e.length;n++){const r=Ss(e[n]);r&&(t+=r+" ")}else if(dt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Km="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",zm=ol(Km);function jh(e){return!!e||e===""}function Gm(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Wi(e[r],t[r]);return n}function Wi(e,t){if(e===t)return!0;let n=Vc(e),r=Vc(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=ln(e),r=ln(t),n||r)return e===t;if(n=H(e),r=H(t),n||r)return n&&r?Gm(e,t):!1;if(n=dt(e),r=dt(t),n||r){if(!n||!r)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Wi(e[o],t[o]))return!1}}return String(e)===String(t)}function $h(e,t){return e.findIndex(n=>Wi(n,t))}const Lo=e=>St(e)?e:e==null?"":H(e)||dt(e)&&(e.toString===Fh||!X(e.toString))?JSON.stringify(e,qh,2):String(e),qh=(e,t)=>t&&t.__v_isRef?qh(e,t.value):Zn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],i)=>(n[Fo(r,i)+" =>"]=s,n),{})}:Ki(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Fo(n))}:ln(t)?Fo(t):dt(t)&&!H(t)&&!Uh(t)?String(t):t,Fo=(e,t="")=>{var n;return ln(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let fe;class Hh{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=fe,!t&&fe&&(this.index=(fe.scopes||(fe.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=fe;try{return fe=this,t()}finally{fe=n}}}on(){fe=this}off(){fe=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Wm(e){return new Hh(e)}function Qm(e,t=fe){t&&t.active&&t.effects.push(e)}function Ym(){return fe}let Sn;class hl{constructor(t,n,r,s){this.fn=t,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Qm(this,s)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Nn();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(Xm(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),kn()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=nn,n=Sn;try{return nn=!0,Sn=this,this._runnings++,Oc(this),this.fn()}finally{Nc(this),this._runnings--,Sn=n,nn=t}}stop(){var t;this.active&&(Oc(this),Nc(this),(t=this.onStop)==null||t.call(this),this.active=!1)}}function Xm(e){return e.value}function Oc(e){e._trackId++,e._depsLength=0}function Nc(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)Kh(e.deps[t],e);e.deps.length=e._depsLength}}function Kh(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let nn=!0,ha=0;const zh=[];function Nn(){zh.push(nn),nn=!1}function kn(){const e=zh.pop();nn=e===void 0?!0:e}function fl(){ha++}function dl(){for(ha--;!ha&&fa.length;)fa.shift()()}function Gh(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const r=e.deps[e._depsLength];r!==t?(r&&Kh(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}const fa=[];function Wh(e,t,n){fl();for(const r of e.keys()){let s;r._dirtyLevel<t&&(s??(s=e.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=t),r._shouldSchedule&&(s??(s=e.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&fa.push(r.scheduler)))}dl()}const Qh=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},da=new WeakMap,Pn=Symbol(""),pa=Symbol("");function te(e,t,n){if(nn&&Sn){let r=da.get(e);r||da.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=Qh(()=>r.delete(n))),Gh(Sn,s)}}function Ue(e,t,n,r,s,i){const o=da.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&H(e)){const l=Number(r);o.forEach((c,u)=>{(u==="length"||!ln(u)&&u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":H(e)?cl(n)&&a.push(o.get("length")):(a.push(o.get(Pn)),Zn(e)&&a.push(o.get(pa)));break;case"delete":H(e)||(a.push(o.get(Pn)),Zn(e)&&a.push(o.get(pa)));break;case"set":Zn(e)&&a.push(o.get(Pn));break}fl();for(const l of a)l&&Wh(l,4);dl()}const Jm=ol("__proto__,__v_isRef,__isVue"),Yh=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ln)),kc=Zm();function Zm(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=it(this);for(let i=0,o=this.length;i<o;i++)te(r,"get",i+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(it)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Nn(),fl();const r=it(this)[t].apply(this,n);return dl(),kn(),r}}),e}function tg(e){const t=it(this);return te(t,"has",e),t.hasOwnProperty(e)}class Xh{constructor(t=!1,n=!1){this._isReadonly=t,this._shallow=n}get(t,n,r){const s=this._isReadonly,i=this._shallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?dg:ef:i?tf:Zh).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=H(t);if(!s){if(o&&nt(kc,n))return Reflect.get(kc,n,r);if(n==="hasOwnProperty")return tg}const a=Reflect.get(t,n,r);return(ln(n)?Yh.has(n):Jm(n))||(s||te(t,"get",n),i)?a:ee(a)?o&&cl(n)?a:a.value:dt(a)?s?rf(a):Ps(a):a}}class Jh extends Xh{constructor(t=!1){super(!1,t)}set(t,n,r,s){let i=t[n];if(!this._shallow){const l=hr(i);if(!yi(r)&&!hr(r)&&(i=it(i),r=it(r)),!H(t)&&ee(i)&&!ee(r))return l?!1:(i.value=r,!0)}const o=H(t)&&cl(n)?Number(n)<t.length:nt(t,n),a=Reflect.set(t,n,r,s);return t===it(s)&&(o?cn(r,i)&&Ue(t,"set",n,r):Ue(t,"add",n,r)),a}deleteProperty(t,n){const r=nt(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&Ue(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!ln(n)||!Yh.has(n))&&te(t,"has",n),r}ownKeys(t){return te(t,"iterate",H(t)?"length":Pn),Reflect.ownKeys(t)}}class eg extends Xh{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const ng=new Jh,rg=new eg,sg=new Jh(!0),pl=e=>e,Qi=e=>Reflect.getPrototypeOf(e);function Ks(e,t,n=!1,r=!1){e=e.__v_raw;const s=it(e),i=it(t);n||(cn(t,i)&&te(s,"get",t),te(s,"get",i));const{has:o}=Qi(s),a=r?pl:n?_l:rs;if(o.call(s,t))return a(e.get(t));if(o.call(s,i))return a(e.get(i));e!==s&&e.get(t)}function zs(e,t=!1){const n=this.__v_raw,r=it(n),s=it(e);return t||(cn(e,s)&&te(r,"has",e),te(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function Gs(e,t=!1){return e=e.__v_raw,!t&&te(it(e),"iterate",Pn),Reflect.get(e,"size",e)}function Mc(e){e=it(e);const t=it(this);return Qi(t).has.call(t,e)||(t.add(e),Ue(t,"add",e,e)),this}function Lc(e,t){t=it(t);const n=it(this),{has:r,get:s}=Qi(n);let i=r.call(n,e);i||(e=it(e),i=r.call(n,e));const o=s.call(n,e);return n.set(e,t),i?cn(t,o)&&Ue(n,"set",e,t):Ue(n,"add",e,t),this}function Fc(e){const t=it(this),{has:n,get:r}=Qi(t);let s=n.call(t,e);s||(e=it(e),s=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return s&&Ue(t,"delete",e,void 0),i}function Uc(){const e=it(this),t=e.size!==0,n=e.clear();return t&&Ue(e,"clear",void 0,void 0),n}function Ws(e,t){return function(r,s){const i=this,o=i.__v_raw,a=it(o),l=t?pl:e?_l:rs;return!e&&te(a,"iterate",Pn),o.forEach((c,u)=>r.call(s,l(c),l(u),i))}}function Qs(e,t,n){return function(...r){const s=this.__v_raw,i=it(s),o=Zn(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=s[e](...r),u=n?pl:t?_l:rs;return!t&&te(i,"iterate",l?pa:Pn),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function Qe(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function ig(){const e={get(i){return Ks(this,i)},get size(){return Gs(this)},has:zs,add:Mc,set:Lc,delete:Fc,clear:Uc,forEach:Ws(!1,!1)},t={get(i){return Ks(this,i,!1,!0)},get size(){return Gs(this)},has:zs,add:Mc,set:Lc,delete:Fc,clear:Uc,forEach:Ws(!1,!0)},n={get(i){return Ks(this,i,!0)},get size(){return Gs(this,!0)},has(i){return zs.call(this,i,!0)},add:Qe("add"),set:Qe("set"),delete:Qe("delete"),clear:Qe("clear"),forEach:Ws(!0,!1)},r={get(i){return Ks(this,i,!0,!0)},get size(){return Gs(this,!0)},has(i){return zs.call(this,i,!0)},add:Qe("add"),set:Qe("set"),delete:Qe("delete"),clear:Qe("clear"),forEach:Ws(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Qs(i,!1,!1),n[i]=Qs(i,!0,!1),t[i]=Qs(i,!1,!0),r[i]=Qs(i,!0,!0)}),[e,n,t,r]}const[og,ag,lg,cg]=ig();function ml(e,t){const n=t?e?cg:lg:e?ag:og;return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(nt(n,s)&&s in r?n:r,s,i)}const ug={get:ml(!1,!1)},hg={get:ml(!1,!0)},fg={get:ml(!0,!1)},Zh=new WeakMap,tf=new WeakMap,ef=new WeakMap,dg=new WeakMap;function pg(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function mg(e){return e.__v_skip||!Object.isExtensible(e)?0:pg(Fm(e))}function Ps(e){return hr(e)?e:gl(e,!1,ng,ug,Zh)}function nf(e){return gl(e,!1,sg,hg,tf)}function rf(e){return gl(e,!0,rg,fg,ef)}function gl(e,t,n,r,s){if(!dt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=mg(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return s.set(e,a),a}function tr(e){return hr(e)?tr(e.__v_raw):!!(e&&e.__v_isReactive)}function hr(e){return!!(e&&e.__v_isReadonly)}function yi(e){return!!(e&&e.__v_isShallow)}function sf(e){return tr(e)||hr(e)}function it(e){const t=e&&e.__v_raw;return t?it(t):e}function of(e){return Object.isExtensible(e)&&_i(e,"__v_skip",!0),e}const rs=e=>dt(e)?Ps(e):e,_l=e=>dt(e)?rf(e):e;class af{constructor(t,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new hl(()=>t(this._value),()=>li(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=it(this);return(!t._cacheable||t.effect.dirty)&&cn(t._value,t._value=t.effect.run())&&li(t,4),lf(t),t.effect._dirtyLevel>=2&&li(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function gg(e,t,n=!1){let r,s;const i=X(e);return i?(r=e,s=ue):(r=e.get,s=e.set),new af(r,s,i||!s,n)}function lf(e){var t;nn&&Sn&&(e=it(e),Gh(Sn,(t=e.dep)!=null?t:e.dep=Qh(()=>e.dep=void 0,e instanceof af?e:void 0)))}function li(e,t=4,n){e=it(e);const r=e.dep;r&&Wh(r,t)}function ee(e){return!!(e&&e.__v_isRef===!0)}function _g(e){return cf(e,!1)}function yg(e){return cf(e,!0)}function cf(e,t){return ee(e)?e:new vg(e,t)}class vg{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:it(t),this._value=n?t:rs(t)}get value(){return lf(this),this._value}set value(t){const n=this.__v_isShallow||yi(t)||hr(t);t=n?t:it(t),cn(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:rs(t),li(this,4))}}function er(e){return ee(e)?e.value:e}const Eg={get:(e,t,n)=>er(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return ee(s)&&!ee(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function uf(e){return tr(e)?e:new Proxy(e,Eg)}/**
* @vue/runtime-core v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function rn(e,t,n,r){try{return r?e(...r):e()}catch(s){Yi(s,t,n)}}function ge(e,t,n,r){if(X(e)){const i=rn(e,t,n,r);return i&&Lh(i)&&i.catch(o=>{Yi(o,t,n)}),i}const s=[];for(let i=0;i<e.length;i++)s.push(ge(e[i],t,n,r));return s}function Yi(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let i=t.parent;const o=t.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const c=i.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,o,a)===!1)return}i=i.parent}const l=t.appContext.config.errorHandler;if(l){rn(l,null,10,[e,o,a]);return}}Tg(e,n,s,r)}function Tg(e,t,n,r=!0){console.error(e)}let ss=!1,ma=!1;const qt=[];let be=0;const nr=[];let Xe=null,vn=0;const hf=Promise.resolve();let yl=null;function ff(e){const t=yl||hf;return e?t.then(this?e.bind(this):e):t}function wg(e){let t=be+1,n=qt.length;for(;t<n;){const r=t+n>>>1,s=qt[r],i=is(s);i<e||i===e&&s.pre?t=r+1:n=r}return t}function vl(e){(!qt.length||!qt.includes(e,ss&&e.allowRecurse?be+1:be))&&(e.id==null?qt.push(e):qt.splice(wg(e.id),0,e),df())}function df(){!ss&&!ma&&(ma=!0,yl=hf.then(mf))}function Ig(e){const t=qt.indexOf(e);t>be&&qt.splice(t,1)}function Ag(e){H(e)?nr.push(...e):(!Xe||!Xe.includes(e,e.allowRecurse?vn+1:vn))&&nr.push(e),df()}function Bc(e,t,n=ss?be+1:0){for(;n<qt.length;n++){const r=qt[n];if(r&&r.pre){if(e&&r.id!==e.uid)continue;qt.splice(n,1),n--,r()}}}function pf(e){if(nr.length){const t=[...new Set(nr)].sort((n,r)=>is(n)-is(r));if(nr.length=0,Xe){Xe.push(...t);return}for(Xe=t,vn=0;vn<Xe.length;vn++)Xe[vn]();Xe=null,vn=0}}const is=e=>e.id==null?1/0:e.id,Rg=(e,t)=>{const n=is(e)-is(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function mf(e){ma=!1,ss=!0,qt.sort(Rg);try{for(be=0;be<qt.length;be++){const t=qt[be];t&&t.active!==!1&&rn(t,null,14)}}finally{be=0,qt.length=0,pf(),ss=!1,yl=null,(qt.length||nr.length)&&mf()}}function bg(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||mt;let s=n;const i=t.startsWith("update:"),o=i&&t.slice(7);if(o&&o in r){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:d}=r[u]||mt;d&&(s=n.map(m=>St(m)?m.trim():m)),h&&(s=n.map(ua))}let a,l=r[a=Mo(t)]||r[a=Mo(De(t))];!l&&i&&(l=r[a=Mo(Ir(t))]),l&&ge(l,e,6,s);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,ge(c,e,6,s)}}function gf(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!X(e)){const l=c=>{const u=gf(c,t,!0);u&&(a=!0,Ft(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(dt(e)&&r.set(e,null),null):(H(i)?i.forEach(l=>o[l]=null):Ft(o,i),dt(e)&&r.set(e,o),o)}function Xi(e,t){return!e||!Hi(t)?!1:(t=t.slice(2).replace(/Once$/,""),nt(e,t[0].toLowerCase()+t.slice(1))||nt(e,Ir(t))||nt(e,t))}let Jt=null,Ji=null;function vi(e){const t=Jt;return Jt=e,Ji=e&&e.type.__scopeId||null,t}function Sg(e){Ji=e}function Pg(){Ji=null}function Cg(e,t=Jt,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&Xc(-1);const i=vi(t);let o;try{o=e(...s)}finally{vi(i),r._d&&Xc(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Uo(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:d,setupState:m,ctx:w,inheritAttrs:R}=e;let A,C;const M=vi(e);try{if(n.shapeFlag&4){const J=s||r,pt=J;A=Re(u.call(pt,J,h,i,m,d,w)),C=l}else{const J=t;A=Re(J.length>1?J(i,{attrs:l,slots:a,emit:c}):J(i,null)),C=t.props?l:xg(l)}}catch(J){Wr.length=0,Yi(J,e,1),A=Zt(os)}let U=A;if(C&&R!==!1){const J=Object.keys(C),{shapeFlag:pt}=U;J.length&&pt&7&&(o&&J.some(al)&&(C=Vg(C,o)),U=fr(U,C))}return n.dirs&&(U=fr(U),U.dirs=U.dirs?U.dirs.concat(n.dirs):n.dirs),n.transition&&(U.transition=n.transition),A=U,vi(M),A}const xg=e=>{let t;for(const n in e)(n==="class"||n==="style"||Hi(n))&&((t||(t={}))[n]=e[n]);return t},Vg=(e,t)=>{const n={};for(const r in e)(!al(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Dg(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?jc(r,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==r[d]&&!Xi(c,d))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?jc(r,o,c):!0:!!o;return!1}function jc(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!Xi(n,i))return!0}return!1}function Og({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const _f="components";function yf(e,t){return kg(_f,e,!0,t)||e}const Ng=Symbol.for("v-ndc");function kg(e,t,n=!0,r=!1){const s=Jt||Ht;if(s){const i=s.type;if(e===_f){const a=x_(i,!1);if(a&&(a===t||a===De(t)||a===Gi(De(t))))return i}const o=$c(s[e]||i[e],t)||$c(s.appContext[e],t);return!o&&r?i:o}}function $c(e,t){return e&&(e[t]||e[De(t)]||e[Gi(De(t))])}const Mg=e=>e.__isSuspense;function Lg(e,t){t&&t.pendingBranch?H(e)?t.effects.push(...e):t.effects.push(e):Ag(e)}const Fg=Symbol.for("v-scx"),Ug=()=>Be(Fg),Ys={};function rr(e,t,n){return vf(e,t,n)}function vf(e,t,{immediate:n,deep:r,flush:s,once:i,onTrack:o,onTrigger:a}=mt){if(t&&i){const K=t;t=(...wt)=>{K(...wt),pt()}}const l=Ht,c=K=>r===!0?K:wn(K,r===!1?1:void 0);let u,h=!1,d=!1;if(ee(e)?(u=()=>e.value,h=yi(e)):tr(e)?(u=()=>c(e),h=!0):H(e)?(d=!0,h=e.some(K=>tr(K)||yi(K)),u=()=>e.map(K=>{if(ee(K))return K.value;if(tr(K))return c(K);if(X(K))return rn(K,l,2)})):X(e)?t?u=()=>rn(e,l,2):u=()=>(m&&m(),ge(e,l,3,[w])):u=ue,t&&r){const K=u;u=()=>wn(K())}let m,w=K=>{m=U.onStop=()=>{rn(K,l,4),m=U.onStop=void 0}},R;if(no)if(w=ue,t?n&&ge(t,l,3,[u(),d?[]:void 0,w]):u(),s==="sync"){const K=Ug();R=K.__watcherHandles||(K.__watcherHandles=[])}else return ue;let A=d?new Array(e.length).fill(Ys):Ys;const C=()=>{if(!(!U.active||!U.dirty))if(t){const K=U.run();(r||h||(d?K.some((wt,re)=>cn(wt,A[re])):cn(K,A)))&&(m&&m(),ge(t,l,3,[K,A===Ys?void 0:d&&A[0]===Ys?[]:A,w]),A=K)}else U.run()};C.allowRecurse=!!t;let M;s==="sync"?M=C:s==="post"?M=()=>Xt(C,l&&l.suspense):(C.pre=!0,l&&(C.id=l.uid),M=()=>vl(C));const U=new hl(u,ue,M),J=Ym(),pt=()=>{U.stop(),J&&ll(J.effects,U)};return t?n?C():A=U.run():s==="post"?Xt(U.run.bind(U),l&&l.suspense):U.run(),R&&R.push(pt),pt}function Bg(e,t,n){const r=this.proxy,s=St(e)?e.includes(".")?Ef(r,e):()=>r[e]:e.bind(r,r);let i;X(t)?i=t:(i=t.handler,n=t);const o=Cs(this),a=vf(s,i.bind(r),n);return o(),a}function Ef(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function wn(e,t,n=0,r){if(!dt(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if(r=r||new Set,r.has(e))return e;if(r.add(e),ee(e))wn(e.value,t,n,r);else if(H(e))for(let s=0;s<e.length;s++)wn(e[s],t,n,r);else if(Ki(e)||Zn(e))e.forEach(s=>{wn(s,t,n,r)});else if(Uh(e))for(const s in e)wn(e[s],t,n,r);return e}function Ur(e,t){if(Jt===null)return e;const n=ro(Jt)||Jt.proxy,r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,o,a,l=mt]=t[s];i&&(X(i)&&(i={mounted:i,updated:i}),i.deep&&wn(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function gn(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Nn(),ge(l,n,8,[e.el,a,e,t]),kn())}}/*! #__NO_SIDE_EFFECTS__ */function Tf(e,t){return X(e)?Ft({name:e.name},t,{setup:e}):e}const ci=e=>!!e.type.__asyncLoader,wf=e=>e.type.__isKeepAlive;function jg(e,t){If(e,"a",t)}function $g(e,t){If(e,"da",t)}function If(e,t,n=Ht){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Zi(t,r,n),n){let s=n.parent;for(;s&&s.parent;)wf(s.parent.vnode)&&qg(r,t,n,s),s=s.parent}}function qg(e,t,n,r){const s=Zi(t,e,r,!0);Af(()=>{ll(r[t],s)},n)}function Zi(e,t,n=Ht,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;Nn();const a=Cs(n),l=ge(t,n,e,o);return a(),kn(),l});return r?s.unshift(i):s.push(i),i}}const Ke=e=>(t,n=Ht)=>(!no||e==="sp")&&Zi(e,(...r)=>t(...r),n),Hg=Ke("bm"),Kg=Ke("m"),zg=Ke("bu"),Gg=Ke("u"),Wg=Ke("bum"),Af=Ke("um"),Qg=Ke("sp"),Yg=Ke("rtg"),Xg=Ke("rtc");function Jg(e,t=Ht){Zi("ec",e,t)}function Zg(e,t,n,r){let s;const i=n&&n[r];if(H(e)||St(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,i&&i[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,i&&i[o])}else if(dt(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,i&&i[a]));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];s[a]=t(e[c],c,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}const ga=e=>e?Mf(e)?ro(e)||e.proxy:ga(e.parent):null,zr=Ft(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ga(e.parent),$root:e=>ga(e.root),$emit:e=>e.emit,$options:e=>El(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,vl(e.update)}),$nextTick:e=>e.n||(e.n=ff.bind(e.proxy)),$watch:e=>Bg.bind(e)}),Bo=(e,t)=>e!==mt&&!e.__isScriptSetup&&nt(e,t),t_={get({_:e},t){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const m=o[t];if(m!==void 0)switch(m){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return i[t]}else{if(Bo(r,t))return o[t]=1,r[t];if(s!==mt&&nt(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&nt(c,t))return o[t]=3,i[t];if(n!==mt&&nt(n,t))return o[t]=4,n[t];_a&&(o[t]=0)}}const u=zr[t];let h,d;if(u)return t==="$attrs"&&te(e,"get",t),u(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==mt&&nt(n,t))return o[t]=4,n[t];if(d=l.config.globalProperties,nt(d,t))return d[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:i}=e;return Bo(s,t)?(s[t]=n,!0):r!==mt&&nt(r,t)?(r[t]=n,!0):nt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||e!==mt&&nt(e,o)||Bo(t,o)||(a=i[0])&&nt(a,o)||nt(r,o)||nt(zr,o)||nt(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:nt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function qc(e){return H(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let _a=!0;function e_(e){const t=El(e),n=e.proxy,r=e.ctx;_a=!1,t.beforeCreate&&Hc(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:m,updated:w,activated:R,deactivated:A,beforeDestroy:C,beforeUnmount:M,destroyed:U,unmounted:J,render:pt,renderTracked:K,renderTriggered:wt,errorCaptured:re,serverPrefetch:ze,expose:se,inheritAttrs:Ge,components:mn,directives:Te,filters:Dr}=t;if(c&&n_(c,r,null),o)for(const ut in o){const ot=o[ut];X(ot)&&(r[ut]=ot.bind(n))}if(s){const ut=s.call(n,n);dt(ut)&&(e.data=Ps(ut))}if(_a=!0,i)for(const ut in i){const ot=i[ut],Me=X(ot)?ot.bind(n,n):X(ot.get)?ot.get.bind(n,n):ue,We=!X(ot)&&X(ot.set)?ot.set.bind(n):ue,we=ae({get:Me,set:We});Object.defineProperty(r,ut,{enumerable:!0,configurable:!0,get:()=>we.value,set:Yt=>we.value=Yt})}if(a)for(const ut in a)Rf(a[ut],r,n,ut);if(l){const ut=X(l)?l.call(n):l;Reflect.ownKeys(ut).forEach(ot=>{ui(ot,ut[ot])})}u&&Hc(u,e,"c");function Pt(ut,ot){H(ot)?ot.forEach(Me=>ut(Me.bind(n))):ot&&ut(ot.bind(n))}if(Pt(Hg,h),Pt(Kg,d),Pt(zg,m),Pt(Gg,w),Pt(jg,R),Pt($g,A),Pt(Jg,re),Pt(Xg,K),Pt(Yg,wt),Pt(Wg,M),Pt(Af,J),Pt(Qg,ze),H(se))if(se.length){const ut=e.exposed||(e.exposed={});se.forEach(ot=>{Object.defineProperty(ut,ot,{get:()=>n[ot],set:Me=>n[ot]=Me})})}else e.exposed||(e.exposed={});pt&&e.render===ue&&(e.render=pt),Ge!=null&&(e.inheritAttrs=Ge),mn&&(e.components=mn),Te&&(e.directives=Te)}function n_(e,t,n=ue){H(e)&&(e=ya(e));for(const r in e){const s=e[r];let i;dt(s)?"default"in s?i=Be(s.from||r,s.default,!0):i=Be(s.from||r):i=Be(s),ee(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function Hc(e,t,n){ge(H(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Rf(e,t,n,r){const s=r.includes(".")?Ef(n,r):()=>n[r];if(St(e)){const i=t[e];X(i)&&rr(s,i)}else if(X(e))rr(s,e.bind(n));else if(dt(e))if(H(e))e.forEach(i=>Rf(i,t,n,r));else{const i=X(e.handler)?e.handler.bind(n):t[e.handler];X(i)&&rr(s,i,e)}}function El(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!s.length&&!n&&!r?l=t:(l={},s.length&&s.forEach(c=>Ei(l,c,o,!0)),Ei(l,t,o)),dt(t)&&i.set(t,l),l}function Ei(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&Ei(e,i,n,!0),s&&s.forEach(o=>Ei(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=r_[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const r_={data:Kc,props:zc,emits:zc,methods:Br,computed:Br,beforeCreate:Wt,created:Wt,beforeMount:Wt,mounted:Wt,beforeUpdate:Wt,updated:Wt,beforeDestroy:Wt,beforeUnmount:Wt,destroyed:Wt,unmounted:Wt,activated:Wt,deactivated:Wt,errorCaptured:Wt,serverPrefetch:Wt,components:Br,directives:Br,watch:i_,provide:Kc,inject:s_};function Kc(e,t){return t?e?function(){return Ft(X(e)?e.call(this,this):e,X(t)?t.call(this,this):t)}:t:e}function s_(e,t){return Br(ya(e),ya(t))}function ya(e){if(H(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Wt(e,t){return e?[...new Set([].concat(e,t))]:t}function Br(e,t){return e?Ft(Object.create(null),e,t):t}function zc(e,t){return e?H(e)&&H(t)?[...new Set([...e,...t])]:Ft(Object.create(null),qc(e),qc(t??{})):t}function i_(e,t){if(!e)return t;if(!t)return e;const n=Ft(Object.create(null),e);for(const r in t)n[r]=Wt(e[r],t[r]);return n}function bf(){return{app:null,config:{isNativeTag:Mm,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let o_=0;function a_(e,t){return function(r,s=null){X(r)||(r=Ft({},r)),s!=null&&!dt(s)&&(s=null);const i=bf(),o=new WeakSet;let a=!1;const l=i.app={_uid:o_++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:D_,get config(){return i.config},set config(c){},use(c,...u){return o.has(c)||(c&&X(c.install)?(o.add(c),c.install(l,...u)):X(c)&&(o.add(c),c(l,...u))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,u){return u?(i.components[c]=u,l):i.components[c]},directive(c,u){return u?(i.directives[c]=u,l):i.directives[c]},mount(c,u,h){if(!a){const d=Zt(r,s);return d.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),u&&t?t(d,c):e(d,c,h),a=!0,l._container=c,c.__vue_app__=l,ro(d.component)||d.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,u){return i.provides[c]=u,l},runWithContext(c){const u=Gr;Gr=l;try{return c()}finally{Gr=u}}};return l}}let Gr=null;function ui(e,t){if(Ht){let n=Ht.provides;const r=Ht.parent&&Ht.parent.provides;r===n&&(n=Ht.provides=Object.create(r)),n[e]=t}}function Be(e,t,n=!1){const r=Ht||Jt;if(r||Gr){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Gr._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&X(t)?t.call(r&&r.proxy):t}}function l_(e,t,n,r=!1){const s={},i={};_i(i,eo,1),e.propsDefaults=Object.create(null),Sf(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:nf(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function c_(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=it(s),[l]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(Xi(e.emitsOptions,d))continue;const m=t[d];if(l)if(nt(i,d))m!==i[d]&&(i[d]=m,c=!0);else{const w=De(d);s[w]=va(l,a,w,m,e,!1)}else m!==i[d]&&(i[d]=m,c=!0)}}}else{Sf(e,t,s,i)&&(c=!0);let u;for(const h in a)(!t||!nt(t,h)&&((u=Ir(h))===h||!nt(t,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=va(l,a,h,void 0,e,!0)):delete s[h]);if(i!==a)for(const h in i)(!t||!nt(t,h))&&(delete i[h],c=!0)}c&&Ue(e,"set","$attrs")}function Sf(e,t,n,r){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Kr(l))continue;const c=t[l];let u;s&&nt(s,u=De(l))?!i||!i.includes(u)?n[u]=c:(a||(a={}))[u]=c:Xi(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=it(n),c=a||mt;for(let u=0;u<i.length;u++){const h=i[u];n[h]=va(s,l,h,c[h],e,!nt(c,h))}}return o}function va(e,t,n,r,s,i){const o=e[n];if(o!=null){const a=nt(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&X(l)){const{propsDefaults:c}=s;if(n in c)r=c[n];else{const u=Cs(s);r=c[n]=l.call(null,t),u()}}else r=l}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Ir(n))&&(r=!0))}return r}function Pf(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const i=e.props,o={},a=[];let l=!1;if(!X(e)){const u=h=>{l=!0;const[d,m]=Pf(h,t,!0);Ft(o,d),m&&a.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return dt(e)&&r.set(e,Jn),Jn;if(H(i))for(let u=0;u<i.length;u++){const h=De(i[u]);Gc(h)&&(o[h]=mt)}else if(i)for(const u in i){const h=De(u);if(Gc(h)){const d=i[u],m=o[h]=H(d)||X(d)?{type:d}:Ft({},d);if(m){const w=Yc(Boolean,m.type),R=Yc(String,m.type);m[0]=w>-1,m[1]=R<0||w<R,(w>-1||nt(m,"default"))&&a.push(h)}}}const c=[o,a];return dt(e)&&r.set(e,c),c}function Gc(e){return e[0]!=="$"&&!Kr(e)}function Wc(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function Qc(e,t){return Wc(e)===Wc(t)}function Yc(e,t){return H(t)?t.findIndex(n=>Qc(n,e)):X(t)&&Qc(t,e)?0:-1}const Cf=e=>e[0]==="_"||e==="$stable",Tl=e=>H(e)?e.map(Re):[Re(e)],u_=(e,t,n)=>{if(t._n)return t;const r=Cg((...s)=>Tl(t(...s)),n);return r._c=!1,r},xf=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Cf(s))continue;const i=e[s];if(X(i))t[s]=u_(s,i,r);else if(i!=null){const o=Tl(i);t[s]=()=>o}}},Vf=(e,t)=>{const n=Tl(t);e.slots.default=()=>n},h_=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=it(t),_i(t,"_",n)):xf(t,e.slots={})}else e.slots={},t&&Vf(e,t);_i(e.slots,eo,1)},f_=(e,t,n)=>{const{vnode:r,slots:s}=e;let i=!0,o=mt;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:(Ft(s,t),!n&&a===1&&delete s._):(i=!t.$stable,xf(t,s)),o=t}else t&&(Vf(e,t),o={default:1});if(i)for(const a in s)!Cf(a)&&o[a]==null&&delete s[a]};function Ea(e,t,n,r,s=!1){if(H(e)){e.forEach((d,m)=>Ea(d,t&&(H(t)?t[m]:t),n,r,s));return}if(ci(r)&&!s)return;const i=r.shapeFlag&4?ro(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===mt?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(St(c)?(u[c]=null,nt(h,c)&&(h[c]=null)):ee(c)&&(c.value=null)),X(l))rn(l,a,12,[o,u]);else{const d=St(l),m=ee(l);if(d||m){const w=()=>{if(e.f){const R=d?nt(h,l)?h[l]:u[l]:l.value;s?H(R)&&ll(R,i):H(R)?R.includes(i)||R.push(i):d?(u[l]=[i],nt(h,l)&&(h[l]=u[l])):(l.value=[i],e.k&&(u[e.k]=l.value))}else d?(u[l]=o,nt(h,l)&&(h[l]=o)):m&&(l.value=o,e.k&&(u[e.k]=o))};o?(w.id=-1,Xt(w,n)):w()}}}const Xt=Lg;function d_(e){return p_(e)}function p_(e,t){const n=Bh();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:m=ue,insertStaticContent:w}=e,R=(f,p,g,v=null,_=null,S=null,O=void 0,b=null,P=!!p.dynamicChildren)=>{if(f===p)return;f&&!Nr(f,p)&&(v=y(f),Yt(f,_,S,!0),f=null),p.patchFlag===-2&&(P=!1,p.dynamicChildren=null);const{type:I,ref:k,shapeFlag:$}=p;switch(I){case to:A(f,p,g,v);break;case os:C(f,p,g,v);break;case hi:f==null&&M(p,g,v,O);break;case de:mn(f,p,g,v,_,S,O,b,P);break;default:$&1?pt(f,p,g,v,_,S,O,b,P):$&6?Te(f,p,g,v,_,S,O,b,P):($&64||$&128)&&I.process(f,p,g,v,_,S,O,b,P,L)}k!=null&&_&&Ea(k,f&&f.ref,S,p||f,!p)},A=(f,p,g,v)=>{if(f==null)r(p.el=a(p.children),g,v);else{const _=p.el=f.el;p.children!==f.children&&c(_,p.children)}},C=(f,p,g,v)=>{f==null?r(p.el=l(p.children||""),g,v):p.el=f.el},M=(f,p,g,v)=>{[f.el,f.anchor]=w(f.children,p,g,v,f.el,f.anchor)},U=({el:f,anchor:p},g,v)=>{let _;for(;f&&f!==p;)_=d(f),r(f,g,v),f=_;r(p,g,v)},J=({el:f,anchor:p})=>{let g;for(;f&&f!==p;)g=d(f),s(f),f=g;s(p)},pt=(f,p,g,v,_,S,O,b,P)=>{p.type==="svg"?O="svg":p.type==="math"&&(O="mathml"),f==null?K(p,g,v,_,S,O,b,P):ze(f,p,_,S,O,b,P)},K=(f,p,g,v,_,S,O,b)=>{let P,I;const{props:k,shapeFlag:$,transition:B,dirs:W}=f;if(P=f.el=o(f.type,S,k&&k.is,k),$&8?u(P,f.children):$&16&&re(f.children,P,null,v,_,jo(f,S),O,b),W&&gn(f,null,v,"created"),wt(P,f,f.scopeId,O,v),k){for(const ht in k)ht!=="value"&&!Kr(ht)&&i(P,ht,null,k[ht],S,f.children,v,_,Ut);"value"in k&&i(P,"value",null,k.value,S),(I=k.onVnodeBeforeMount)&&Ae(I,v,f)}W&&gn(f,null,v,"beforeMount");const Z=m_(_,B);Z&&B.beforeEnter(P),r(P,p,g),((I=k&&k.onVnodeMounted)||Z||W)&&Xt(()=>{I&&Ae(I,v,f),Z&&B.enter(P),W&&gn(f,null,v,"mounted")},_)},wt=(f,p,g,v,_)=>{if(g&&m(f,g),v)for(let S=0;S<v.length;S++)m(f,v[S]);if(_){let S=_.subTree;if(p===S){const O=_.vnode;wt(f,O,O.scopeId,O.slotScopeIds,_.parent)}}},re=(f,p,g,v,_,S,O,b,P=0)=>{for(let I=P;I<f.length;I++){const k=f[I]=b?Je(f[I]):Re(f[I]);R(null,k,p,g,v,_,S,O,b)}},ze=(f,p,g,v,_,S,O)=>{const b=p.el=f.el;let{patchFlag:P,dynamicChildren:I,dirs:k}=p;P|=f.patchFlag&16;const $=f.props||mt,B=p.props||mt;let W;if(g&&_n(g,!1),(W=B.onVnodeBeforeUpdate)&&Ae(W,g,p,f),k&&gn(p,f,g,"beforeUpdate"),g&&_n(g,!0),I?se(f.dynamicChildren,I,b,g,v,jo(p,_),S):O||ot(f,p,b,null,g,v,jo(p,_),S,!1),P>0){if(P&16)Ge(b,p,$,B,g,v,_);else if(P&2&&$.class!==B.class&&i(b,"class",null,B.class,_),P&4&&i(b,"style",$.style,B.style,_),P&8){const Z=p.dynamicProps;for(let ht=0;ht<Z.length;ht++){const yt=Z[ht],Ct=$[yt],he=B[yt];(he!==Ct||yt==="value")&&i(b,yt,Ct,he,_,f.children,g,v,Ut)}}P&1&&f.children!==p.children&&u(b,p.children)}else!O&&I==null&&Ge(b,p,$,B,g,v,_);((W=B.onVnodeUpdated)||k)&&Xt(()=>{W&&Ae(W,g,p,f),k&&gn(p,f,g,"updated")},v)},se=(f,p,g,v,_,S,O)=>{for(let b=0;b<p.length;b++){const P=f[b],I=p[b],k=P.el&&(P.type===de||!Nr(P,I)||P.shapeFlag&70)?h(P.el):g;R(P,I,k,null,v,_,S,O,!0)}},Ge=(f,p,g,v,_,S,O)=>{if(g!==v){if(g!==mt)for(const b in g)!Kr(b)&&!(b in v)&&i(f,b,g[b],null,O,p.children,_,S,Ut);for(const b in v){if(Kr(b))continue;const P=v[b],I=g[b];P!==I&&b!=="value"&&i(f,b,I,P,O,p.children,_,S,Ut)}"value"in v&&i(f,"value",g.value,v.value,O)}},mn=(f,p,g,v,_,S,O,b,P)=>{const I=p.el=f?f.el:a(""),k=p.anchor=f?f.anchor:a("");let{patchFlag:$,dynamicChildren:B,slotScopeIds:W}=p;W&&(b=b?b.concat(W):W),f==null?(r(I,g,v),r(k,g,v),re(p.children||[],g,k,_,S,O,b,P)):$>0&&$&64&&B&&f.dynamicChildren?(se(f.dynamicChildren,B,g,_,S,O,b),(p.key!=null||_&&p===_.subTree)&&Df(f,p,!0)):ot(f,p,g,k,_,S,O,b,P)},Te=(f,p,g,v,_,S,O,b,P)=>{p.slotScopeIds=b,f==null?p.shapeFlag&512?_.ctx.activate(p,g,v,O,P):Dr(p,g,v,_,S,O,P):Bn(f,p,P)},Dr=(f,p,g,v,_,S,O)=>{const b=f.component=R_(f,v,_);if(wf(f)&&(b.ctx.renderer=L),b_(b),b.asyncDep){if(_&&_.registerDep(b,Pt),!f.el){const P=b.subTree=Zt(os);C(null,P,p,g)}}else Pt(b,f,p,g,_,S,O)},Bn=(f,p,g)=>{const v=p.component=f.component;if(Dg(f,p,g))if(v.asyncDep&&!v.asyncResolved){ut(v,p,g);return}else v.next=p,Ig(v.update),v.effect.dirty=!0,v.update();else p.el=f.el,v.vnode=p},Pt=(f,p,g,v,_,S,O)=>{const b=()=>{if(f.isMounted){let{next:k,bu:$,u:B,parent:W,vnode:Z}=f;{const qn=Of(f);if(qn){k&&(k.el=Z.el,ut(f,k,O)),qn.asyncDep.then(()=>{f.isUnmounted||b()});return}}let ht=k,yt;_n(f,!1),k?(k.el=Z.el,ut(f,k,O)):k=Z,$&&ai($),(yt=k.props&&k.props.onVnodeBeforeUpdate)&&Ae(yt,W,k,Z),_n(f,!0);const Ct=Uo(f),he=f.subTree;f.subTree=Ct,R(he,Ct,h(he.el),y(he),f,_,S),k.el=Ct.el,ht===null&&Og(f,Ct.el),B&&Xt(B,_),(yt=k.props&&k.props.onVnodeUpdated)&&Xt(()=>Ae(yt,W,k,Z),_)}else{let k;const{el:$,props:B}=p,{bm:W,m:Z,parent:ht}=f,yt=ci(p);if(_n(f,!1),W&&ai(W),!yt&&(k=B&&B.onVnodeBeforeMount)&&Ae(k,ht,p),_n(f,!0),$&&_t){const Ct=()=>{f.subTree=Uo(f),_t($,f.subTree,f,_,null)};yt?p.type.__asyncLoader().then(()=>!f.isUnmounted&&Ct()):Ct()}else{const Ct=f.subTree=Uo(f);R(null,Ct,g,v,f,_,S),p.el=Ct.el}if(Z&&Xt(Z,_),!yt&&(k=B&&B.onVnodeMounted)){const Ct=p;Xt(()=>Ae(k,ht,Ct),_)}(p.shapeFlag&256||ht&&ci(ht.vnode)&&ht.vnode.shapeFlag&256)&&f.a&&Xt(f.a,_),f.isMounted=!0,p=g=v=null}},P=f.effect=new hl(b,ue,()=>vl(I),f.scope),I=f.update=()=>{P.dirty&&P.run()};I.id=f.uid,_n(f,!0),I()},ut=(f,p,g)=>{p.component=f;const v=f.vnode.props;f.vnode=p,f.next=null,c_(f,p.props,v,g),f_(f,p.children,g),Nn(),Bc(f),kn()},ot=(f,p,g,v,_,S,O,b,P=!1)=>{const I=f&&f.children,k=f?f.shapeFlag:0,$=p.children,{patchFlag:B,shapeFlag:W}=p;if(B>0){if(B&128){We(I,$,g,v,_,S,O,b,P);return}else if(B&256){Me(I,$,g,v,_,S,O,b,P);return}}W&8?(k&16&&Ut(I,_,S),$!==I&&u(g,$)):k&16?W&16?We(I,$,g,v,_,S,O,b,P):Ut(I,_,S,!0):(k&8&&u(g,""),W&16&&re($,g,v,_,S,O,b,P))},Me=(f,p,g,v,_,S,O,b,P)=>{f=f||Jn,p=p||Jn;const I=f.length,k=p.length,$=Math.min(I,k);let B;for(B=0;B<$;B++){const W=p[B]=P?Je(p[B]):Re(p[B]);R(f[B],W,g,null,_,S,O,b,P)}I>k?Ut(f,_,S,!0,!1,$):re(p,g,v,_,S,O,b,P,$)},We=(f,p,g,v,_,S,O,b,P)=>{let I=0;const k=p.length;let $=f.length-1,B=k-1;for(;I<=$&&I<=B;){const W=f[I],Z=p[I]=P?Je(p[I]):Re(p[I]);if(Nr(W,Z))R(W,Z,g,null,_,S,O,b,P);else break;I++}for(;I<=$&&I<=B;){const W=f[$],Z=p[B]=P?Je(p[B]):Re(p[B]);if(Nr(W,Z))R(W,Z,g,null,_,S,O,b,P);else break;$--,B--}if(I>$){if(I<=B){const W=B+1,Z=W<k?p[W].el:v;for(;I<=B;)R(null,p[I]=P?Je(p[I]):Re(p[I]),g,Z,_,S,O,b,P),I++}}else if(I>B)for(;I<=$;)Yt(f[I],_,S,!0),I++;else{const W=I,Z=I,ht=new Map;for(I=Z;I<=B;I++){const ie=p[I]=P?Je(p[I]):Re(p[I]);ie.key!=null&&ht.set(ie.key,I)}let yt,Ct=0;const he=B-Z+1;let qn=!1,Pc=0;const Or=new Array(he);for(I=0;I<he;I++)Or[I]=0;for(I=W;I<=$;I++){const ie=f[I];if(Ct>=he){Yt(ie,_,S,!0);continue}let Ie;if(ie.key!=null)Ie=ht.get(ie.key);else for(yt=Z;yt<=B;yt++)if(Or[yt-Z]===0&&Nr(ie,p[yt])){Ie=yt;break}Ie===void 0?Yt(ie,_,S,!0):(Or[Ie-Z]=I+1,Ie>=Pc?Pc=Ie:qn=!0,R(ie,p[Ie],g,null,_,S,O,b,P),Ct++)}const Cc=qn?g_(Or):Jn;for(yt=Cc.length-1,I=he-1;I>=0;I--){const ie=Z+I,Ie=p[ie],xc=ie+1<k?p[ie+1].el:v;Or[I]===0?R(null,Ie,g,xc,_,S,O,b,P):qn&&(yt<0||I!==Cc[yt]?we(Ie,g,xc,2):yt--)}}},we=(f,p,g,v,_=null)=>{const{el:S,type:O,transition:b,children:P,shapeFlag:I}=f;if(I&6){we(f.component.subTree,p,g,v);return}if(I&128){f.suspense.move(p,g,v);return}if(I&64){O.move(f,p,g,L);return}if(O===de){r(S,p,g);for(let $=0;$<P.length;$++)we(P[$],p,g,v);r(f.anchor,p,g);return}if(O===hi){U(f,p,g);return}if(v!==2&&I&1&&b)if(v===0)b.beforeEnter(S),r(S,p,g),Xt(()=>b.enter(S),_);else{const{leave:$,delayLeave:B,afterLeave:W}=b,Z=()=>r(S,p,g),ht=()=>{$(S,()=>{Z(),W&&W()})};B?B(S,Z,ht):ht()}else r(S,p,g)},Yt=(f,p,g,v=!1,_=!1)=>{const{type:S,props:O,ref:b,children:P,dynamicChildren:I,shapeFlag:k,patchFlag:$,dirs:B}=f;if(b!=null&&Ea(b,null,g,f,!0),k&256){p.ctx.deactivate(f);return}const W=k&1&&B,Z=!ci(f);let ht;if(Z&&(ht=O&&O.onVnodeBeforeUnmount)&&Ae(ht,p,f),k&6)Hs(f.component,g,v);else{if(k&128){f.suspense.unmount(g,v);return}W&&gn(f,null,p,"beforeUnmount"),k&64?f.type.remove(f,p,g,_,L,v):I&&(S!==de||$>0&&$&64)?Ut(I,p,g,!1,!0):(S===de&&$&384||!_&&k&16)&&Ut(P,p,g),v&&jn(f)}(Z&&(ht=O&&O.onVnodeUnmounted)||W)&&Xt(()=>{ht&&Ae(ht,p,f),W&&gn(f,null,p,"unmounted")},g)},jn=f=>{const{type:p,el:g,anchor:v,transition:_}=f;if(p===de){$n(g,v);return}if(p===hi){J(f);return}const S=()=>{s(g),_&&!_.persisted&&_.afterLeave&&_.afterLeave()};if(f.shapeFlag&1&&_&&!_.persisted){const{leave:O,delayLeave:b}=_,P=()=>O(g,S);b?b(f.el,S,P):P()}else S()},$n=(f,p)=>{let g;for(;f!==p;)g=d(f),s(f),f=g;s(p)},Hs=(f,p,g)=>{const{bum:v,scope:_,update:S,subTree:O,um:b}=f;v&&ai(v),_.stop(),S&&(S.active=!1,Yt(O,f,p,g)),b&&Xt(b,p),Xt(()=>{f.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},Ut=(f,p,g,v=!1,_=!1,S=0)=>{for(let O=S;O<f.length;O++)Yt(f[O],p,g,v,_)},y=f=>f.shapeFlag&6?y(f.component.subTree):f.shapeFlag&128?f.suspense.next():d(f.anchor||f.el);let N=!1;const D=(f,p,g)=>{f==null?p._vnode&&Yt(p._vnode,null,null,!0):R(p._vnode||null,f,p,null,null,null,g),N||(N=!0,Bc(),pf(),N=!1),p._vnode=f},L={p:R,um:Yt,m:we,r:jn,mt:Dr,mc:re,pc:ot,pbc:se,n:y,o:e};let at,_t;return t&&([at,_t]=t(L)),{render:D,hydrate:at,createApp:a_(D,at)}}function jo({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function _n({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function m_(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Df(e,t,n=!1){const r=e.children,s=t.children;if(H(r)&&H(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Je(s[i]),a.el=o.el),n||Df(o,a)),a.type===to&&(a.el=o.el)}}function g_(e){const t=e.slice(),n=[0];let r,s,i,o,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(s=n[n.length-1],e[s]<c){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<c?i=a+1:o=a;c<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=t[o];return n}function Of(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Of(t)}const __=e=>e.__isTeleport,de=Symbol.for("v-fgt"),to=Symbol.for("v-txt"),os=Symbol.for("v-cmt"),hi=Symbol.for("v-stc"),Wr=[];let pe=null;function sr(e=!1){Wr.push(pe=e?null:[])}function y_(){Wr.pop(),pe=Wr[Wr.length-1]||null}let as=1;function Xc(e){as+=e}function v_(e){return e.dynamicChildren=as>0?pe||Jn:null,y_(),as>0&&pe&&pe.push(e),e}function ir(e,t,n,r,s,i){return v_(q(e,t,n,r,s,i,!0))}function Ta(e){return e?e.__v_isVNode===!0:!1}function Nr(e,t){return e.type===t.type&&e.key===t.key}const eo="__vInternal",Nf=({key:e})=>e??null,fi=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?St(e)||ee(e)||X(e)?{i:Jt,r:e,k:t,f:!!n}:e:null);function q(e,t=null,n=null,r=0,s=null,i=e===de?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Nf(t),ref:t&&fi(t),scopeId:Ji,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Jt};return a?(wl(l,n),i&128&&e.normalize(l)):n&&(l.shapeFlag|=St(n)?8:16),as>0&&!o&&pe&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&pe.push(l),l}const Zt=E_;function E_(e,t=null,n=null,r=0,s=null,i=!1){if((!e||e===Ng)&&(e=os),Ta(e)){const a=fr(e,t,!0);return n&&wl(a,n),as>0&&!i&&pe&&(a.shapeFlag&6?pe[pe.indexOf(e)]=a:pe.push(a)),a.patchFlag|=-2,a}if(V_(e)&&(e=e.__vccOpts),t){t=T_(t);let{class:a,style:l}=t;a&&!St(a)&&(t.class=Ss(a)),dt(l)&&(sf(l)&&!H(l)&&(l=Ft({},l)),t.style=ul(l))}const o=St(e)?1:Mg(e)?128:__(e)?64:dt(e)?4:X(e)?2:0;return q(e,t,n,r,s,o,i,!0)}function T_(e){return e?sf(e)||eo in e?Ft({},e):e:null}function fr(e,t,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=e,a=t?w_(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Nf(a),ref:t&&t.ref?n&&s?H(s)?s.concat(fi(t)):[s,fi(t)]:fi(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==de?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&fr(e.ssContent),ssFallback:e.ssFallback&&fr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function wa(e=" ",t=0){return Zt(to,null,e,t)}function kf(e,t){const n=Zt(hi,null,e);return n.staticCount=t,n}function Re(e){return e==null||typeof e=="boolean"?Zt(os):H(e)?Zt(de,null,e.slice()):typeof e=="object"?Je(e):Zt(to,null,String(e))}function Je(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:fr(e)}function wl(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(H(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),wl(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(eo in t)?t._ctx=Jt:s===3&&Jt&&(Jt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else X(t)?(t={default:t,_ctx:Jt},n=32):(t=String(t),r&64?(n=16,t=[wa(t)]):n=8);e.children=t,e.shapeFlag|=n}function w_(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Ss([t.class,r.class]));else if(s==="style")t.style=ul([t.style,r.style]);else if(Hi(s)){const i=t[s],o=r[s];o&&i!==o&&!(H(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=r[s])}return t}function Ae(e,t,n,r=null){ge(e,t,7,[n,r])}const I_=bf();let A_=0;function R_(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||I_,i={uid:A_++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Hh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Pf(r,s),emitsOptions:gf(r,s),emit:null,emitted:null,propsDefaults:mt,inheritAttrs:r.inheritAttrs,ctx:mt,data:mt,props:mt,attrs:mt,slots:mt,refs:mt,setupState:mt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=bg.bind(null,i),e.ce&&e.ce(i),i}let Ht=null,Ti,Ia;{const e=Bh(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Ti=t("__VUE_INSTANCE_SETTERS__",n=>Ht=n),Ia=t("__VUE_SSR_SETTERS__",n=>no=n)}const Cs=e=>{const t=Ht;return Ti(e),e.scope.on(),()=>{e.scope.off(),Ti(t)}},Jc=()=>{Ht&&Ht.scope.off(),Ti(null)};function Mf(e){return e.vnode.shapeFlag&4}let no=!1;function b_(e,t=!1){t&&Ia(t);const{props:n,children:r}=e.vnode,s=Mf(e);l_(e,n,s,t),h_(e,r);const i=s?S_(e,t):void 0;return t&&Ia(!1),i}function S_(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=of(new Proxy(e.ctx,t_));const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?C_(e):null,i=Cs(e);Nn();const o=rn(r,e,0,[e.props,s]);if(kn(),i(),Lh(o)){if(o.then(Jc,Jc),t)return o.then(a=>{Zc(e,a,t)}).catch(a=>{Yi(a,e,0)});e.asyncDep=o}else Zc(e,o,t)}else Lf(e,t)}function Zc(e,t,n){X(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:dt(t)&&(e.setupState=uf(t)),Lf(e,n)}let tu;function Lf(e,t,n){const r=e.type;if(!e.render){if(!t&&tu&&!r.render){const s=r.template||El(e).template;if(s){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,c=Ft(Ft({isCustomElement:i,delimiters:a},o),l);r.render=tu(s,c)}}e.render=r.render||ue}{const s=Cs(e);Nn();try{e_(e)}finally{kn(),s()}}}function P_(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return te(e,"get","$attrs"),t[n]}}))}function C_(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return P_(e)},slots:e.slots,emit:e.emit,expose:t}}function ro(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(uf(of(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in zr)return zr[n](e)},has(t,n){return n in t||n in zr}}))}function x_(e,t=!0){return X(e)?e.displayName||e.name:e.name||t&&e.__name}function V_(e){return X(e)&&"__vccOpts"in e}const ae=(e,t)=>gg(e,t,no);function Ff(e,t,n){const r=arguments.length;return r===2?dt(t)&&!H(t)?Ta(t)?Zt(e,null,[t]):Zt(e,t):Zt(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ta(n)&&(n=[n]),Zt(e,t,n))}const D_="3.4.19";/**
* @vue/runtime-dom v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const O_="http://www.w3.org/2000/svg",N_="http://www.w3.org/1998/Math/MathML",Ze=typeof document<"u"?document:null,eu=Ze&&Ze.createElement("template"),k_={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?Ze.createElementNS(O_,e):t==="mathml"?Ze.createElementNS(N_,e):Ze.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>Ze.createTextNode(e),createComment:e=>Ze.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ze.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{eu.innerHTML=r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e;const a=eu.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},M_=Symbol("_vtc");function L_(e,t,n){const r=e[M_];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const nu=Symbol("_vod"),F_=Symbol(""),U_=/(^|;)\s*display\s*:/;function B_(e,t,n){const r=e.style,s=St(n),i=r.display;let o=!1;if(n&&!s){if(t&&!St(t))for(const a in t)n[a]==null&&Aa(r,a,"");for(const a in n)a==="display"&&(o=!0),Aa(r,a,n[a])}else if(s){if(t!==n){const a=r[F_];a&&(n+=";"+a),r.cssText=n,o=U_.test(n)}}else t&&e.removeAttribute("style");nu in e&&(e[nu]=o?r.display:"",r.display=i)}const ru=/\s*!important$/;function Aa(e,t,n){if(H(n))n.forEach(r=>Aa(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=j_(e,t);ru.test(n)?e.setProperty(Ir(r),n.replace(ru,""),"important"):e[r]=n}}const su=["Webkit","Moz","ms"],$o={};function j_(e,t){const n=$o[t];if(n)return n;let r=De(t);if(r!=="filter"&&r in e)return $o[t]=r;r=Gi(r);for(let s=0;s<su.length;s++){const i=su[s]+r;if(i in e)return $o[t]=i}return t}const iu="http://www.w3.org/1999/xlink";function $_(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(iu,t.slice(6,t.length)):e.setAttributeNS(iu,t,n);else{const i=zm(t);n==null||i&&!jh(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function q_(e,t,n,r,s,i,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,s,i),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const c=a==="OPTION"?e.getAttribute("value"):e.value,u=n??"";c!==u&&(e.value=u),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=jh(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function En(e,t,n,r){e.addEventListener(t,n,r)}function H_(e,t,n,r){e.removeEventListener(t,n,r)}const ou=Symbol("_vei");function K_(e,t,n,r,s=null){const i=e[ou]||(e[ou]={}),o=i[t];if(r&&o)o.value=r;else{const[a,l]=z_(t);if(r){const c=i[t]=Q_(r,s);En(e,a,c,l)}else o&&(H_(e,a,o,l),i[t]=void 0)}}const au=/(?:Once|Passive|Capture)$/;function z_(e){let t;if(au.test(e)){t={};let r;for(;r=e.match(au);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ir(e.slice(2)),t]}let qo=0;const G_=Promise.resolve(),W_=()=>qo||(G_.then(()=>qo=0),qo=Date.now());function Q_(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ge(Y_(r,n.value),t,5,[r])};return n.value=e,n.attached=W_(),n}function Y_(e,t){if(H(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const lu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,X_=(e,t,n,r,s,i,o,a,l)=>{const c=s==="svg";t==="class"?L_(e,r,c):t==="style"?B_(e,n,r):Hi(t)?al(t)||K_(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):J_(e,t,r,c))?q_(e,t,r,i,o,a,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),$_(e,t,r,c))};function J_(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&lu(t)&&X(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return lu(t)&&St(n)?!1:t in e}const wi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return H(t)?n=>ai(t,n):t};function Z_(e){e.target.composing=!0}function cu(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const or=Symbol("_assign"),Xs={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[or]=wi(s);const i=r||s.props&&s.props.type==="number";En(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),i&&(a=ua(a)),e[or](a)}),n&&En(e,"change",()=>{e.value=e.value.trim()}),t||(En(e,"compositionstart",Z_),En(e,"compositionend",cu),En(e,"change",cu))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:s}},i){if(e[or]=wi(i),e.composing)return;const o=s||e.type==="number"?ua(e.value):e.value,a=t??"";o!==a&&(document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===a)||(e.value=a))}},ty={deep:!0,created(e,t,n){e[or]=wi(n),En(e,"change",()=>{const r=e._modelValue,s=ey(e),i=e.checked,o=e[or];if(H(r)){const a=$h(r,s),l=a!==-1;if(i&&!l)o(r.concat(s));else if(!i&&l){const c=[...r];c.splice(a,1),o(c)}}else if(Ki(r)){const a=new Set(r);i?a.add(s):a.delete(s),o(a)}else o(Uf(e,i))})},mounted:uu,beforeUpdate(e,t,n){e[or]=wi(n),uu(e,t,n)}};function uu(e,{value:t,oldValue:n},r){e._modelValue=t,H(t)?e.checked=$h(t,r.props.value)>-1:Ki(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=Wi(t,Uf(e,!0)))}function ey(e){return"_value"in e?e._value:e.value}function Uf(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const ny=["ctrl","shift","alt","meta"],ry={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>ny.some(n=>e[`${n}Key`]&&!t.includes(n))},sy=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<t.length;o++){const a=ry[t[o]];if(a&&a(s,t))return}return e(s,...i)})},iy=Ft({patchProp:X_},k_);let hu;function oy(){return hu||(hu=d_(iy))}const ay=(...e)=>{const t=oy().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=cy(r);if(!s)return;const i=t._component;!X(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,ly(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function ly(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function cy(e){return St(e)?document.querySelector(e):e}const so=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},uy={},hy={id:"app"};function fy(e,t){const n=yf("router-view");return sr(),ir("div",hy,[Zt(n)])}const dy=so(uy,[["render",fy]]),py="modulepreload",my=function(e){return"/"+e},fu={},gy=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link");s=Promise.all(n.map(o=>{if(o=my(o),o in fu)return;fu[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let h=i.length-1;h>=0;h--){const d=i[h];if(d.href===o&&(!a||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":py,a||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),a)return new Promise((h,d)=>{u.addEventListener("load",h),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})}))}return s.then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};function _y(){return Bf().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Bf(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const yy=typeof Proxy=="function",vy="devtools-plugin:setup",Ey="plugin:settings:set";let Hn,Ra;function Ty(){var e;return Hn!==void 0||(typeof window<"u"&&window.performance?(Hn=!0,Ra=window.performance):typeof globalThis<"u"&&(!((e=globalThis.perf_hooks)===null||e===void 0)&&e.performance)?(Hn=!0,Ra=globalThis.perf_hooks.performance):Hn=!1),Hn}function wy(){return Ty()?Ra.now():Date.now()}class Iy{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const o in t.settings){const a=t.settings[o];r[o]=a.defaultValue}const s=`__vue-devtools-plugin-settings__${t.id}`;let i=Object.assign({},r);try{const o=localStorage.getItem(s),a=JSON.parse(o);Object.assign(i,a)}catch{}this.fallbacks={getSettings(){return i},setSettings(o){try{localStorage.setItem(s,JSON.stringify(o))}catch{}i=o},now(){return wy()}},n&&n.on(Ey,(o,a)=>{o===this.plugin.id&&this.fallbacks.setSettings(a)}),this.proxiedOn=new Proxy({},{get:(o,a)=>this.target?this.target.on[a]:(...l)=>{this.onQueue.push({method:a,args:l})}}),this.proxiedTarget=new Proxy({},{get:(o,a)=>this.target?this.target[a]:a==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(a)?(...l)=>(this.targetQueue.push({method:a,args:l,resolve:()=>{}}),this.fallbacks[a](...l)):(...l)=>new Promise(c=>{this.targetQueue.push({method:a,args:l,resolve:c})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function Ay(e,t){const n=e,r=Bf(),s=_y(),i=yy&&n.enableEarlyProxy;if(s&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!i))s.emit(vy,e,t);else{const o=i?new Iy(n,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:o}),o&&t(o.proxiedTarget)}}/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Gn=typeof window<"u";function Ry(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const lt=Object.assign;function Ho(e,t){const n={};for(const r in t){const s=t[r];n[r]=ye(s)?s.map(e):e(s)}return n}const Qr=()=>{},ye=Array.isArray,by=/\/$/,Sy=e=>e.replace(by,"");function Ko(e,t,n="/"){let r,s={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),s=e(i)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=Vy(r??t,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:o}}function Py(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function du(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Cy(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&dr(t.matched[r],n.matched[s])&&jf(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function dr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function jf(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!xy(e[n],t[n]))return!1;return!0}function xy(e,t){return ye(e)?pu(e,t):ye(t)?pu(t,e):e===t}function pu(e,t){return ye(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function Vy(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var ls;(function(e){e.pop="pop",e.push="push"})(ls||(ls={}));var Yr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Yr||(Yr={}));function Dy(e){if(!e)if(Gn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Sy(e)}const Oy=/^[^#]+#/;function Ny(e,t){return e.replace(Oy,"#")+t}function ky(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const io=()=>({left:window.pageXOffset,top:window.pageYOffset});function My(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=ky(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function mu(e,t){return(history.state?history.state.position-t:-1)+e}const ba=new Map;function Ly(e,t){ba.set(e,t)}function Fy(e){const t=ba.get(e);return ba.delete(e),t}let Uy=()=>location.protocol+"//"+location.host;function $f(e,t){const{pathname:n,search:r,hash:s}=t,i=e.indexOf("#");if(i>-1){let a=s.includes(e.slice(i))?e.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),du(l,"")}return du(n,e)+r+s}function By(e,t,n,r){let s=[],i=[],o=null;const a=({state:d})=>{const m=$f(e,location),w=n.value,R=t.value;let A=0;if(d){if(n.value=m,t.value=d,o&&o===w){o=null;return}A=R?d.position-R.position:0}else r(m);s.forEach(C=>{C(n.value,w,{delta:A,type:ls.pop,direction:A?A>0?Yr.forward:Yr.back:Yr.unknown})})};function l(){o=n.value}function c(d){s.push(d);const m=()=>{const w=s.indexOf(d);w>-1&&s.splice(w,1)};return i.push(m),m}function u(){const{history:d}=window;d.state&&d.replaceState(lt({},d.state,{scroll:io()}),"")}function h(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function gu(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?io():null}}function jy(e){const{history:t,location:n}=window,r={value:$f(e,n)},s={value:t.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const h=e.indexOf("#"),d=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+l:Uy()+e+l;try{t[u?"replaceState":"pushState"](c,"",d),s.value=c}catch(m){console.error(m),n[u?"replace":"assign"](d)}}function o(l,c){const u=lt({},t.state,gu(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});i(l,u,!0),r.value=l}function a(l,c){const u=lt({},s.value,t.state,{forward:l,scroll:io()});i(u.current,u,!0);const h=lt({},gu(r.value,l,null),{position:u.position+1},c);i(l,h,!1),r.value=l}return{location:r,state:s,push:a,replace:o}}function $y(e){e=Dy(e);const t=jy(e),n=By(e,t.state,t.location,t.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=lt({location:"",base:e,go:r,createHref:Ny.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function qy(e){return typeof e=="string"||e&&typeof e=="object"}function qf(e){return typeof e=="string"||typeof e=="symbol"}const Ye={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Hf=Symbol("");var _u;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(_u||(_u={}));function pr(e,t){return lt(new Error,{type:e,[Hf]:!0},t)}function Le(e,t){return e instanceof Error&&Hf in e&&(t==null||!!(e.type&t))}const yu="[^/]+?",Hy={sensitive:!1,strict:!1,start:!0,end:!0},Ky=/[.+*?^${}()[\]/\\]/g;function zy(e,t){const n=lt({},Hy,t),r=[];let s=n.start?"^":"";const i=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let h=0;h<c.length;h++){const d=c[h];let m=40+(n.sensitive?.25:0);if(d.type===0)h||(s+="/"),s+=d.value.replace(Ky,"\\$&"),m+=40;else if(d.type===1){const{value:w,repeatable:R,optional:A,regexp:C}=d;i.push({name:w,repeatable:R,optional:A});const M=C||yu;if(M!==yu){m+=10;try{new RegExp(`(${M})`)}catch(J){throw new Error(`Invalid custom RegExp for param "${w}" (${M}): `+J.message)}}let U=R?`((?:${M})(?:/(?:${M}))*)`:`(${M})`;h||(U=A&&c.length<2?`(?:/${U})`:"/"+U),A&&(U+="?"),s+=U,m+=20,A&&(m+=-8),R&&(m+=-20),M===".*"&&(m+=-50)}u.push(m)}r.push(u)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const m=u[d]||"",w=i[d-1];h[w.name]=m&&w.repeatable?m.split("/"):m}return h}function l(c){let u="",h=!1;for(const d of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const m of d)if(m.type===0)u+=m.value;else if(m.type===1){const{value:w,repeatable:R,optional:A}=m,C=w in c?c[w]:"";if(ye(C)&&!R)throw new Error(`Provided param "${w}" is an array but it is not repeatable (* or + modifiers)`);const M=ye(C)?C.join("/"):C;if(!M)if(A)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${w}"`);u+=M}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function Gy(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Wy(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const i=Gy(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(vu(r))return 1;if(vu(s))return-1}return s.length-r.length}function vu(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Qy={type:0,value:""},Yy=/[a-zA-Z0-9_]/;function Xy(e){if(!e)return[[]];if(e==="/")return[[Qy]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(m){throw new Error(`ERR (${n})/"${c}": ${m}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,c="",u="";function h(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):d();break;case 4:d(),n=r;break;case 1:l==="("?n=2:Yy.test(l)?d():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),h(),o(),s}function Jy(e,t,n){const r=zy(Xy(e.path),n),s=lt(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function Zy(e,t){const n=[],r=new Map;t=wu({strict:!1,end:!0,sensitive:!1},t);function s(u){return r.get(u)}function i(u,h,d){const m=!d,w=tv(u);w.aliasOf=d&&d.record;const R=wu(t,u),A=[w];if("alias"in u){const U=typeof u.alias=="string"?[u.alias]:u.alias;for(const J of U)A.push(lt({},w,{components:d?d.record.components:w.components,path:J,aliasOf:d?d.record:w}))}let C,M;for(const U of A){const{path:J}=U;if(h&&J[0]!=="/"){const pt=h.record.path,K=pt[pt.length-1]==="/"?"":"/";U.path=h.record.path+(J&&K+J)}if(C=Jy(U,h,R),d?d.alias.push(C):(M=M||C,M!==C&&M.alias.push(C),m&&u.name&&!Tu(C)&&o(u.name)),w.children){const pt=w.children;for(let K=0;K<pt.length;K++)i(pt[K],C,d&&d.children[K])}d=d||C,(C.record.components&&Object.keys(C.record.components).length||C.record.name||C.record.redirect)&&l(C)}return M?()=>{o(M)}:Qr}function o(u){if(qf(u)){const h=r.get(u);h&&(r.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&r.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let h=0;for(;h<n.length&&Wy(u,n[h])>=0&&(u.record.path!==n[h].record.path||!Kf(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!Tu(u)&&r.set(u.record.name,u)}function c(u,h){let d,m={},w,R;if("name"in u&&u.name){if(d=r.get(u.name),!d)throw pr(1,{location:u});R=d.record.name,m=lt(Eu(h.params,d.keys.filter(M=>!M.optional).map(M=>M.name)),u.params&&Eu(u.params,d.keys.map(M=>M.name))),w=d.stringify(m)}else if("path"in u)w=u.path,d=n.find(M=>M.re.test(w)),d&&(m=d.parse(w),R=d.record.name);else{if(d=h.name?r.get(h.name):n.find(M=>M.re.test(h.path)),!d)throw pr(1,{location:u,currentLocation:h});R=d.record.name,m=lt({},h.params,u.params),w=d.stringify(m)}const A=[];let C=d;for(;C;)A.unshift(C.record),C=C.parent;return{name:R,path:w,params:m,matched:A,meta:nv(A)}}return e.forEach(u=>i(u)),{addRoute:i,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function Eu(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function tv(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:ev(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function ev(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Tu(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function nv(e){return e.reduce((t,n)=>lt(t,n.meta),{})}function wu(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Kf(e,t){return t.children.some(n=>n===e||Kf(e,n))}const zf=/#/g,rv=/&/g,sv=/\//g,iv=/=/g,ov=/\?/g,Gf=/\+/g,av=/%5B/g,lv=/%5D/g,Wf=/%5E/g,cv=/%60/g,Qf=/%7B/g,uv=/%7C/g,Yf=/%7D/g,hv=/%20/g;function Il(e){return encodeURI(""+e).replace(uv,"|").replace(av,"[").replace(lv,"]")}function fv(e){return Il(e).replace(Qf,"{").replace(Yf,"}").replace(Wf,"^")}function Sa(e){return Il(e).replace(Gf,"%2B").replace(hv,"+").replace(zf,"%23").replace(rv,"%26").replace(cv,"`").replace(Qf,"{").replace(Yf,"}").replace(Wf,"^")}function dv(e){return Sa(e).replace(iv,"%3D")}function pv(e){return Il(e).replace(zf,"%23").replace(ov,"%3F")}function mv(e){return e==null?"":pv(e).replace(sv,"%2F")}function Ii(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function gv(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Gf," "),o=i.indexOf("="),a=Ii(o<0?i:i.slice(0,o)),l=o<0?null:Ii(i.slice(o+1));if(a in t){let c=t[a];ye(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function Iu(e){let t="";for(let n in e){const r=e[n];if(n=dv(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(ye(r)?r.map(i=>i&&Sa(i)):[r&&Sa(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+n,i!=null&&(t+="="+i))})}return t}function _v(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=ye(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const yv=Symbol(""),Au=Symbol(""),Al=Symbol(""),Xf=Symbol(""),Pa=Symbol("");function kr(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function tn(e,t,n,r,s){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(pr(4,{from:n,to:t})):h instanceof Error?a(h):qy(h)?a(pr(2,{from:t,to:h})):(i&&r.enterCallbacks[s]===i&&typeof h=="function"&&i.push(h),o())},c=e.call(r&&r.instances[s],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch(h=>a(h))})}function zo(e,t,n,r){const s=[];for(const i of e)for(const o in i.components){let a=i.components[o];if(!(t!=="beforeRouteEnter"&&!i.instances[o]))if(vv(a)){const c=(a.__vccOpts||a)[t];c&&s.push(tn(c,n,r,i,o))}else{let l=a();s.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=Ry(c)?c.default:c;i.components[o]=u;const d=(u.__vccOpts||u)[t];return d&&tn(d,n,r,i,o)()}))}}return s}function vv(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Ru(e){const t=Be(Al),n=Be(Xf),r=ae(()=>t.resolve(er(e.to))),s=ae(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const d=h.findIndex(dr.bind(null,u));if(d>-1)return d;const m=bu(l[c-2]);return c>1&&bu(u)===m&&h[h.length-1].path!==m?h.findIndex(dr.bind(null,l[c-2])):d}),i=ae(()=>s.value>-1&&Iv(n.params,r.value.params)),o=ae(()=>s.value>-1&&s.value===n.matched.length-1&&jf(n.params,r.value.params));function a(l={}){return wv(l)?t[er(e.replace)?"replace":"push"](er(e.to)).catch(Qr):Promise.resolve()}return{route:r,href:ae(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const Ev=Tf({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ru,setup(e,{slots:t}){const n=Ps(Ru(e)),{options:r}=Be(Al),s=ae(()=>({[Su(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Su(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=t.default&&t.default(n);return e.custom?i:Ff("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),Tv=Ev;function wv(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Iv(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!ye(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function bu(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Su=(e,t,n)=>e??t??n,Av=Tf({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Be(Pa),s=ae(()=>e.route||r.value),i=Be(Au,0),o=ae(()=>{let c=er(i);const{matched:u}=s.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=ae(()=>s.value.matched[o.value]);ui(Au,ae(()=>o.value+1)),ui(yv,a),ui(Pa,s);const l=_g();return rr(()=>[l.value,a.value,e.name],([c,u,h],[d,m,w])=>{u&&(u.instances[h]=c,m&&m!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=m.leaveGuards),u.updateGuards.size||(u.updateGuards=m.updateGuards))),c&&u&&(!m||!dr(u,m)||!d)&&(u.enterCallbacks[h]||[]).forEach(R=>R(c))},{flush:"post"}),()=>{const c=s.value,u=e.name,h=a.value,d=h&&h.components[u];if(!d)return Pu(n.default,{Component:d,route:c});const m=h.props[u],w=m?m===!0?c.params:typeof m=="function"?m(c):m:null,A=Ff(d,lt({},w,t,{onVnodeUnmounted:C=>{C.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return Pu(n.default,{Component:A,route:c})||A}}});function Pu(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Rv=Av;function bv(e){const t=Zy(e.routes,e),n=e.parseQuery||gv,r=e.stringifyQuery||Iu,s=e.history,i=kr(),o=kr(),a=kr(),l=yg(Ye);let c=Ye;Gn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Ho.bind(null,y=>""+y),h=Ho.bind(null,mv),d=Ho.bind(null,Ii);function m(y,N){let D,L;return qf(y)?(D=t.getRecordMatcher(y),L=N):L=y,t.addRoute(L,D)}function w(y){const N=t.getRecordMatcher(y);N&&t.removeRoute(N)}function R(){return t.getRoutes().map(y=>y.record)}function A(y){return!!t.getRecordMatcher(y)}function C(y,N){if(N=lt({},N||l.value),typeof y=="string"){const p=Ko(n,y,N.path),g=t.resolve({path:p.path},N),v=s.createHref(p.fullPath);return lt(p,g,{params:d(g.params),hash:Ii(p.hash),redirectedFrom:void 0,href:v})}let D;if("path"in y)D=lt({},y,{path:Ko(n,y.path,N.path).path});else{const p=lt({},y.params);for(const g in p)p[g]==null&&delete p[g];D=lt({},y,{params:h(p)}),N.params=h(N.params)}const L=t.resolve(D,N),at=y.hash||"";L.params=u(d(L.params));const _t=Py(r,lt({},y,{hash:fv(at),path:L.path})),f=s.createHref(_t);return lt({fullPath:_t,hash:at,query:r===Iu?_v(y.query):y.query||{}},L,{redirectedFrom:void 0,href:f})}function M(y){return typeof y=="string"?Ko(n,y,l.value.path):lt({},y)}function U(y,N){if(c!==y)return pr(8,{from:N,to:y})}function J(y){return wt(y)}function pt(y){return J(lt(M(y),{replace:!0}))}function K(y){const N=y.matched[y.matched.length-1];if(N&&N.redirect){const{redirect:D}=N;let L=typeof D=="function"?D(y):D;return typeof L=="string"&&(L=L.includes("?")||L.includes("#")?L=M(L):{path:L},L.params={}),lt({query:y.query,hash:y.hash,params:"path"in L?{}:y.params},L)}}function wt(y,N){const D=c=C(y),L=l.value,at=y.state,_t=y.force,f=y.replace===!0,p=K(D);if(p)return wt(lt(M(p),{state:typeof p=="object"?lt({},at,p.state):at,force:_t,replace:f}),N||D);const g=D;g.redirectedFrom=N;let v;return!_t&&Cy(r,L,D)&&(v=pr(16,{to:g,from:L}),we(L,L,!0,!1)),(v?Promise.resolve(v):se(g,L)).catch(_=>Le(_)?Le(_,2)?_:We(_):ot(_,g,L)).then(_=>{if(_){if(Le(_,2))return wt(lt({replace:f},M(_.to),{state:typeof _.to=="object"?lt({},at,_.to.state):at,force:_t}),N||g)}else _=mn(g,L,!0,f,at);return Ge(g,L,_),_})}function re(y,N){const D=U(y,N);return D?Promise.reject(D):Promise.resolve()}function ze(y){const N=$n.values().next().value;return N&&typeof N.runWithContext=="function"?N.runWithContext(y):y()}function se(y,N){let D;const[L,at,_t]=Sv(y,N);D=zo(L.reverse(),"beforeRouteLeave",y,N);for(const p of L)p.leaveGuards.forEach(g=>{D.push(tn(g,y,N))});const f=re.bind(null,y,N);return D.push(f),Ut(D).then(()=>{D=[];for(const p of i.list())D.push(tn(p,y,N));return D.push(f),Ut(D)}).then(()=>{D=zo(at,"beforeRouteUpdate",y,N);for(const p of at)p.updateGuards.forEach(g=>{D.push(tn(g,y,N))});return D.push(f),Ut(D)}).then(()=>{D=[];for(const p of _t)if(p.beforeEnter)if(ye(p.beforeEnter))for(const g of p.beforeEnter)D.push(tn(g,y,N));else D.push(tn(p.beforeEnter,y,N));return D.push(f),Ut(D)}).then(()=>(y.matched.forEach(p=>p.enterCallbacks={}),D=zo(_t,"beforeRouteEnter",y,N),D.push(f),Ut(D))).then(()=>{D=[];for(const p of o.list())D.push(tn(p,y,N));return D.push(f),Ut(D)}).catch(p=>Le(p,8)?p:Promise.reject(p))}function Ge(y,N,D){a.list().forEach(L=>ze(()=>L(y,N,D)))}function mn(y,N,D,L,at){const _t=U(y,N);if(_t)return _t;const f=N===Ye,p=Gn?history.state:{};D&&(L||f?s.replace(y.fullPath,lt({scroll:f&&p&&p.scroll},at)):s.push(y.fullPath,at)),l.value=y,we(y,N,D,f),We()}let Te;function Dr(){Te||(Te=s.listen((y,N,D)=>{if(!Hs.listening)return;const L=C(y),at=K(L);if(at){wt(lt(at,{replace:!0}),L).catch(Qr);return}c=L;const _t=l.value;Gn&&Ly(mu(_t.fullPath,D.delta),io()),se(L,_t).catch(f=>Le(f,12)?f:Le(f,2)?(wt(f.to,L).then(p=>{Le(p,20)&&!D.delta&&D.type===ls.pop&&s.go(-1,!1)}).catch(Qr),Promise.reject()):(D.delta&&s.go(-D.delta,!1),ot(f,L,_t))).then(f=>{f=f||mn(L,_t,!1),f&&(D.delta&&!Le(f,8)?s.go(-D.delta,!1):D.type===ls.pop&&Le(f,20)&&s.go(-1,!1)),Ge(L,_t,f)}).catch(Qr)}))}let Bn=kr(),Pt=kr(),ut;function ot(y,N,D){We(y);const L=Pt.list();return L.length?L.forEach(at=>at(y,N,D)):console.error(y),Promise.reject(y)}function Me(){return ut&&l.value!==Ye?Promise.resolve():new Promise((y,N)=>{Bn.add([y,N])})}function We(y){return ut||(ut=!y,Dr(),Bn.list().forEach(([N,D])=>y?D(y):N()),Bn.reset()),y}function we(y,N,D,L){const{scrollBehavior:at}=e;if(!Gn||!at)return Promise.resolve();const _t=!D&&Fy(mu(y.fullPath,0))||(L||!D)&&history.state&&history.state.scroll||null;return ff().then(()=>at(y,N,_t)).then(f=>f&&My(f)).catch(f=>ot(f,y,N))}const Yt=y=>s.go(y);let jn;const $n=new Set,Hs={currentRoute:l,listening:!0,addRoute:m,removeRoute:w,hasRoute:A,getRoutes:R,resolve:C,options:e,push:J,replace:pt,go:Yt,back:()=>Yt(-1),forward:()=>Yt(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:Pt.add,isReady:Me,install(y){const N=this;y.component("RouterLink",Tv),y.component("RouterView",Rv),y.config.globalProperties.$router=N,Object.defineProperty(y.config.globalProperties,"$route",{enumerable:!0,get:()=>er(l)}),Gn&&!jn&&l.value===Ye&&(jn=!0,J(s.location).catch(at=>{}));const D={};for(const at in Ye)Object.defineProperty(D,at,{get:()=>l.value[at],enumerable:!0});y.provide(Al,N),y.provide(Xf,nf(D)),y.provide(Pa,l);const L=y.unmount;$n.add(y),y.unmount=function(){$n.delete(y),$n.size<1&&(c=Ye,Te&&Te(),Te=null,l.value=Ye,jn=!1,ut=!1),L()}}};function Ut(y){return y.reduce((N,D)=>N.then(()=>ze(D)),Promise.resolve())}return Hs}function Sv(e,t){const n=[],r=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(c=>dr(c,a))?r.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>dr(c,l))||s.push(l))}return[n,r,s]}const Pv={name:"YourComponentName",data(){return{nightMode:JSON.parse(localStorage.getItem("nightMode"))||!1}},watch:{nightMode:function(){localStorage.setItem("nightMode",JSON.stringify(this.nightMode)),console.log("Night Mode: "+JSON.stringify(this.nightMode))}}},Cv=q("label",{for:"theme-toggle"},[q("span")],-1);function xv(e,t,n,r,s,i){return sr(),ir("div",{id:"page",class:Ss({"theme-dark":s.nightMode})},[Ur(q("input",{type:"checkbox",id:"theme-toggle","onUpdate:modelValue":t[0]||(t[0]=o=>s.nightMode=o)},null,512),[[ty,s.nightMode]]),Cv],2)}const Jf=so(Pv,[["render",xv]]),Vv="/assets/hazman-BaYV1rVD.jpg",Dv={components:{darkmode:Jf},name:"maskformdsdasVidsadews",data(){return{menuOpen:!1}},methods:{toggleMenu(){this.menuOpen=!this.menuOpen}}},Rl=e=>(Sg("data-v-93466117"),e=e(),Pg(),e),Ov={class:"antialiased bg-gray-400 sticky top-0"},Nv={class:"lg:px-16 px-6 bg-white flex flex-wrap items-center p-4 py-3 lg:py-0 py-2 lg:px-40"},kv=Rl(()=>q("div",{class:"flex-1 flex justify-between items-center dark:text-white"},[q("a",{href:"https://hazman97.github.io"}," Hazman Adanan ")],-1)),Mv=Rl(()=>q("svg",{class:"fill-current text-gray-900",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"},[q("title",null,"menu"),q("path",{d:"M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"})],-1)),Lv=[Mv],Fv=Rl(()=>q("input",{class:"hidden",type:"checkbox",id:"menu-toggle"},null,-1)),Uv={class:"lg:flex items-center justify-between text-base text-gray-700 pt-4 lg:pt-0"},Bv=kf('<li data-v-93466117><a class="lg:p-4 py-3 px-0 block border-b-2 border-transparent hover:border-indigo-400" href="/code" data-v-93466117>About</a></li><li data-v-93466117><a class="lg:p-4 py-3 px-0 block border-b-2 border-transparent hover:border-indigo-400" href="#Experience" data-v-93466117>experience</a></li><li data-v-93466117><a class="lg:p-4 py-3 px-0 block border-b-2 border-transparent hover:border-indigo-400" href="#Project" data-v-93466117>Project</a></li><li data-v-93466117><a class="lg:p-4 py-3 px-0 block border-b-2 border-transparent hover:border-indigo-400 lg:mb-0 mb-2" href="#Education" data-v-93466117>Education</a></li><li data-v-93466117><a class="lg:p-4 py-3 px-0 block border-b-2 border-transparent hover:border-indigo-400 lg:mb-0 mb-2" href="#Skill" data-v-93466117>Skill</a></li>',5),jv=kf('<main class="bg-gray-200 min-h-screen flex justify-center items-center" data-v-93466117><div class="max-w-4xl mx-auto px-4" data-v-93466117><div class="bg-slate-200" data-v-93466117><div class="my-5 min-h-screen flex flex-wrap justify-center items-center" data-v-93466117><section class="text-center flex-initial w-full sm:w-3/4 px-4" id="home" data-v-93466117><h1 class="text-3xl sm:text-4xl md:text-5xl font-bold text-gray-900 mb-4" data-v-93466117>Hi there!</h1><p class="text-lg text-gray-700 mb-8" data-v-93466117> I&#39;m a front-end enthusiast gaining practical experience in the field. After completing an internship, I&#39;ve transitioned into a role as a Front End Developer. Passionate about web development, I&#39;m also intrigued by networking and computer support technology. With a solid foundation in these areas and a commitment to ongoing learning, I&#39;m eager to explore opportunities that allow me to contribute to both front-end development and IT support roles. </p></section><div class="flex-initial w-full md:w-1/4 px-4 text-center" data-v-93466117><img class="rounded-full object-scale-down mx-auto h-48 w-96" src="'+Vv+'" alt="image description" data-v-93466117></div></div></div></div></main><main class="bg-gray-100 max-h-screen flex justify-start items-start" data-v-93466117><div class="max-w-4xl 2xl:mx-40 xl:mx-40 mx-auto px-4" data-v-93466117><section class="py-20" id="about" data-v-93466117><h2 class="flex-start text-2xl font-semibold" data-v-93466117>About Me</h2><p data-v-93466117> This is where you can introduce yourself and describe your skills, experiences, and interests. </p></section></div></main><main class="bg-gray-200 min-h-screen flex justify-start items-start" data-v-93466117><div class="max-w-4xl 2xl:mx-40 xl:mx-40 mx-auto px-4" data-v-93466117><section class="mt-12" id="Experience" data-v-93466117><h2 class="text-2xl font-semibold mb-4" data-v-93466117>Experience</h2><p data-v-93466117>This is where you can showcase your projects with descriptions and links.</p></section></div></main><main class="bg-gray-100 min-h-screen flex justify-start items-start" data-v-93466117><div class="max-w-4xl 2xl:mx-40 xl:mx-40 mx-auto px-4" data-v-93466117><section class="mt-12" id="Project" data-v-93466117><h2 class="text-2xl font-semibold mb-4" data-v-93466117>Project</h2><p data-v-93466117>This is where you can provide a downloadable version of your resume or CV.</p></section></div></main><main class="bg-gray-200 min-h-screen flex justify-start items-start" data-v-93466117><div class="max-w-4xl 2xl:mx-40 xl:mx-40 mx-auto px-4" data-v-93466117><section class="mt-12" id="Education" data-v-93466117><h2 class="text-2xl font-semibold mb-4" data-v-93466117>Education</h2><p data-v-93466117>This is where you can include a contact form or provide contact information.</p></section></div></main><main class="bg-gray-100 min-h-screen flex justify-start items-start" data-v-93466117><div class="max-w-4xl 2xl:mx-40 xl:mx-40 mx-auto px-4" data-v-93466117><section class="mt-12" id="Skill" data-v-93466117><h2 class="text-2xl font-semibold mb-4" data-v-93466117>Skill</h2><p data-v-93466117>This is where you can include a contact form or provide contact information.</p></section></div></main>',6);function $v(e,t,n,r,s,i){const o=yf("darkmode");return sr(),ir(de,null,[q("div",Ov,[q("header",Nv,[kv,q("label",{for:"menu-toggle",class:"pointer-cursor lg:hidden block p-4 py-2",onClick:t[0]||(t[0]=(...a)=>i.toggleMenu&&i.toggleMenu(...a))},Lv),Fv,q("div",{class:Ss(s.menuOpen?"lg:flex lg:items-center lg:w-auto w-full":"hidden lg:flex lg:items-center lg:w-auto w-full"),id:"menu"},[q("nav",null,[q("ul",Uv,[q("li",null,[Zt(o,{class:"hidden 2xl: xl: lg:block md:hidden sm:"})]),Bv])])],2)])]),jv],64)}const qv=so(Dv,[["render",$v],["__scopeId","data-v-93466117"]]);var Cu={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},Hv=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=e[n++],o=e[n++],a=e[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const i=e[n++],o=e[n++];t[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return t.join("")},td={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const i=e[s],o=s+1<e.length,a=o?e[s+1]:0,l=s+2<e.length,c=l?e[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let d=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(d=64)),r.push(n[u],n[h],n[d],n[m])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Zf(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Hv(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const i=n[e.charAt(s++)],a=s<e.length?n[e.charAt(s)]:0;++s;const c=s<e.length?n[e.charAt(s)]:64;++s;const h=s<e.length?n[e.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new Kv;const d=i<<2|a>>4;if(r.push(d),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const w=c<<6&192|h;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Kv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zv=function(e){const t=Zf(e);return td.encodeByteArray(t,!0)},Ai=function(e){return zv(e).replace(/\./g,"")},Gv=function(e){try{return td.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=()=>Wv().__FIREBASE_DEFAULTS__,Yv=()=>{if(typeof process>"u"||typeof Cu>"u")return;const e=Cu.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Xv=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Gv(e[1]);return t&&JSON.parse(t)},bl=()=>{try{return Qv()||Yv()||Xv()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Jv=e=>{var t,n;return(n=(t=bl())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},Zv=e=>{const t=Jv(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},ed=()=>{var e;return(e=bl())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",s=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ai(JSON.stringify(n)),Ai(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nE(){var e;const t=(e=bl())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rE(){return!nE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nd(){try{return typeof indexedDB=="object"}catch{return!1}}function sE(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;t(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="FirebaseError";class Ar extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=iE,Object.setPrototypeOf(this,Ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rd.prototype.create)}}class rd{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},s=`${this.service}/${t}`,i=this.errors[t],o=i?oE(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Ar(s,a,r)}}function oE(e,t){return e.replace(aE,(n,r)=>{const s=t[r];return s!=null?String(s):`<${r}?>`})}const aE=/\{\$([^}]+)}/g;function Ca(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const i=e[s],o=t[s];if(xu(i)&&xu(o)){if(!Ca(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function xu(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(e){return e&&e._delegate?e._delegate:e}class us{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new tE;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(uE(t))try{this.getOrInitializeService({instanceIdentifier:yn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(t=yn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=yn){return this.instances.has(t)}getOptions(t=yn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(t,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(t),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&t(o,s),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cE(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=yn){return this.component?this.component.multipleInstances?t:yn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cE(e){return e===yn?void 0:e}function uE(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new lE(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(rt||(rt={}));const fE={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},dE=rt.INFO,pE={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},mE=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),s=pE[t];if(s)console[s](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class sd{constructor(t){this.name=t,this._logLevel=dE,this._logHandler=mE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in rt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?fE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...t),this._logHandler(this,rt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...t),this._logHandler(this,rt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...t),this._logHandler(this,rt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...t),this._logHandler(this,rt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...t),this._logHandler(this,rt.ERROR,...t)}}const gE=(e,t)=>t.some(n=>e instanceof n);let Vu,Du;function _E(){return Vu||(Vu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yE(){return Du||(Du=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const id=new WeakMap,xa=new WeakMap,od=new WeakMap,Go=new WeakMap,Sl=new WeakMap;function vE(e){const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(sn(e.result)),s()},o=()=>{r(e.error),s()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&id.set(n,e)}).catch(()=>{}),Sl.set(t,e),t}function EE(e){if(xa.has(e))return;const t=new Promise((n,r)=>{const s=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});xa.set(e,t)}let Va={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return xa.get(e);if(t==="objectStoreNames")return e.objectStoreNames||od.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function TE(e){Va=e(Va)}function wE(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Wo(this),t,...n);return od.set(r,t.sort?t.sort():[t]),sn(r)}:yE().includes(e)?function(...t){return e.apply(Wo(this),t),sn(id.get(this))}:function(...t){return sn(e.apply(Wo(this),t))}}function IE(e){return typeof e=="function"?wE(e):(e instanceof IDBTransaction&&EE(e),gE(e,_E())?new Proxy(e,Va):e)}function sn(e){if(e instanceof IDBRequest)return vE(e);if(Go.has(e))return Go.get(e);const t=IE(e);return t!==e&&(Go.set(e,t),Sl.set(t,e)),t}const Wo=e=>Sl.get(e);function AE(e,t,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(e,t),a=sn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(sn(o.result),l.oldVersion,l.newVersion,sn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const RE=["get","getKey","getAll","getAllKeys","count"],bE=["put","add","delete","clear"],Qo=new Map;function Ou(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Qo.get(t))return Qo.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=bE.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||RE.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Qo.set(t,i),i}TE(e=>({...e,get:(t,n,r)=>Ou(t,n)||e.get(t,n,r),has:(t,n)=>!!Ou(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PE(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function PE(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Da="@firebase/app",Nu="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn=new sd("@firebase/app"),CE="@firebase/app-compat",xE="@firebase/analytics-compat",VE="@firebase/analytics",DE="@firebase/app-check-compat",OE="@firebase/app-check",NE="@firebase/auth",kE="@firebase/auth-compat",ME="@firebase/database",LE="@firebase/database-compat",FE="@firebase/functions",UE="@firebase/functions-compat",BE="@firebase/installations",jE="@firebase/installations-compat",$E="@firebase/messaging",qE="@firebase/messaging-compat",HE="@firebase/performance",KE="@firebase/performance-compat",zE="@firebase/remote-config",GE="@firebase/remote-config-compat",WE="@firebase/storage",QE="@firebase/storage-compat",YE="@firebase/firestore",XE="@firebase/firestore-compat",JE="firebase",ZE="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="[DEFAULT]",tT={[Da]:"fire-core",[CE]:"fire-core-compat",[VE]:"fire-analytics",[xE]:"fire-analytics-compat",[OE]:"fire-app-check",[DE]:"fire-app-check-compat",[NE]:"fire-auth",[kE]:"fire-auth-compat",[ME]:"fire-rtdb",[LE]:"fire-rtdb-compat",[FE]:"fire-fn",[UE]:"fire-fn-compat",[BE]:"fire-iid",[jE]:"fire-iid-compat",[$E]:"fire-fcm",[qE]:"fire-fcm-compat",[HE]:"fire-perf",[KE]:"fire-perf-compat",[zE]:"fire-rc",[GE]:"fire-rc-compat",[WE]:"fire-gcs",[QE]:"fire-gcs-compat",[YE]:"fire-fst",[XE]:"fire-fst-compat","fire-js":"fire-js",[JE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new Map,Na=new Map;function eT(e,t){try{e.container.addComponent(t)}catch(n){xn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Si(e){const t=e.name;if(Na.has(t))return xn.debug(`There were multiple attempts to register component ${t}.`),!1;Na.set(t,e);for(const n of bi.values())eT(n,e);return!0}function nT(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},on=new rd("app","Firebase",rT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw on.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=ZE;function ad(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Oa,automaticDataCollectionEnabled:!1},t),s=r.name;if(typeof s!="string"||!s)throw on.create("bad-app-name",{appName:String(s)});if(n||(n=ed()),!n)throw on.create("no-options");const i=bi.get(s);if(i){if(Ca(n,i.options)&&Ca(r,i.config))return i;throw on.create("duplicate-app",{appName:s})}const o=new hE(s);for(const l of Na.values())o.addComponent(l);const a=new sT(n,r,o);return bi.set(s,a),a}function oT(e=Oa){const t=bi.get(e);if(!t&&e===Oa&&ed())return ad();if(!t)throw on.create("no-app",{appName:e});return t}function ar(e,t,n){var r;let s=(r=tT[e])!==null&&r!==void 0?r:e;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${t}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),xn.warn(a.join(" "));return}Si(new us(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="firebase-heartbeat-database",lT=1,hs="firebase-heartbeat-store";let Yo=null;function ld(){return Yo||(Yo=AE(aT,lT,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(hs)}catch(n){console.warn(n)}}}}).catch(e=>{throw on.create("idb-open",{originalErrorMessage:e.message})})),Yo}async function cT(e){try{const n=(await ld()).transaction(hs),r=await n.objectStore(hs).get(cd(e));return await n.done,r}catch(t){if(t instanceof Ar)xn.warn(t.message);else{const n=on.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});xn.warn(n.message)}}}async function ku(e,t){try{const r=(await ld()).transaction(hs,"readwrite");await r.objectStore(hs).put(t,cd(e)),await r.done}catch(n){if(n instanceof Ar)xn.warn(n.message);else{const r=on.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xn.warn(r.message)}}}function cd(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=1024,hT=30*24*60*60*1e3;class fT{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pT(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Mu();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=hT}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Mu(),{heartbeatsToSend:r,unsentEntries:s}=dT(this._heartbeatsCache.heartbeats),i=Ai(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Mu(){return new Date().toISOString().substring(0,10)}function dT(e,t=uT){const n=[];let r=e.slice();for(const s of e){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Lu(n)>t){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Lu(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class pT{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nd()?sE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cT(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ku(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ku(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Lu(e){return Ai(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(e){Si(new us("platform-logger",t=>new SE(t),"PRIVATE")),Si(new us("heartbeat",t=>new fT(t),"PRIVATE")),ar(Da,Nu,e),ar(Da,Nu,"esm2017"),ar("fire-js","")}mT("");var gT="firebase",_T="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar(gT,_T,"app");var yT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V,Pl=Pl||{},G=yT||self;function oo(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function xs(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function vT(e){return Object.prototype.hasOwnProperty.call(e,Xo)&&e[Xo]||(e[Xo]=++ET)}var Xo="closure_uid_"+(1e9*Math.random()>>>0),ET=0;function TT(e,t,n){return e.call.apply(e.bind,arguments)}function wT(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),e.apply(t,s)}}return function(){return e.apply(t,arguments)}}function Kt(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Kt=TT:Kt=wT,Kt.apply(null,arguments)}function Js(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Dt(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[s].apply(r,o)}}function dn(){this.s=this.s,this.o=this.o}var IT=0;dn.prototype.s=!1;dn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),IT!=0)&&vT(this)};dn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ud=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Cl(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Fu(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(oo(r)){const s=e.length||0,i=r.length||0;e.length=s+i;for(let o=0;o<i;o++)e[s+o]=r[o]}else e.push(r)}}function zt(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}zt.prototype.h=function(){this.defaultPrevented=!0};var AT=function(){if(!G.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const n=()=>{};G.addEventListener("test",n,t),G.removeEventListener("test",n,t)}catch{}return e}();function fs(e){return/^[\s\xa0]*$/.test(e)}function ao(){var e=G.navigator;return e&&(e=e.userAgent)?e:""}function Se(e){return ao().indexOf(e)!=-1}function xl(e){return xl[" "](e),e}xl[" "]=function(){};function RT(e,t){var n=_w;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var bT=Se("Opera"),mr=Se("Trident")||Se("MSIE"),hd=Se("Edge"),ka=hd||mr,fd=Se("Gecko")&&!(ao().toLowerCase().indexOf("webkit")!=-1&&!Se("Edge"))&&!(Se("Trident")||Se("MSIE"))&&!Se("Edge"),ST=ao().toLowerCase().indexOf("webkit")!=-1&&!Se("Edge");function dd(){var e=G.document;return e?e.documentMode:void 0}var Ma;t:{var Jo="",Zo=function(){var e=ao();if(fd)return/rv:([^\);]+)(\)|;)/.exec(e);if(hd)return/Edge\/([\d\.]+)/.exec(e);if(mr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(ST)return/WebKit\/(\S+)/.exec(e);if(bT)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Zo&&(Jo=Zo?Zo[1]:""),mr){var ta=dd();if(ta!=null&&ta>parseFloat(Jo)){Ma=String(ta);break t}}Ma=Jo}var La;if(G.document&&mr){var Uu=dd();La=Uu||parseInt(Ma,10)||void 0}else La=void 0;var PT=La;function ds(e,t){if(zt.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(fd){t:{try{xl(t.nodeName);var s=!0;break t}catch{}s=!1}s||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:CT[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ds.$.h.call(this)}}Dt(ds,zt);var CT={2:"touch",3:"pen",4:"mouse"};ds.prototype.h=function(){ds.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Vs="closure_listenable_"+(1e6*Math.random()|0),xT=0;function VT(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=s,this.key=++xT,this.fa=this.ia=!1}function lo(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Vl(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function DT(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function pd(e){const t={};for(const n in e)t[n]=e[n];return t}const Bu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function md(e,t){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)e[n]=r[n];for(let i=0;i<Bu.length;i++)n=Bu[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function co(e){this.src=e,this.g={},this.h=0}co.prototype.add=function(e,t,n,r,s){var i=e.toString();e=this.g[i],e||(e=this.g[i]=[],this.h++);var o=Ua(e,t,r,s);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new VT(t,this.src,i,!!r,s),t.ia=n,e.push(t)),t};function Fa(e,t){var n=t.type;if(n in e.g){var r=e.g[n],s=ud(r,t),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(lo(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Ua(e,t,n,r){for(var s=0;s<e.length;++s){var i=e[s];if(!i.fa&&i.listener==t&&i.capture==!!n&&i.la==r)return s}return-1}var Dl="closure_lm_"+(1e6*Math.random()|0),ea={};function gd(e,t,n,r,s){if(r&&r.once)return yd(e,t,n,r,s);if(Array.isArray(t)){for(var i=0;i<t.length;i++)gd(e,t[i],n,r,s);return null}return n=kl(n),e&&e[Vs]?e.O(t,n,xs(r)?!!r.capture:!!r,s):_d(e,t,n,!1,r,s)}function _d(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");var o=xs(s)?!!s.capture:!!s,a=Nl(e);if(a||(e[Dl]=a=new co(e)),n=a.add(t,n,r,o,i),n.proxy)return n;if(r=OT(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)AT||(s=o),s===void 0&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(Ed(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function OT(){function e(n){return t.call(e.src,e.listener,n)}const t=NT;return e}function yd(e,t,n,r,s){if(Array.isArray(t)){for(var i=0;i<t.length;i++)yd(e,t[i],n,r,s);return null}return n=kl(n),e&&e[Vs]?e.P(t,n,xs(r)?!!r.capture:!!r,s):_d(e,t,n,!0,r,s)}function vd(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)vd(e,t[i],n,r,s);else r=xs(r)?!!r.capture:!!r,n=kl(n),e&&e[Vs]?(e=e.i,t=String(t).toString(),t in e.g&&(i=e.g[t],n=Ua(i,n,r,s),-1<n&&(lo(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete e.g[t],e.h--)))):e&&(e=Nl(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ua(t,n,r,s)),(n=-1<e?t[e]:null)&&Ol(n))}function Ol(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Vs])Fa(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ed(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Nl(t))?(Fa(n,e),n.h==0&&(n.src=null,t[Dl]=null)):lo(e)}}}function Ed(e){return e in ea?ea[e]:ea[e]="on"+e}function NT(e,t){if(e.fa)e=!0;else{t=new ds(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Ol(e),e=n.call(r,t)}return e}function Nl(e){return e=e[Dl],e instanceof co?e:null}var na="__closure_events_fn_"+(1e9*Math.random()>>>0);function kl(e){return typeof e=="function"?e:(e[na]||(e[na]=function(t){return e.handleEvent(t)}),e[na])}function Vt(){dn.call(this),this.i=new co(this),this.S=this,this.J=null}Dt(Vt,dn);Vt.prototype[Vs]=!0;Vt.prototype.removeEventListener=function(e,t,n,r){vd(this,e,t,n,r)};function Mt(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new zt(t,e);else if(t instanceof zt)t.target=t.target||e;else{var s=t;t=new zt(r,e),md(t,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=t.g=n[i];s=Zs(o,r,!0,t)&&s}if(o=t.g=e,s=Zs(o,r,!0,t)&&s,s=Zs(o,r,!1,t)&&s,n)for(i=0;i<n.length;i++)o=t.g=n[i],s=Zs(o,r,!1,t)&&s}Vt.prototype.N=function(){if(Vt.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)lo(n[r]);delete e.g[t],e.h--}}this.J=null};Vt.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Vt.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Zs(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var s=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Fa(e.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var Ml=G.JSON.stringify;class kT{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function MT(){var e=Ll;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class LT{constructor(){this.h=this.g=null}add(t,n){const r=Td.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Td=new kT(()=>new FT,e=>e.reset());class FT{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function UT(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function BT(e){G.setTimeout(()=>{throw e},0)}let ps,ms=!1,Ll=new LT,wd=()=>{const e=G.Promise.resolve(void 0);ps=()=>{e.then(jT)}};var jT=()=>{for(var e;e=MT();){try{e.h.call(e.g)}catch(n){BT(n)}var t=Td;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ms=!1};function uo(e,t){Vt.call(this),this.h=e||1,this.g=t||G,this.j=Kt(this.qb,this),this.l=Date.now()}Dt(uo,Vt);V=uo.prototype;V.ga=!1;V.T=null;V.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Mt(this,"tick"),this.ga&&(Fl(this),this.start()))}};V.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Fl(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}V.N=function(){uo.$.N.call(this),Fl(this),delete this.g};function Ul(e,t,n){if(typeof e=="function")n&&(e=Kt(e,n));else if(e&&typeof e.handleEvent=="function")e=Kt(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:G.setTimeout(e,t||0)}function Id(e){e.g=Ul(()=>{e.g=null,e.i&&(e.i=!1,Id(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class $T extends dn{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Id(this)}N(){super.N(),this.g&&(G.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gs(e){dn.call(this),this.h=e,this.g={}}Dt(gs,dn);var ju=[];function Ad(e,t,n,r){Array.isArray(n)||(n&&(ju[0]=n.toString()),n=ju);for(var s=0;s<n.length;s++){var i=gd(t,n[s],r||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function Rd(e){Vl(e.g,function(t,n){this.g.hasOwnProperty(n)&&Ol(t)},e),e.g={}}gs.prototype.N=function(){gs.$.N.call(this),Rd(this)};gs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ho(){this.g=!0}ho.prototype.Ea=function(){this.g=!1};function qT(e,t,n,r,s,i){e.info(function(){if(e.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+`
`+n+`
`+o})}function HT(e,t,n,r,s,i,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+`
`+n+`
`+i+" "+o})}function Xn(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+zT(e,n)+(r?" "+r:"")})}function KT(e,t){e.info(function(){return"TIMEOUT: "+t})}ho.prototype.info=function(){};function zT(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Ml(n)}catch{return t}}var Mn={},$u=null;function fo(){return $u=$u||new Vt}Mn.Ta="serverreachability";function bd(e){zt.call(this,Mn.Ta,e)}Dt(bd,zt);function _s(e){const t=fo();Mt(t,new bd(t))}Mn.STAT_EVENT="statevent";function Sd(e,t){zt.call(this,Mn.STAT_EVENT,e),this.stat=t}Dt(Sd,zt);function Qt(e){const t=fo();Mt(t,new Sd(t,e))}Mn.Ua="timingevent";function Pd(e,t){zt.call(this,Mn.Ua,e),this.size=t}Dt(Pd,zt);function Ds(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return G.setTimeout(function(){e()},t)}var po={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Cd={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Bl(){}Bl.prototype.h=null;function qu(e){return e.h||(e.h=e.i())}function xd(){}var Os={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function jl(){zt.call(this,"d")}Dt(jl,zt);function $l(){zt.call(this,"c")}Dt($l,zt);var Ba;function mo(){}Dt(mo,Bl);mo.prototype.g=function(){return new XMLHttpRequest};mo.prototype.i=function(){return{}};Ba=new mo;function Ns(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new gs(this),this.P=GT,e=ka?125:void 0,this.V=new uo(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Vd}function Vd(){this.i=null,this.g="",this.h=!1}var GT=45e3,Dd={},ja={};V=Ns.prototype;V.setTimeout=function(e){this.P=e};function $a(e,t,n){e.L=1,e.A=_o(qe(t)),e.u=n,e.S=!0,Od(e,null)}function Od(e,t){e.G=Date.now(),ks(e),e.B=qe(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),jd(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Vd,e.g=lp(e.l,n?t:null,!e.u),0<e.O&&(e.M=new $T(Kt(e.Pa,e,e.g),e.O)),Ad(e.U,e.g,"readystatechange",e.nb),t=e.I?pd(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),_s(),qT(e.j,e.v,e.B,e.m,e.W,e.u)}V.nb=function(e){e=e.target;const t=this.M;t&&Pe(e)==3?t.l():this.Pa(e)};V.Pa=function(e){try{if(e==this.g)t:{const u=Pe(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||ka||this.g&&(this.h.h||this.g.ja()||Gu(this.g)))){this.J||u!=4||t==7||(t==8||0>=h?_s(3):_s(2)),go(this);var n=this.g.da();this.ca=n;e:if(Nd(this)){var r=Gu(this.g);e="";var s=r.length,i=Pe(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){In(this),Xr(this);var o="";break e}this.h.i=new G.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:i&&t==s-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,HT(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fs(a)){var c=a;break e}}c=null}if(n=c)Xn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qa(this,n);else{this.i=!1,this.s=3,Qt(12),In(this),Xr(this);break t}}this.S?(kd(this,u,o),ka&&this.i&&u==3&&(Ad(this.U,this.V,"tick",this.mb),this.V.start())):(Xn(this.j,this.m,o,null),qa(this,o)),u==4&&In(this),this.i&&!this.J&&(u==4?sp(this.l,this):(this.i=!1,ks(this)))}else pw(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Qt(12)):(this.s=0,Qt(13)),In(this),Xr(this)}}}catch{}finally{}};function Nd(e){return e.g?e.v=="GET"&&e.L!=2&&e.l.Ha:!1}function kd(e,t,n){let r=!0,s;for(;!e.J&&e.o<n.length;)if(s=WT(e,n),s==ja){t==4&&(e.s=4,Qt(14),r=!1),Xn(e.j,e.m,null,"[Incomplete Response]");break}else if(s==Dd){e.s=4,Qt(15),Xn(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Xn(e.j,e.m,s,null),qa(e,s);Nd(e)&&e.o!=0&&(e.h.g=e.h.g.slice(e.o),e.o=0),t!=4||n.length!=0||e.h.h||(e.s=1,Qt(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wl(t),t.M=!0,Qt(11))):(Xn(e.j,e.m,n,"[Invalid Chunked Response]"),In(e),Xr(e))}V.mb=function(){if(this.g){var e=Pe(this.g),t=this.g.ja();this.o<t.length&&(go(this),kd(this,e,t),this.i&&e!=4&&ks(this))}};function WT(e,t){var n=e.o,r=t.indexOf(`
`,n);return r==-1?ja:(n=Number(t.substring(n,r)),isNaN(n)?Dd:(r+=1,r+n>t.length?ja:(t=t.slice(r,r+n),e.o=r+n,t)))}V.cancel=function(){this.J=!0,In(this)};function ks(e){e.Y=Date.now()+e.P,Md(e,e.P)}function Md(e,t){if(e.C!=null)throw Error("WatchDog timer not null");e.C=Ds(Kt(e.lb,e),t)}function go(e){e.C&&(G.clearTimeout(e.C),e.C=null)}V.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(KT(this.j,this.B),this.L!=2&&(_s(),Qt(17)),In(this),this.s=2,Xr(this)):Md(this,this.Y-e)};function Xr(e){e.l.H==0||e.J||sp(e.l,e)}function In(e){go(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Fl(e.V),Rd(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function qa(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||Ha(n.i,e))){if(!e.K&&Ha(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){t:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)xi(n),To(n);else break t;Gl(n),Qt(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ds(Kt(n.ib,n),6e3));if(1>=Hd(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else An(n,11)}else if((e.K||n.g==e)&&xi(n),!fs(t))for(s=n.Ja.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const d=c[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=e.g;if(m){const w=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var i=r.i;i.g||w.indexOf("spdy")==-1&&w.indexOf("quic")==-1&&w.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(ql(i,i.h),i.h=null))}if(r.F){const R=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;R&&(r.Da=R,gt(r.I,r.F,R))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=ap(r,r.J?r.pa:null,r.Y),o.K){Kd(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(go(a),ks(a)),r.g=o}else np(r);0<n.j.length&&wo(n)}else c[0]!="stop"&&c[0]!="close"||An(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?An(n,7):zl(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}_s(4)}catch{}}function QT(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(oo(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function YT(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(oo(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function Ld(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(oo(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=YT(e),r=QT(e),s=r.length,i=0;i<s;i++)t.call(void 0,r[i],n&&n[i],e)}var Fd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function XT(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),s=null;if(0<=r){var i=e[n].substring(0,r);s=e[n].substring(r+1)}else i=e[n];t(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Cn(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Cn){this.h=e.h,Pi(this,e.j),this.s=e.s,this.g=e.g,Ci(this,e.m),this.l=e.l;var t=e.i,n=new ys;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Hu(this,n),this.o=e.o}else e&&(t=String(e).match(Fd))?(this.h=!1,Pi(this,t[1]||"",!0),this.s=jr(t[2]||""),this.g=jr(t[3]||"",!0),Ci(this,t[4]),this.l=jr(t[5]||"",!0),Hu(this,t[6]||"",!0),this.o=jr(t[7]||"")):(this.h=!1,this.i=new ys(null,this.h))}Cn.prototype.toString=function(){var e=[],t=this.j;t&&e.push($r(t,Ku,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push($r(t,Ku,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push($r(n,n.charAt(0)=="/"?tw:ZT,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",$r(n,nw)),e.join("")};function qe(e){return new Cn(e)}function Pi(e,t,n){e.j=n?jr(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ci(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Hu(e,t,n){t instanceof ys?(e.i=t,rw(e.i,e.h)):(n||(t=$r(t,ew)),e.i=new ys(t,e.h))}function gt(e,t,n){e.i.set(t,n)}function _o(e){return gt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function jr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function $r(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,JT),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function JT(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Ku=/[#\/\?@]/g,ZT=/[#\?:]/g,tw=/[#\?]/g,ew=/[#\?@]/g,nw=/#/g;function ys(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function pn(e){e.g||(e.g=new Map,e.h=0,e.i&&XT(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}V=ys.prototype;V.add=function(e,t){pn(this),this.i=null,e=Rr(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Ud(e,t){pn(e),t=Rr(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Bd(e,t){return pn(e),t=Rr(e,t),e.g.has(t)}V.forEach=function(e,t){pn(this),this.g.forEach(function(n,r){n.forEach(function(s){e.call(t,s,r,this)},this)},this)};V.ta=function(){pn(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const s=e[r];for(let i=0;i<s.length;i++)n.push(t[r])}return n};V.Z=function(e){pn(this);let t=[];if(typeof e=="string")Bd(this,e)&&(t=t.concat(this.g.get(Rr(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};V.set=function(e,t){return pn(this),this.i=null,e=Rr(this,e),Bd(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};V.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function jd(e,t,n){Ud(e,t),0<n.length&&(e.i=null,e.g.set(Rr(e,t),Cl(n)),e.h+=n.length)}V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),e.push(s)}}return this.i=e.join("&")};function Rr(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function rw(e,t){t&&!e.j&&(pn(e),e.i=null,e.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(Ud(this,r),jd(this,s,n))},e)),e.j=t}var sw=class{constructor(e,t){this.g=e,this.map=t}};function $d(e){this.l=e||iw,G.PerformanceNavigationTiming?(e=G.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(G.g&&G.g.Ka&&G.g.Ka()&&G.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var iw=10;function qd(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Hd(e){return e.h?1:e.g?e.g.size:0}function Ha(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function ql(e,t){e.g?e.g.add(t):e.h=t}function Kd(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}$d.prototype.cancel=function(){if(this.i=zd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function zd(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Cl(e.i)}var ow=class{stringify(e){return G.JSON.stringify(e,void 0)}parse(e){return G.JSON.parse(e,void 0)}};function aw(){this.g=new ow}function lw(e,t,n){const r=n||"";try{Ld(e,function(s,i){let o=s;xs(s)&&(o=Ml(s)),t.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw t.push(r+"type="+encodeURIComponent("_badmap")),s}}function cw(e,t){const n=new ho;if(G.Image){const r=new Image;r.onload=Js(ti,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Js(ti,n,r,"TestLoadImage: error",!1,t),r.onabort=Js(ti,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Js(ti,n,r,"TestLoadImage: timeout",!1,t),G.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function ti(e,t,n,r,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(r)}catch{}}function yo(e){this.l=e.ec||null,this.j=e.ob||!1}Dt(yo,Bl);yo.prototype.g=function(){return new vo(this.l,this.j)};yo.prototype.i=function(e){return function(){return e}}({});function vo(e,t){Vt.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Hl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Dt(vo,Vt);var Hl=0;V=vo.prototype;V.open=function(e,t){if(this.readyState!=Hl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,vs(this)};V.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||G).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ms(this)),this.readyState=Hl};V.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,vs(this)),this.g&&(this.readyState=3,vs(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof G.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Gd(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function Gd(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}V.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ms(this):vs(this),this.readyState==3&&Gd(this)}};V.Za=function(e){this.g&&(this.response=this.responseText=e,Ms(this))};V.Ya=function(e){this.g&&(this.response=e,Ms(this))};V.ka=function(){this.g&&Ms(this)};function Ms(e){e.readyState=4,e.l=null,e.j=null,e.A=null,vs(e)}V.setRequestHeader=function(e,t){this.v.append(e,t)};V.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};V.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function vs(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(vo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var uw=G.JSON.parse;function Tt(e){Vt.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Wd,this.L=this.M=!1}Dt(Tt,Vt);var Wd="",hw=/^https?$/i,fw=["POST","PUT"];V=Tt.prototype;V.Oa=function(e){this.M=e};V.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ba.g(),this.C=this.u?qu(this.u):qu(Ba),this.g.onreadystatechange=Kt(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(i){zu(this,i);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=G.FormData&&e instanceof G.FormData,!(0<=ud(fw,t))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Xd(this),0<this.B&&((this.L=dw(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Kt(this.ua,this)):this.A=Ul(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(i){zu(this,i)}};function dw(e){return mr&&typeof e.timeout=="number"&&e.ontimeout!==void 0}V.ua=function(){typeof Pl<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mt(this,"timeout"),this.abort(8))};function zu(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Qd(e),Eo(e)}function Qd(e){e.F||(e.F=!0,Mt(e,"complete"),Mt(e,"error"))}V.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Mt(this,"complete"),Mt(this,"abort"),Eo(this))};V.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Eo(this,!0)),Tt.$.N.call(this)};V.La=function(){this.s||(this.G||this.v||this.l?Yd(this):this.kb())};V.kb=function(){Yd(this)};function Yd(e){if(e.h&&typeof Pl<"u"&&(!e.C[1]||Pe(e)!=4||e.da()!=2)){if(e.v&&Pe(e)==4)Ul(e.La,0,e);else if(Mt(e,"readystatechange"),Pe(e)==4){e.h=!1;try{const o=e.da();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var s=String(e.I).match(Fd)[1]||null;!s&&G.self&&G.self.location&&(s=G.self.location.protocol.slice(0,-1)),r=!hw.test(s?s.toLowerCase():"")}n=r}if(n)Mt(e,"complete"),Mt(e,"success");else{e.m=6;try{var i=2<Pe(e)?e.g.statusText:""}catch{i=""}e.j=i+" ["+e.da()+"]",Qd(e)}}finally{Eo(e)}}}}function Eo(e,t){if(e.g){Xd(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Mt(e,"ready");try{n.onreadystatechange=r}catch{}}}function Xd(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(G.clearTimeout(e.A),e.A=null)}V.isActive=function(){return!!this.g};function Pe(e){return e.g?e.g.readyState:0}V.da=function(){try{return 2<Pe(this)?this.g.status:-1}catch{return-1}};V.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};V.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),uw(t)}};function Gu(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Wd:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function pw(e){const t={};e=(e.g&&2<=Pe(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(fs(e[r]))continue;var n=UT(e[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}DT(t,function(r){return r.join(", ")})}V.Ia=function(){return this.m};V.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Jd(e){let t="";return Vl(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Kl(e,t,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=Jd(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):gt(e,t,n))}function Mr(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Zd(e){this.Ga=0,this.j=[],this.l=new ho,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Mr("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Mr("baseRetryDelayMs",5e3,e),this.hb=Mr("retryDelaySeedMs",1e4,e),this.eb=Mr("forwardChannelMaxRetries",2,e),this.xa=Mr("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new $d(e&&e.concurrentRequestLimit),this.Ja=new aw,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}V=Zd.prototype;V.ra=8;V.H=1;function zl(e){if(tp(e),e.H==3){var t=e.W++,n=qe(e.I);if(gt(n,"SID",e.K),gt(n,"RID",t),gt(n,"TYPE","terminate"),Ls(e,n),t=new Ns(e,e.l,t),t.L=2,t.A=_o(qe(n)),n=!1,G.navigator&&G.navigator.sendBeacon)try{n=G.navigator.sendBeacon(t.A.toString(),"")}catch{}!n&&G.Image&&(new Image().src=t.A,n=!0),n||(t.g=lp(t.l,null),t.g.ha(t.A)),t.G=Date.now(),ks(t)}op(e)}function To(e){e.g&&(Wl(e),e.g.cancel(),e.g=null)}function tp(e){To(e),e.u&&(G.clearTimeout(e.u),e.u=null),xi(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&G.clearTimeout(e.m),e.m=null)}function wo(e){if(!qd(e.i)&&!e.m){e.m=!0;var t=e.Na;ps||wd(),ms||(ps(),ms=!0),Ll.add(t,e),e.C=0}}function mw(e,t){return Hd(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Ds(Kt(e.Na,e,t),ip(e,e.C)),e.C++,!0)}V.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const s=new Ns(this,this.l,e);let i=this.s;if(this.U&&(i?(i=pd(i),md(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)t:{for(var t=0,n=0;n<this.j.length;n++){e:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break e}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break t}if(t===4096||n===this.j.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=ep(this,s,t),n=qe(this.I),gt(n,"RID",e),gt(n,"CVER",22),this.F&&gt(n,"X-HTTP-Session-Id",this.F),Ls(this,n),i&&(this.O?t="headers="+encodeURIComponent(String(Jd(i)))+"&"+t:this.o&&Kl(n,this.o,i)),ql(this.i,s),this.bb&&gt(n,"TYPE","init"),this.P?(gt(n,"$req",t),gt(n,"SID","null"),s.aa=!0,$a(s,n,null)):$a(s,n,t),this.H=2}}else this.H==3&&(e?Wu(this,e):this.j.length==0||qd(this.i)||Wu(this))};function Wu(e,t){var n;t?n=t.m:n=e.W++;const r=qe(e.I);gt(r,"SID",e.K),gt(r,"RID",n),gt(r,"AID",e.V),Ls(e,r),e.o&&e.s&&Kl(r,e.o,e.s),n=new Ns(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=ep(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),ql(e.i,n),$a(n,r,t)}function Ls(e,t){e.na&&Vl(e.na,function(n,r){gt(t,r,n)}),e.h&&Ld({},function(n,r){gt(t,r,n)})}function ep(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Kt(e.h.Va,e.h,e):null;t:{var s=e.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=i,0>c)i=Math.max(0,s[l].g-100),a=!1;else try{lw(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break t}}}return e=e.j.splice(0,n),t.F=e,r}function np(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ps||wd(),ms||(ps(),ms=!0),Ll.add(t,e),e.A=0}}function Gl(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Ds(Kt(e.Ma,e),ip(e,e.A)),e.A++,!0)}V.Ma=function(){if(this.u=null,rp(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Ds(Kt(this.jb,this),e)}};V.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Qt(10),To(this),rp(this))};function Wl(e){e.B!=null&&(G.clearTimeout(e.B),e.B=null)}function rp(e){e.g=new Ns(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=qe(e.wa);gt(t,"RID","rpc"),gt(t,"SID",e.K),gt(t,"AID",e.V),gt(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&gt(t,"TO",e.qa),gt(t,"TYPE","xmlhttp"),Ls(e,t),e.o&&e.s&&Kl(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=_o(qe(t)),n.u=null,n.S=!0,Od(n,e)}V.ib=function(){this.v!=null&&(this.v=null,To(this),Gl(this),Qt(19))};function xi(e){e.v!=null&&(G.clearTimeout(e.v),e.v=null)}function sp(e,t){var n=null;if(e.g==t){xi(e),Wl(e),e.g=null;var r=2}else if(Ha(e.i,t))n=t.F,Kd(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.G;var s=e.C;r=fo(),Mt(r,new Pd(r,n)),wo(e)}else np(e);else if(s=t.s,s==3||s==0&&0<t.ca||!(r==1&&mw(e,t)||r==2&&Gl(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:An(e,5);break;case 4:An(e,10);break;case 3:An(e,6);break;default:An(e,2)}}}function ip(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function An(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=Kt(e.pb,e);n||(n=new Cn("//www.google.com/images/cleardot.gif"),G.location&&G.location.protocol=="http"||Pi(n,"https"),_o(n)),cw(n.toString(),r)}else Qt(2);e.H=0,e.h&&e.h.za(t),op(e),tp(e)}V.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Qt(2)):(this.l.info("Failed to ping google.com"),Qt(1))};function op(e){if(e.H=0,e.ma=[],e.h){const t=zd(e.i);(t.length!=0||e.j.length!=0)&&(Fu(e.ma,t),Fu(e.ma,e.j),e.i.i.length=0,Cl(e.j),e.j.length=0),e.h.ya()}}function ap(e,t,n){var r=n instanceof Cn?qe(n):new Cn(n);if(r.g!="")t&&(r.g=t+"."+r.g),Ci(r,r.m);else{var s=G.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var i=new Cn(null);r&&Pi(i,r),t&&(i.g=t),s&&Ci(i,s),n&&(i.l=n),r=i}return n=e.F,t=e.Da,n&&t&&gt(r,n,t),gt(r,"VER",e.ra),Ls(e,r),r}function lp(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=e.Ha&&!e.va?new Tt(new yo({ob:n})):new Tt(e.va),t.Oa(e.J),t}V.isActive=function(){return!!this.h&&this.h.isActive(this)};function cp(){}V=cp.prototype;V.Ba=function(){};V.Aa=function(){};V.za=function(){};V.ya=function(){};V.isActive=function(){return!0};V.Va=function(){};function Vi(){if(mr&&!(10<=Number(PT)))throw Error("Environmental error: no available transport.")}Vi.prototype.g=function(e,t){return new oe(e,t)};function oe(e,t){Vt.call(this),this.g=new Zd(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!fs(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!fs(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new br(this)}Dt(oe,Vt);oe.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Qt(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=ap(e,null,e.Y),wo(e)};oe.prototype.close=function(){zl(this.g)};oe.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Ml(e),e=n);t.j.push(new sw(t.fb++,e)),t.H==3&&wo(t)};oe.prototype.N=function(){this.g.h=null,delete this.j,zl(this.g),delete this.g,oe.$.N.call(this)};function up(e){jl.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Dt(up,jl);function hp(){$l.call(this),this.status=1}Dt(hp,$l);function br(e){this.g=e}Dt(br,cp);br.prototype.Ba=function(){Mt(this.g,"a")};br.prototype.Aa=function(e){Mt(this.g,new up(e))};br.prototype.za=function(e){Mt(this.g,new hp)};br.prototype.ya=function(){Mt(this.g,"b")};function gw(){this.blockSize=-1}function ve(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Dt(ve,gw);ve.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function ra(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var s=0;16>s;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var i=e.g[3],o=t+(i^n&(s^i))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[1]+3905402710&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(i^n&(s^i))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[5]+1200080426&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(i^n&(s^i))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[9]+2336552879&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(i^n&(s^i))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=i+(s^t&(n^s))+r[13]+4254626195&4294967295,i=t+(o<<12&4294967295|o>>>20),o=s+(n^i&(t^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(t^s&(i^t))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(s^i&(n^s))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[6]+3225465664&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^i&(n^s))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[10]+38016083&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^i&(n^s))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[14]+3275163606&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^i&(n^s))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(t^n))+r[2]+4243563512&4294967295,i=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(i^t))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^t&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(n^s^i)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[8]+2272392833&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^i)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[4]+1272893353&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^i)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[0]+3936430074&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^i)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=i+(t^n^s)+r[12]+3873151461&4294967295,i=t+(o<<11&4294967295|o>>>21),o=s+(i^t^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^t)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(s^(n|~i))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[7]+1126891415&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~i))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[3]+2399980690&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~i))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[15]+4264355552&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~i))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=i+(n^(t|~s))+r[11]+3174756917&4294967295,i=t+(o<<10&4294967295|o>>>22),o=s+(t^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+i&4294967295}ve.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,s=this.h,i=0;i<t;){if(s==0)for(;i<=n;)ra(this,e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(r[s++]=e.charCodeAt(i++),s==this.blockSize){ra(this,r),s=0;break}}else for(;i<t;)if(r[s++]=e[i++],s==this.blockSize){ra(this,r),s=0;break}}this.h=s,this.i+=t};ve.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function ct(e,t){this.h=t;for(var n=[],r=!0,s=e.length-1;0<=s;s--){var i=e[s]|0;r&&i==t||(n[s]=i,r=!1)}this.g=n}var _w={};function Ql(e){return-128<=e&&128>e?RT(e,function(t){return new ct([t|0],0>t?-1:0)}):new ct([e|0],0>e?-1:0)}function Ce(e){if(isNaN(e)||!isFinite(e))return lr;if(0>e)return Nt(Ce(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Ka;return new ct(t,0)}function fp(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Nt(fp(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ce(Math.pow(t,8)),r=lr,s=0;s<e.length;s+=8){var i=Math.min(8,e.length-s),o=parseInt(e.substring(s,s+i),t);8>i?(i=Ce(Math.pow(t,i)),r=r.R(i).add(Ce(o))):(r=r.R(n),r=r.add(Ce(o)))}return r}var Ka=4294967296,lr=Ql(0),za=Ql(1),Qu=Ql(16777216);V=ct.prototype;V.ea=function(){if(le(this))return-Nt(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Ka+r)*t,t*=Ka}return e};V.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Fe(this))return"0";if(le(this))return"-"+Nt(this).toString(e);for(var t=Ce(Math.pow(e,6)),n=this,r="";;){var s=Oi(n,t).g;n=Di(n,s.R(t));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=s,Fe(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};V.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Fe(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function le(e){return e.h==-1}V.X=function(e){return e=Di(this,e),le(e)?-1:Fe(e)?0:1};function Nt(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new ct(n,~e.h).add(za)}V.abs=function(){return le(this)?Nt(this):this};V.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,s=0;s<=t;s++){var i=r+(this.D(s)&65535)+(e.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(e.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new ct(n,n[n.length-1]&-2147483648?-1:0)};function Di(e,t){return e.add(Nt(t))}V.R=function(e){if(Fe(this)||Fe(e))return lr;if(le(this))return le(e)?Nt(this).R(Nt(e)):Nt(Nt(this).R(e));if(le(e))return Nt(this.R(Nt(e)));if(0>this.X(Qu)&&0>e.X(Qu))return Ce(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<e.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(s)>>>16,l=e.D(s)&65535;n[2*r+2*s]+=o*l,ei(n,2*r+2*s),n[2*r+2*s+1]+=i*l,ei(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,ei(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,ei(n,2*r+2*s+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new ct(n,0)};function ei(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Lr(e,t){this.g=e,this.h=t}function Oi(e,t){if(Fe(t))throw Error("division by zero");if(Fe(e))return new Lr(lr,lr);if(le(e))return t=Oi(Nt(e),t),new Lr(Nt(t.g),Nt(t.h));if(le(t))return t=Oi(e,Nt(t)),new Lr(Nt(t.g),t.h);if(30<e.g.length){if(le(e)||le(t))throw Error("slowDivide_ only works with positive integers.");for(var n=za,r=t;0>=r.X(e);)n=Yu(n),r=Yu(r);var s=Kn(n,1),i=Kn(r,1);for(r=Kn(r,2),n=Kn(n,2);!Fe(r);){var o=i.add(r);0>=o.X(e)&&(s=s.add(n),i=o),r=Kn(r,1),n=Kn(n,1)}return t=Di(e,s.R(t)),new Lr(s,t)}for(s=lr;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Ce(n),o=i.R(t);le(o)||0<o.X(e);)n-=r,i=Ce(n),o=i.R(t);Fe(i)&&(i=za),s=s.add(i),e=Di(e,o)}return new Lr(s,e)}V.gb=function(e){return Oi(this,e).h};V.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new ct(n,this.h&e.h)};V.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new ct(n,this.h|e.h)};V.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new ct(n,this.h^e.h)};function Yu(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new ct(n,e.h)}function Kn(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,s=[],i=0;i<r;i++)s[i]=0<t?e.D(i+n)>>>t|e.D(i+n+1)<<32-t:e.D(i+n);return new ct(s,e.h)}Vi.prototype.createWebChannel=Vi.prototype.g;oe.prototype.send=oe.prototype.u;oe.prototype.open=oe.prototype.m;oe.prototype.close=oe.prototype.close;po.NO_ERROR=0;po.TIMEOUT=8;po.HTTP_ERROR=6;Cd.COMPLETE="complete";xd.EventType=Os;Os.OPEN="a";Os.CLOSE="b";Os.ERROR="c";Os.MESSAGE="d";Vt.prototype.listen=Vt.prototype.O;Tt.prototype.listenOnce=Tt.prototype.P;Tt.prototype.getLastError=Tt.prototype.Sa;Tt.prototype.getLastErrorCode=Tt.prototype.Ia;Tt.prototype.getStatus=Tt.prototype.da;Tt.prototype.getResponseJson=Tt.prototype.Wa;Tt.prototype.getResponseText=Tt.prototype.ja;Tt.prototype.send=Tt.prototype.ha;Tt.prototype.setWithCredentials=Tt.prototype.Oa;ve.prototype.digest=ve.prototype.l;ve.prototype.reset=ve.prototype.reset;ve.prototype.update=ve.prototype.j;ct.prototype.add=ct.prototype.add;ct.prototype.multiply=ct.prototype.R;ct.prototype.modulo=ct.prototype.gb;ct.prototype.compare=ct.prototype.X;ct.prototype.toNumber=ct.prototype.ea;ct.prototype.toString=ct.prototype.toString;ct.prototype.getBits=ct.prototype.D;ct.fromNumber=Ce;ct.fromString=fp;var yw=function(){return new Vi},vw=function(){return fo()},sa=po,Ew=Cd,Tw=Mn,Xu={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ni=xd,ww=Tt,Iw=ve,cr=ct;const Ju="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sr="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn=new sd("@firebase/firestore");function Fr(){return Vn.logLevel}function x(e,...t){if(Vn.logLevel<=rt.DEBUG){const n=t.map(Yl);Vn.debug(`Firestore (${Sr}): ${e}`,...n)}}function Oe(e,...t){if(Vn.logLevel<=rt.ERROR){const n=t.map(Yl);Vn.error(`Firestore (${Sr}): ${e}`,...n)}}function gr(e,...t){if(Vn.logLevel<=rt.WARN){const n=t.map(Yl);Vn.warn(`Firestore (${Sr}): ${e}`,...n)}}function Yl(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z(e="Unexpected state"){const t=`FIRESTORE (${Sr}) INTERNAL ASSERTION FAILED: `+e;throw Oe(t),new Error(t)}function ft(e,t){e||z()}function Y(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class F extends Ar{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Aw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(jt.UNAUTHENTICATED))}shutdown(){}}class Rw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bw{constructor(t){this.t=t,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new je;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new je,t.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{x("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(x("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new je)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(x("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ft(typeof r.accessToken=="string"),new dp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return ft(t===null||typeof t=="string"),new jt(t)}}class Sw{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Pw{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new Sw(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cw{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xw{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const r=i=>{i.error!=null&&x("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,x("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>r(i))};const s=i=>{x("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):x("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ft(typeof n.token=="string"),this.R=n.token,new Cw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const s=Vw(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=t.charAt(s[i]%t.length))}return r}}function st(e,t){return e<t?-1:e>t?1:0}function _r(e,t,n){return e.length===t.length&&e.every((r,s)=>n(r,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new F(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new F(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new F(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return bt.fromMillis(Date.now())}static fromDate(t){return bt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new bt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?st(this.nanoseconds,t.nanoseconds):st(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Q(t)}static min(){return new Q(new bt(0,0))}static max(){return new Q(new bt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(t,n,r){n===void 0?n=0:n>t.length&&z(),r===void 0?r=t.length-n:r>t.length-n&&z(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Es.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Es?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let s=0;s<r;s++){const i=t.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class vt extends Es{construct(t,n,r){return new vt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new F(T.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new vt(n)}static emptyPath(){return new vt([])}}const Dw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends Es{construct(t,n,r){return new kt(t,n,r)}static isValidIdentifier(t){return Dw.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new kt(["__name__"])}static fromServerFormat(t){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new F(T.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<t.length;){const a=t[s];if(a==="\\"){if(s+1===t.length)throw new F(T.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new F(T.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new F(T.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new kt(n)}static emptyPath(){return new kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(t){this.path=t}static fromPath(t){return new j(vt.fromString(t))}static fromName(t){return new j(vt.fromString(t).popFirst(5))}static empty(){return new j(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&vt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return vt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new j(new vt(t.slice()))}}function Ow(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=Q.fromTimestamp(r===1e9?new bt(n+1,0):new bt(n,r));return new un(s,j.empty(),t)}function Nw(e){return new un(e.readTime,e.key,-1)}class un{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new un(Q.min(),j.empty(),-1)}static max(){return new un(Q.max(),j.empty(),-1)}}function kw(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=j.comparator(e.documentKey,t.documentKey),n!==0?n:st(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Lw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fs(e){if(e.code!==T.FAILED_PRECONDITION||e.message!==Mw)throw e;x("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new E((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof E?n:E.resolve(n)}catch(n){return E.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):E.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):E.reject(n)}static resolve(t){return new E((n,r)=>{n(t)})}static reject(t){return new E((n,r)=>{r(t)})}static waitFor(t){return new E((n,r)=>{let s=0,i=0,o=!1;t.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(t){let n=E.resolve(!1);for(const r of t)n=n.next(s=>s?E.resolve(s):r());return n}static forEach(t,n){const r=[];return t.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(t,n){return new E((r,s)=>{const i=t.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(t[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(t,n){return new E((r,s)=>{const i=()=>{t()===!0?n().next(()=>{i()},s):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(t,n){this.action=t,this.transaction=n,this.aborted=!1,this.V=new je,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Jr(t,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const s=Jl(r.target.error);this.V.reject(new Jr(t,s))}}static open(t,n,r,s){try{return new Xl(n,t.transaction(s,r))}catch(i){throw new Jr(n,i)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(x("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const n=this.transaction.objectStore(t);return new Uw(n)}}class Rn{constructor(t,n,r){this.name=t,this.version=n,this.p=r,Rn.S(Ri())===12.2&&Oe("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return x("SimpleDb","Removing database:",t),Tn(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!nd())return!1;if(Rn.C())return!0;const t=Ri(),n=Rn.S(t),r=0<n&&n<10,s=Rn.v(t),i=0<s&&s<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||i)}static C(){var t;return typeof process<"u"&&((t=process.__PRIVATE_env)===null||t===void 0?void 0:t.F)==="YES"}static M(t,n){return t.store(n)}static S(t){const n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(t){const n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(t){return this.db||(x("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const o=i.target.result;n(o)},s.onblocked=()=>{r(new Jr(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const o=i.target.error;o.name==="VersionError"?r(new F(T.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new F(T.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Jr(t,o))},s.onupgradeneeded=i=>{x("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;this.p.N(o,s.transaction,i.oldVersion,this.version).next(()=>{x("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(t){this.L=t,this.db&&(this.db.onversionchange=n=>t(n))}async runTransaction(t,n,r,s){const i=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(t);const a=Xl.open(this.db,t,i?"readonly":"readwrite",r),l=s(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),E.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(x("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Fw{constructor(t){this.k=t,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(t){this.k=t}done(){this.q=!0}U(t){this.K=t}delete(){return Tn(this.k.delete())}}class Jr extends F{constructor(t,n){super(T.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Us(e){return e.name==="IndexedDbTransactionError"}class Uw{constructor(t){this.store=t}put(t,n){let r;return n!==void 0?(x("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(x("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Tn(r)}add(t){return x("SimpleDb","ADD",this.store.name,t,t),Tn(this.store.add(t))}get(t){return Tn(this.store.get(t)).next(n=>(n===void 0&&(n=null),x("SimpleDb","GET",this.store.name,t,n),n))}delete(t){return x("SimpleDb","DELETE",this.store.name,t),Tn(this.store.delete(t))}count(){return x("SimpleDb","COUNT",this.store.name),Tn(this.store.count())}W(t,n){const r=this.options(t,n),s=r.index?this.store.index(r.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(r.range);return new E((o,a)=>{i.onerror=l=>{a(l.target.error)},i.onsuccess=l=>{o(l.target.result)}})}{const i=this.cursor(r),o=[];return this.G(i,(a,l)=>{o.push(l)}).next(()=>o)}}j(t,n){const r=this.store.getAll(t,n===null?void 0:n);return new E((s,i)=>{r.onerror=o=>{i(o.target.error)},r.onsuccess=o=>{s(o.target.result)}})}H(t,n){x("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,n);r.J=!1;const s=this.cursor(r);return this.G(s,(i,o,a)=>a.delete())}Y(t,n){let r;n?r=t:(r={},n=t);const s=this.cursor(r);return this.G(s,n)}Z(t){const n=this.cursor({});return new E((r,s)=>{n.onerror=i=>{const o=Jl(i.target.error);s(o)},n.onsuccess=i=>{const o=i.target.result;o?t(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(t,n){const r=[];return new E((s,i)=>{t.onerror=o=>{i(o.target.error)},t.onsuccess=o=>{const a=o.target.result;if(!a)return void s();const l=new Fw(a),c=n(a.primaryKey,a.value,l);if(c instanceof E){const u=c.catch(h=>(l.done(),E.reject(h)));r.push(u)}l.isDone?s():l.$===null?a.continue():a.continue(l.$)}}).next(()=>E.waitFor(r))}options(t,n){let r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}}cursor(t){let n="next";if(t.reverse&&(n="prev"),t.index){const r=this.store.index(t.index);return t.J?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)}}function Tn(e){return new E((t,n)=>{e.onsuccess=r=>{const s=r.target.result;t(s)},e.onerror=r=>{const s=Jl(r.target.error);n(s)}})}let Zu=!1;function Jl(e){const t=Rn.S(Ri());if(t>=12.2&&t<13){const n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){const r=new F("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Zu||(Zu=!0,setTimeout(()=>{throw r},0)),r}}return e}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}Zl._e=-1;function Io(e){return e==null}function Ni(e){return e===0&&1/e==-1/0}function Bw(e){return typeof e=="number"&&Number.isInteger(e)&&!Ni(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Pr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function mp(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t,n){this.comparator=t,this.root=n||Ot.EMPTY}insert(t,n){return new Et(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(t){return new Et(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ri(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ri(this.root,t,this.comparator,!1)}getReverseIterator(){return new ri(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ri(this.root,t,this.comparator,!0)}}class ri{constructor(t,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=n?r(t.key,n):1,n&&s&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ot{constructor(t,n,r,s,i){this.key=t,this.value=n,this.color=r??Ot.RED,this.left=s??Ot.EMPTY,this.right=i??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,s,i){return new Ot(t??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let s=this;const i=r(t,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(t,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return Ot.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw z();const t=this.left.check();if(t!==this.right.check())throw z();return t+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw z()}get value(){throw z()}get color(){throw z()}get left(){throw z()}get right(){throw z()}copy(t,n,r,s,i){return this}insert(t,n,r){return new Ot(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(t){this.comparator=t,this.data=new Et(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new eh(this.data.getIterator())}getIteratorFrom(t){return new eh(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof Lt)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Lt(this.comparator);return n.data=t,n}}class eh{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t){this.fields=t,t.sort(kt.comparator)}static empty(){return new me([])}unionWith(t){let n=new Lt(kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new me(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return _r(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new gp("Invalid base64 string: "+i):i}}(t);return new Gt(n)}static fromUint8Array(t){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(t);return new Gt(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return st(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const jw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hn(e){if(ft(!!e),typeof e=="string"){let t=0;const n=jw.exec(e);if(ft(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:At(e.seconds),nanos:At(e.nanos)}}function At(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Dn(e){return typeof e=="string"?Gt.fromBase64String(e):Gt.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ec(e){const t=e.mapValue.fields.__previous_value__;return tc(t)?ec(t):t}function Ts(e){const t=hn(e.mapValue.fields.__local_write_time__.timestampValue);return new bt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t,n,r,s,i,o,a,l,c){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class ws{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new ws("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof ws&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function On(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?tc(e)?4:qw(e)?9007199254740991:10:z()}function Ne(e,t){if(e===t)return!0;const n=On(e);if(n!==On(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ts(e).isEqual(Ts(t));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=hn(s.timestampValue),a=hn(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,i){return Dn(s.bytesValue).isEqual(Dn(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,i){return At(s.geoPointValue.latitude)===At(i.geoPointValue.latitude)&&At(s.geoPointValue.longitude)===At(i.geoPointValue.longitude)}(e,t);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return At(s.integerValue)===At(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=At(s.doubleValue),a=At(i.doubleValue);return o===a?Ni(o)===Ni(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return _r(e.arrayValue.values||[],t.arrayValue.values||[],Ne);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(th(o)!==th(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ne(o[l],a[l])))return!1;return!0}(e,t);default:return z()}}function Is(e,t){return(e.values||[]).find(n=>Ne(n,t))!==void 0}function yr(e,t){if(e===t)return 0;const n=On(e),r=On(t);if(n!==r)return st(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return st(e.booleanValue,t.booleanValue);case 2:return function(i,o){const a=At(i.integerValue||i.doubleValue),l=At(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return nh(e.timestampValue,t.timestampValue);case 4:return nh(Ts(e),Ts(t));case 5:return st(e.stringValue,t.stringValue);case 6:return function(i,o){const a=Dn(i),l=Dn(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=st(a[c],l[c]);if(u!==0)return u}return st(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,o){const a=st(At(i.latitude),At(o.latitude));return a!==0?a:st(At(i.longitude),At(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=yr(a[c],l[c]);if(u)return u}return st(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,o){if(i===si.mapValue&&o===si.mapValue)return 0;if(i===si.mapValue)return 1;if(o===si.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const d=st(l[h],u[h]);if(d!==0)return d;const m=yr(a[l[h]],c[u[h]]);if(m!==0)return m}return st(l.length,u.length)}(e.mapValue,t.mapValue);default:throw z()}}function nh(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return st(e,t);const n=hn(e),r=hn(t),s=st(n.seconds,r.seconds);return s!==0?s:st(n.nanos,r.nanos)}function vr(e){return Ga(e)}function Ga(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=hn(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Dn(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return j.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Ga(i);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Ga(n.fields[o])}`;return s+"}"}(e.mapValue):z()}function Wa(e){return!!e&&"integerValue"in e}function nc(e){return!!e&&"arrayValue"in e}function rh(e){return!!e&&"nullValue"in e}function sh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function di(e){return!!e&&"mapValue"in e}function Zr(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Pr(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Zr(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Zr(e.arrayValue.values[n]);return t}return Object.assign({},e)}function qw(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t){this.value=t}static empty(){return new ce({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!di(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Zr(n)}setAll(t){let n=kt.emptyPath(),r={},s=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Zr(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(t){const n=this.field(t.popLast());di(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ne(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let s=n.mapValue.fields[t.get(r)];di(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,r){Pr(n,(s,i)=>t[s]=i);for(const s of r)delete t[s]}clone(){return new ce(Zr(this.value))}}function _p(e){const t=[];return Pr(e.fields,(n,r)=>{const s=new kt([n]);if(di(r)){const i=_p(r.mapValue).fields;if(i.length===0)t.push(s);else for(const o of i)t.push(s.child(o))}else t.push(s)}),new me(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t,n,r,s,i,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(t){return new $t(t,0,Q.min(),Q.min(),Q.min(),ce.empty(),0)}static newFoundDocument(t,n,r,s){return new $t(t,1,n,Q.min(),r,s,0)}static newNoDocument(t,n){return new $t(t,2,n,Q.min(),Q.min(),ce.empty(),0)}static newUnknownDocument(t,n){return new $t(t,3,n,Q.min(),Q.min(),ce.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ce.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ce.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Q.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $t&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(t,n){this.position=t,this.inclusive=n}}function ih(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],o=e.position[s];if(i.field.isKeyField()?r=j.comparator(j.fromName(o.referenceValue),n.key):r=yr(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function oh(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ne(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(t,n="asc"){this.field=t,this.dir=n}}function Hw(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{}class Rt extends yp{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new zw(t,n,r):n==="array-contains"?new Qw(t,r):n==="in"?new Yw(t,r):n==="not-in"?new Xw(t,r):n==="array-contains-any"?new Jw(t,r):new Rt(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new Gw(t,r):new Ww(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(yr(n,this.value)):n!==null&&On(this.value)===On(n)&&this.matchesComparison(yr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ke extends yp{constructor(t,n){super(),this.filters=t,this.op=n,this.ue=null}static create(t,n){return new ke(t,n)}matches(t){return vp(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function vp(e){return e.op==="and"}function Ep(e){return Kw(e)&&vp(e)}function Kw(e){for(const t of e.filters)if(t instanceof ke)return!1;return!0}function Qa(e){if(e instanceof Rt)return e.field.canonicalString()+e.op.toString()+vr(e.value);if(Ep(e))return e.filters.map(t=>Qa(t)).join(",");{const t=e.filters.map(n=>Qa(n)).join(",");return`${e.op}(${t})`}}function Tp(e,t){return e instanceof Rt?function(r,s){return s instanceof Rt&&r.op===s.op&&r.field.isEqual(s.field)&&Ne(r.value,s.value)}(e,t):e instanceof ke?function(r,s){return s instanceof ke&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Tp(o,s.filters[a]),!0):!1}(e,t):void z()}function wp(e){return e instanceof Rt?function(n){return`${n.field.canonicalString()} ${n.op} ${vr(n.value)}`}(e):e instanceof ke?function(n){return n.op.toString()+" {"+n.getFilters().map(wp).join(" ,")+"}"}(e):"Filter"}class zw extends Rt{constructor(t,n,r){super(t,n,r),this.key=j.fromName(r.referenceValue)}matches(t){const n=j.comparator(t.key,this.key);return this.matchesComparison(n)}}class Gw extends Rt{constructor(t,n){super(t,"in",n),this.keys=Ip("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Ww extends Rt{constructor(t,n){super(t,"not-in",n),this.keys=Ip("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Ip(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>j.fromName(r.referenceValue))}class Qw extends Rt{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return nc(n)&&Is(n.arrayValue,this.value)}}class Yw extends Rt{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Is(this.value.arrayValue,n)}}class Xw extends Rt{constructor(t,n){super(t,"not-in",n)}matches(t){if(Is(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Is(this.value.arrayValue,n)}}class Jw extends Rt{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!nc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Is(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(t,n=null,r=[],s=[],i=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ce=null}}function ah(e,t=null,n=[],r=[],s=null,i=null,o=null){return new Zw(e,t,n,r,s,i,o)}function rc(e){const t=Y(e);if(t.ce===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Qa(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Io(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>vr(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>vr(r)).join(",")),t.ce=n}return t.ce}function sc(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Hw(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Tp(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!oh(e.startAt,t.startAt)&&oh(e.endAt,t.endAt)}function Ya(e){return j.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(t,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function t0(e,t,n,r,s,i,o,a){return new Ao(e,t,n,r,s,i,o,a)}function Ap(e){return new Ao(e)}function lh(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function e0(e){return e.collectionGroup!==null}function ts(e){const t=Y(e);if(t.le===null){t.le=[];const n=new Set;for(const i of t.explicitOrderBy)t.le.push(i),n.add(i.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Lt(kt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||t.le.push(new Mi(i,r))}),n.has(kt.keyField().canonicalString())||t.le.push(new Mi(kt.keyField(),r))}return t.le}function xe(e){const t=Y(e);return t.he||(t.he=n0(t,ts(e))),t.he}function n0(e,t){if(e.limitType==="F")return ah(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Mi(s.field,i)});const n=e.endAt?new ki(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ki(e.startAt.position,e.startAt.inclusive):null;return ah(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Xa(e,t,n){return new Ao(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ro(e,t){return sc(xe(e),xe(t))&&e.limitType===t.limitType}function Rp(e){return`${rc(xe(e))}|lt:${e.limitType}`}function Wn(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>wp(s)).join(", ")}]`),Io(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>vr(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>vr(s)).join(",")),`Target(${r})`}(xe(e))}; limitType=${e.limitType})`}function bo(e,t){return t.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):j.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(e,t)&&function(r,s){for(const i of ts(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(e,t)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(e,t)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=ih(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,ts(r),s)||r.endAt&&!function(o,a,l){const c=ih(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,ts(r),s))}(e,t)}function r0(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function bp(e){return(t,n)=>{let r=!1;for(const s of ts(e)){const i=s0(s,t,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function s0(e,t,n){const r=e.field.isKeyField()?j.comparator(t.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?yr(l,c):z()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,t))return i}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return void(s[i]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Pr(this.inner,(n,r)=>{for(const[s,i]of r)t(s,i)})}isEmpty(){return mp(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=new Et(j.comparator);function He(){return i0}const Sp=new Et(j.comparator);function qr(...e){let t=Sp;for(const n of e)t=t.insert(n.key,n);return t}function Pp(e){let t=Sp;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function bn(){return es()}function Cp(){return es()}function es(){return new Cr(e=>e.toString(),(e,t)=>e.isEqual(t))}const o0=new Et(j.comparator),a0=new Lt(j.comparator);function tt(...e){let t=a0;for(const n of e)t=t.add(n);return t}const l0=new Lt(st);function c0(){return l0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ni(t)?"-0":t}}function Vp(e){return{integerValue:""+e}}function u0(e,t){return Bw(t)?Vp(t):xp(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this._=void 0}}function h0(e,t,n){return e instanceof Li?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&tc(i)&&(i=ec(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,t):e instanceof As?Op(e,t):e instanceof Rs?Np(e,t):function(s,i){const o=Dp(s,i),a=ch(o)+ch(s.Ie);return Wa(o)&&Wa(s.Ie)?Vp(a):xp(s.serializer,a)}(e,t)}function f0(e,t,n){return e instanceof As?Op(e,t):e instanceof Rs?Np(e,t):n}function Dp(e,t){return e instanceof Fi?function(r){return Wa(r)||function(i){return!!i&&"doubleValue"in i}(r)}(t)?t:{integerValue:0}:null}class Li extends So{}class As extends So{constructor(t){super(),this.elements=t}}function Op(e,t){const n=kp(t);for(const r of e.elements)n.some(s=>Ne(s,r))||n.push(r);return{arrayValue:{values:n}}}class Rs extends So{constructor(t){super(),this.elements=t}}function Np(e,t){let n=kp(t);for(const r of e.elements)n=n.filter(s=>!Ne(s,r));return{arrayValue:{values:n}}}class Fi extends So{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function ch(e){return At(e.integerValue||e.doubleValue)}function kp(e){return nc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function d0(e,t){return e.field.isEqual(t.field)&&function(r,s){return r instanceof As&&s instanceof As||r instanceof Rs&&s instanceof Rs?_r(r.elements,s.elements,Ne):r instanceof Fi&&s instanceof Fi?Ne(r.Ie,s.Ie):r instanceof Li&&s instanceof Li}(e.transform,t.transform)}class p0{constructor(t,n){this.version=t,this.transformResults=n}}class $e{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new $e}static exists(t){return new $e(void 0,t)}static updateTime(t){return new $e(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function pi(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Po{}function Mp(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Fp(e.key,$e.none()):new Bs(e.key,e.data,$e.none());{const n=e.data,r=ce.empty();let s=new Lt(kt.comparator);for(let i of t.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ln(e.key,r,new me(s.toArray()),$e.none())}}function m0(e,t,n){e instanceof Bs?function(s,i,o){const a=s.value.clone(),l=hh(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Ln?function(s,i,o){if(!pi(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=hh(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Lp(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function ns(e,t,n,r){return e instanceof Bs?function(i,o,a,l){if(!pi(i.precondition,o))return a;const c=i.value.clone(),u=fh(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ln?function(i,o,a,l){if(!pi(i.precondition,o))return a;const c=fh(i.fieldTransforms,l,o),u=o.data;return u.setAll(Lp(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(e,t,n,r):function(i,o,a){return pi(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function g0(e,t){let n=null;for(const r of e.fieldTransforms){const s=t.data.field(r.field),i=Dp(r.transform,s||null);i!=null&&(n===null&&(n=ce.empty()),n.set(r.field,i))}return n||null}function uh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&_r(r,s,(i,o)=>d0(i,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Bs extends Po{constructor(t,n,r,s=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ln extends Po{constructor(t,n,r,s,i=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Lp(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function hh(e,t,n){const r=new Map;ft(e.length===n.length);for(let s=0;s<n.length;s++){const i=e[s],o=i.transform,a=t.data.field(i.field);r.set(i.field,f0(o,a,n[s]))}return r}function fh(e,t,n){const r=new Map;for(const s of e){const i=s.transform,o=n.data.field(s.field);r.set(s.field,h0(i,o,t))}return r}class Fp extends Po{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _0 extends Po{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(t,n,r,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(t.key)&&m0(i,t,r[s])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=ns(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=ns(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Cp();return this.mutations.forEach(s=>{const i=t.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=Mp(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Q.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),tt())}isEqual(t){return this.batchId===t.batchId&&_r(this.mutations,t.mutations,(n,r)=>uh(n,r))&&_r(this.baseMutations,t.baseMutations,(n,r)=>uh(n,r))}}class ic{constructor(t,n,r,s){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(t,n,r){ft(t.mutations.length===r.length);let s=function(){return o0}();const i=t.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new ic(t,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,et;function T0(e){switch(e){default:return z();case T.CANCELLED:case T.UNKNOWN:case T.DEADLINE_EXCEEDED:case T.RESOURCE_EXHAUSTED:case T.INTERNAL:case T.UNAVAILABLE:case T.UNAUTHENTICATED:return!1;case T.INVALID_ARGUMENT:case T.NOT_FOUND:case T.ALREADY_EXISTS:case T.PERMISSION_DENIED:case T.FAILED_PRECONDITION:case T.ABORTED:case T.OUT_OF_RANGE:case T.UNIMPLEMENTED:case T.DATA_LOSS:return!0}}function Up(e){if(e===void 0)return Oe("GRPC error has no .code"),T.UNKNOWN;switch(e){case It.OK:return T.OK;case It.CANCELLED:return T.CANCELLED;case It.UNKNOWN:return T.UNKNOWN;case It.DEADLINE_EXCEEDED:return T.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return T.RESOURCE_EXHAUSTED;case It.INTERNAL:return T.INTERNAL;case It.UNAVAILABLE:return T.UNAVAILABLE;case It.UNAUTHENTICATED:return T.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return T.INVALID_ARGUMENT;case It.NOT_FOUND:return T.NOT_FOUND;case It.ALREADY_EXISTS:return T.ALREADY_EXISTS;case It.PERMISSION_DENIED:return T.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return T.FAILED_PRECONDITION;case It.ABORTED:return T.ABORTED;case It.OUT_OF_RANGE:return T.OUT_OF_RANGE;case It.UNIMPLEMENTED:return T.UNIMPLEMENTED;case It.DATA_LOSS:return T.DATA_LOSS;default:return z()}}(et=It||(It={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=new cr([4294967295,4294967295],0);function dh(e){const t=w0().encode(e),n=new Iw;return n.update(t),new Uint8Array(n.digest())}function ph(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new cr([n,r],0),new cr([s,i],0)]}class oc{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Hr(`Invalid padding: ${n}`);if(r<0)throw new Hr(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Hr(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Hr(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*t.length-n,this.Ee=cr.fromNumber(this.Te)}de(t,n,r){let s=t.add(n.multiply(cr.fromNumber(r)));return s.compare(I0)===1&&(s=new cr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ee).toNumber()}Ae(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Te===0)return!1;const n=dh(t),[r,s]=ph(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ae(o))return!1}return!0}static create(t,n,r){const s=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),o=new oc(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.Te===0)return;const n=dh(t),[r,s]=ph(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Re(o)}}Re(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Hr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(t,n,r,s,i){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const s=new Map;return s.set(t,js.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Co(Q.min(),s,new Et(st),He(),tt())}}class js{constructor(t,n,r,s,i){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new js(r,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(t,n,r,s){this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=s}}class Bp{constructor(t,n){this.targetId=t,this.fe=n}}class jp{constructor(t,n,r=Gt.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=s}}class mh{constructor(){this.ge=0,this.pe=_h(),this.ye=Gt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.ye=t)}ve(){let t=tt(),n=tt(),r=tt();return this.pe.forEach((s,i)=>{switch(i){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:z()}}),new js(this.ye,this.we,t,n,r)}Fe(){this.Se=!1,this.pe=_h()}Me(t,n){this.Se=!0,this.pe=this.pe.insert(t,n)}xe(t){this.Se=!0,this.pe=this.pe.remove(t)}Oe(){this.ge+=1}Ne(){this.ge-=1,ft(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class A0{constructor(t){this.Be=t,this.ke=new Map,this.qe=He(),this.Qe=gh(),this.Ke=new Et(st)}$e(t){for(const n of t.Ve)t.me&&t.me.isFoundDocument()?this.Ue(n,t.me):this.We(n,t.key,t.me);for(const n of t.removedTargetIds)this.We(n,t.key,t.me)}Ge(t){this.forEachTarget(t,n=>{const r=this.ze(n);switch(t.state){case 0:this.je(n)&&r.Ce(t.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(t.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(t.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(t.resumeToken));break;default:z()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ke.forEach((r,s)=>{this.je(s)&&n(s)})}Je(t){const n=t.targetId,r=t.fe.count,s=this.Ye(n);if(s){const i=s.target;if(Ya(i))if(r===0){const o=new j(i.path);this.We(n,o,$t.newNoDocument(o,Q.min()))}else ft(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(t),l=a?this.et(a,t,o):1;if(l!==0){this.He(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(t){const n=t.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Dn(r).toUint8Array()}catch(l){if(l instanceof gp)return gr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new oc(o,s,i)}catch(l){return gr(l instanceof Hr?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(t,n,r){return n.fe.count===r-this.rt(t,n.targetId)?0:2}rt(t,n){const r=this.Be.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;t.mightContain(a)||(this.We(n,i,null),s++)}),s}it(t){const n=new Map;this.ke.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&Ya(a.target)){const l=new j(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,$t.newNoDocument(l,t))}i.De&&(n.set(o,i.ve()),i.Fe())}});let r=tt();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Ye(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.qe.forEach((i,o)=>o.setReadTime(t));const s=new Co(t,n,this.Ke,this.qe,r);return this.qe=He(),this.Qe=gh(),this.Ke=new Et(st),s}Ue(t,n){if(!this.je(t))return;const r=this.st(t,n.key)?2:0;this.ze(t).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(t))}We(t,n,r){if(!this.je(t))return;const s=this.ze(t);this.st(t,n)?s.Me(n,1):s.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(t)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(t){this.ke.delete(t)}Ze(t){const n=this.ze(t).ve();return this.Be.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Oe(t){this.ze(t).Oe()}ze(t){let n=this.ke.get(t);return n||(n=new mh,this.ke.set(t,n)),n}ot(t){let n=this.Qe.get(t);return n||(n=new Lt(st),this.Qe=this.Qe.insert(t,n)),n}je(t){const n=this.Ye(t)!==null;return n||x("WatchChangeAggregator","Detected inactive target",t),n}Ye(t){const n=this.ke.get(t);return n&&n.be?null:this.Be._t(t)}He(t){this.ke.set(t,new mh),this.Be.getRemoteKeysForTarget(t).forEach(n=>{this.We(t,n,null)})}st(t,n){return this.Be.getRemoteKeysForTarget(t).has(n)}}function gh(){return new Et(j.comparator)}function _h(){return new Et(j.comparator)}const R0={asc:"ASCENDING",desc:"DESCENDING"},b0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},S0={and:"AND",or:"OR"};class P0{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ja(e,t){return e.useProto3Json||Io(t)?t:{value:t}}function Ui(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function $p(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function C0(e,t){return Ui(e,t.toTimestamp())}function Ve(e){return ft(!!e),Q.fromTimestamp(function(n){const r=hn(n);return new bt(r.seconds,r.nanos)}(e))}function ac(e,t){return Za(e,t).canonicalString()}function Za(e,t){const n=function(s){return new vt(["projects",s.projectId,"databases",s.database])}(e).child("documents");return t===void 0?n:n.child(t)}function qp(e){const t=vt.fromString(e);return ft(Wp(t)),t}function tl(e,t){return ac(e.databaseId,t.path)}function ia(e,t){const n=qp(t);if(n.get(1)!==e.databaseId.projectId)throw new F(T.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new F(T.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new j(Kp(n))}function Hp(e,t){return ac(e.databaseId,t)}function x0(e){const t=qp(e);return t.length===4?vt.emptyPath():Kp(t)}function el(e){return new vt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Kp(e){return ft(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function yh(e,t,n){return{name:tl(e,t),fields:n.value.mapValue.fields}}function V0(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:z()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(ft(u===void 0||typeof u=="string"),Gt.fromBase64String(u||"")):(ft(u===void 0||u instanceof Uint8Array),Gt.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const u=c.code===void 0?T.UNKNOWN:Up(c.code);return new F(u,c.message||"")}(o);n=new jp(r,s,i,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=ia(e,r.document.name),i=Ve(r.document.updateTime),o=r.document.createTime?Ve(r.document.createTime):Q.min(),a=new ce({mapValue:{fields:r.document.fields}}),l=$t.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new mi(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=ia(e,r.document),i=r.readTime?Ve(r.readTime):Q.min(),o=$t.newNoDocument(s,i),a=r.removedTargetIds||[];n=new mi([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=ia(e,r.document),i=r.removedTargetIds||[];n=new mi([],i,s,null)}else{if(!("filter"in t))return z();{t.filter;const r=t.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new E0(s,i),a=r.targetId;n=new Bp(a,o)}}return n}function D0(e,t){let n;if(t instanceof Bs)n={update:yh(e,t.key,t.value)};else if(t instanceof Fp)n={delete:tl(e,t.key)};else if(t instanceof Ln)n={update:yh(e,t.key,t.data),updateMask:j0(t.fieldMask)};else{if(!(t instanceof _0))return z();n={verify:tl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Li)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof As)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Rs)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Fi)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw z()}(0,r))),t.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:C0(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:z()}(e,t.precondition)),n}function O0(e,t){return e&&e.length>0?(ft(t!==void 0),e.map(n=>function(s,i){let o=s.updateTime?Ve(s.updateTime):Ve(i);return o.isEqual(Q.min())&&(o=Ve(i)),new p0(o,s.transformResults||[])}(n,t))):[]}function N0(e,t){return{documents:[Hp(e,t.path)]}}function k0(e,t){const n={structuredQuery:{}},r=t.path;let s;t.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Hp(e,s);const i=function(c){if(c.length!==0)return Gp(ke.create(c,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:Qn(d.field),direction:F0(d.dir)}}(u))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ja(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{ut:n,parent:s}}function M0(e){let t=x0(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ft(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:t=t.child(u.collectionId)}let i=[];n.where&&(i=function(h){const d=zp(h);return d instanceof ke&&Ep(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(d=>function(w){return new Mi(Yn(w.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,Io(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,m=h.values||[];return new ki(m,d)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const d=!h.before,m=h.values||[];return new ki(m,d)}(n.endAt)),t0(t,s,o,i,a,"F",l,c)}function L0(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return z()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function zp(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Yn(n.unaryFilter.field);return Rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Yn(n.unaryFilter.field);return Rt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Yn(n.unaryFilter.field);return Rt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Yn(n.unaryFilter.field);return Rt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return z()}}(e):e.fieldFilter!==void 0?function(n){return Rt.create(Yn(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return z()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return ke.create(n.compositeFilter.filters.map(r=>zp(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return z()}}(n.compositeFilter.op))}(e):z()}function F0(e){return R0[e]}function U0(e){return b0[e]}function B0(e){return S0[e]}function Qn(e){return{fieldPath:e.canonicalString()}}function Yn(e){return kt.fromServerFormat(e.fieldPath)}function Gp(e){return e instanceof Rt?function(n){if(n.op==="=="){if(sh(n.value))return{unaryFilter:{field:Qn(n.field),op:"IS_NAN"}};if(rh(n.value))return{unaryFilter:{field:Qn(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sh(n.value))return{unaryFilter:{field:Qn(n.field),op:"IS_NOT_NAN"}};if(rh(n.value))return{unaryFilter:{field:Qn(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qn(n.field),op:U0(n.op),value:n.value}}}(e):e instanceof ke?function(n){const r=n.getFilters().map(s=>Gp(s));return r.length===1?r[0]:{compositeFilter:{op:B0(n.op),filters:r}}}(e):z()}function j0(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Wp(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t,n,r,s,i=Q.min(),o=Q.min(),a=Gt.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new en(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new en(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new en(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new en(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(t){this.ct=t}}function q0(e){const t=M0({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Xa(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(){this._n=new K0}addToCollectionParentIndex(t,n){return this._n.add(n),E.resolve()}getCollectionParents(t,n){return E.resolve(this._n.getEntries(n))}addFieldIndex(t,n){return E.resolve()}deleteFieldIndex(t,n){return E.resolve()}deleteAllFieldIndexes(t){return E.resolve()}createTargetIndexes(t,n){return E.resolve()}getDocumentsMatchingTarget(t,n){return E.resolve(null)}getIndexType(t,n){return E.resolve(0)}getFieldIndexes(t,n){return E.resolve([])}getNextCollectionGroupToUpdate(t){return E.resolve(null)}getMinOffset(t,n){return E.resolve(un.min())}getMinOffsetFromCollectionGroup(t,n){return E.resolve(un.min())}updateCollectionGroup(t,n,r){return E.resolve()}updateIndexEntries(t,n){return E.resolve()}}class K0{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n]||new Lt(vt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(t){const n=t.lastSegment(),r=t.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(t){return(this.index[t]||new Lt(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new Er(0)}static Ln(){return new Er(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this.changes=new Cr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,$t.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?E.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(t,n,r,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(r!==null&&ns(r.mutation,s,me.empty(),bt.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,tt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=tt()){const s=bn();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,r).next(i=>{let o=qr();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=bn();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,tt()))}populateOverlays(t,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(t,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,s){let i=He();const o=es(),a=function(){return es()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof Ln)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),ns(u.mutation,c,u.mutation.getFieldMask(),bt.now())):o.set(c.key,me.empty())}),this.recalculateAndSaveOverlays(t,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new G0(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const r=es();let s=new Et((o,a)=>o-a),i=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||me.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(s.get(a.batchId)||tt()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=Cp();u.forEach(d=>{if(!i.has(d)){const m=Mp(n.get(d),r.get(d));m!==null&&h.set(d,m),i=i.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,h))}return E.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,s){return function(o){return j.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):e0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,s):this.getDocumentsMatchingCollectionQuery(t,n,r,s)}getNextDocuments(t,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,s-i.size):E.resolve(bn());let a=-1,l=i;return o.next(c=>E.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?E.resolve():this.remoteDocumentCache.getEntry(t,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(t,c,i)).next(()=>this.computeViews(t,l,c,tt())).next(u=>({batchId:a,changes:Pp(u)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new j(n)).next(r=>{let s=qr();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,r,s){const i=n.collectionGroup;let o=qr();return this.indexManager.getCollectionParents(t,i).next(a=>E.forEach(a,l=>{const c=function(h,d){return new Ao(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(t,c,r,s).next(u=>{u.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,$t.newInvalidDocument(u)))});let a=qr();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&ns(u.mutation,c,me.empty(),bt.now()),bo(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,n){return E.resolve(this.cr.get(n))}saveBundleMetadata(t,n){return this.cr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ve(s.createTime)}}(n)),E.resolve()}getNamedQuery(t,n){return E.resolve(this.lr.get(n))}saveNamedQuery(t,n){return this.lr.set(n.name,function(s){return{name:s.name,query:q0(s.bundledQuery),readTime:Ve(s.readTime)}}(n)),E.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(){this.overlays=new Et(j.comparator),this.hr=new Map}getOverlay(t,n){return E.resolve(this.overlays.get(n))}getOverlays(t,n){const r=bn();return E.forEach(n,s=>this.getOverlay(t,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((s,i)=>{this.ht(t,n,i)}),E.resolve()}removeOverlaysForBatchId(t,n,r){const s=this.hr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),E.resolve()}getOverlaysForCollection(t,n,r){const s=bn(),i=n.length+1,o=new j(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return E.resolve(s)}getOverlaysForCollectionGroup(t,n,r,s){let i=new Et((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=bn(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=bn(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return E.resolve(a)}ht(t,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.hr.get(s.largestBatchId).delete(r.key);this.hr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new v0(n,r));let i=this.hr.get(n);i===void 0&&(i=tt(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(){this.Pr=new Lt(xt.Ir),this.Tr=new Lt(xt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,n){const r=new xt(t,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Ar(new xt(t,n))}Rr(t,n){t.forEach(r=>this.removeReference(r,n))}Vr(t){const n=new j(new vt([])),r=new xt(n,t),s=new xt(n,t+1),i=[];return this.Tr.forEachInRange([r,s],o=>{this.Ar(o),i.push(o.key)}),i}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const n=new j(new vt([])),r=new xt(n,t),s=new xt(n,t+1);let i=tt();return this.Tr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(t){const n=new xt(t,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class xt{constructor(t,n){this.key=t,this.pr=n}static Ir(t,n){return j.comparator(t.key,n.key)||st(t.pr,n.pr)}static Er(t,n){return st(t.pr,n.pr)||j.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Lt(xt.Ir)}checkEmpty(t){return E.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,s){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new y0(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.wr=this.wr.add(new xt(a.key,i)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return E.resolve(o)}lookupMutationBatch(t,n){return E.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,s=this.br(r),i=s<0?0:s;return E.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return E.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return E.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new xt(n,0),s=new xt(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,s],o=>{const a=this.Sr(o.pr);i.push(a)}),E.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Lt(st);return n.forEach(s=>{const i=new xt(s,0),o=new xt(s,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,o],a=>{r=r.add(a.pr)})}),E.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,s=r.length+1;let i=r;j.isDocumentKey(i)||(i=i.child(""));const o=new xt(new j(i),0);let a=new Lt(st);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.pr)),!0)},o),E.resolve(this.Dr(a))}Dr(t){const n=[];return t.forEach(r=>{const s=this.Sr(r);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){ft(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return E.forEach(n.mutations,s=>{const i=new xt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.wr=r})}Mn(t){}containsKey(t,n){const r=new xt(n,0),s=this.wr.firstAfterOrEqual(r);return E.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,E.resolve()}Cr(t,n){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){const n=this.br(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(t){this.vr=t,this.docs=function(){return new Et(j.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return E.resolve(r?r.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(t,n){let r=He();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():$t.newInvalidDocument(s))}),E.resolve(r)}getDocumentsMatchingQuery(t,n,r,s){let i=He();const o=n.path,a=new j(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||kw(Nw(u),r)<=0||(s.has(u.key)||bo(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return E.resolve(i)}getAllFromCollectionGroup(t,n,r,s){z()}Fr(t,n){return E.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Z0(this)}getSize(t){return E.resolve(this.size)}}class Z0 extends z0{constructor(t){super(),this.ar=t}applyChanges(t){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.ar.addEntry(t,s)):this.ar.removeEntry(r)}),E.waitFor(n)}getFromCache(t,n){return this.ar.getEntry(t,n)}getAllFromCache(t,n){return this.ar.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(t){this.persistence=t,this.Mr=new Cr(n=>rc(n),sc),this.lastRemoteSnapshotVersion=Q.min(),this.highestTargetId=0,this.Or=0,this.Nr=new lc,this.targetCount=0,this.Lr=Er.Nn()}forEachTarget(t,n){return this.Mr.forEach((r,s)=>n(s)),E.resolve()}getLastRemoteSnapshotVersion(t){return E.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return E.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),E.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),E.resolve()}qn(t){this.Mr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Lr=new Er(n),this.highestTargetId=n),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,n){return this.qn(n),this.targetCount+=1,E.resolve()}updateTargetData(t,n){return this.qn(n),E.resolve()}removeTargetData(t,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,E.resolve()}removeTargets(t,n,r){let s=0;const i=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),i.push(this.removeMatchingKeysForTargetId(t,a.targetId)),s++)}),E.waitFor(i).next(()=>s)}getTargetCount(t){return E.resolve(this.targetCount)}getTargetData(t,n){const r=this.Mr.get(n)||null;return E.resolve(r)}addMatchingKeys(t,n,r){return this.Nr.dr(n,r),E.resolve()}removeMatchingKeys(t,n,r){this.Nr.Rr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(t,o))}),E.waitFor(i)}removeMatchingKeysForTargetId(t,n){return this.Nr.Vr(n),E.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Nr.gr(n);return E.resolve(r)}containsKey(t,n){return E.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(t,n){this.Br={},this.overlays={},this.kr=new Zl(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new tI(this),this.indexManager=new H0,this.remoteDocumentCache=function(s){return new J0(s)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new $0(n),this.$r=new Q0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Y0,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Br[t.toKey()];return r||(r=new X0(n,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,n,r){x("MemoryPersistence","Starting transaction:",t);const s=new nI(this.kr.next());return this.referenceDelegate.Ur(),r(s).next(i=>this.referenceDelegate.Wr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gr(t,n){return E.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,n)))}}class nI extends Lw{constructor(t){super(),this.currentSequenceNumber=t}}class cc{constructor(t){this.persistence=t,this.zr=new lc,this.jr=null}static Hr(t){return new cc(t)}get Jr(){if(this.jr)return this.jr;throw z()}addReference(t,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),E.resolve()}removeReference(t,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),E.resolve()}markPotentiallyOrphaned(t,n){return this.Jr.add(n.toString()),E.resolve()}removeTarget(t,n){this.zr.Vr(n.targetId).forEach(s=>this.Jr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(t,n))}Ur(){this.jr=new Set}Wr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return E.forEach(this.Jr,r=>{const s=j.fromPath(r);return this.Yr(t,s).next(i=>{i||n.removeEntry(s,Q.min())})}).next(()=>(this.jr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Yr(t,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(t){return 0}Yr(t,n){return E.or([()=>E.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gr(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(t,n,r,s){this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=s}static Ki(t,n){let r=tt(),s=tt();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new uc(t,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return rE()?8:Rn.v(Ri())>0?6:4}()}initialize(t,n){this.zi=t,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(t,n,r,s){const i={result:null};return this.ji(t,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Hi(t,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new rI;return this.Ji(t,n,o).next(a=>{if(i.result=a,this.Ui)return this.Yi(t,n,o,a.size)})}).next(()=>i.result)}Yi(t,n,r,s){return r.documentReadCount<this.Wi?(Fr()<=rt.DEBUG&&x("QueryEngine","SDK will not create cache indexes for query:",Wn(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),E.resolve()):(Fr()<=rt.DEBUG&&x("QueryEngine","Query:",Wn(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Gi*s?(Fr()<=rt.DEBUG&&x("QueryEngine","The SDK decides to create cache indexes for query:",Wn(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xe(n))):E.resolve())}ji(t,n){if(lh(n))return E.resolve(null);let r=xe(n);return this.indexManager.getIndexType(t,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Xa(n,null,"F"),r=xe(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(i=>{const o=tt(...i);return this.zi.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(t,Xa(n,null,"F")):this.es(t,c,n,l)}))})))}Hi(t,n,r,s){return lh(n)||s.isEqual(Q.min())?E.resolve(null):this.zi.getDocuments(t,r).next(i=>{const o=this.Zi(n,i);return this.Xi(n,o,r,s)?E.resolve(null):(Fr()<=rt.DEBUG&&x("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Wn(n)),this.es(t,o,n,Ow(s,-1)).next(a=>a))})}Zi(t,n){let r=new Lt(bp(t));return n.forEach((s,i)=>{bo(t,i)&&(r=r.add(i))}),r}Xi(t,n,r,s){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const i=t.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ji(t,n,r){return Fr()<=rt.DEBUG&&x("QueryEngine","Using full collection scan to execute query:",Wn(n)),this.zi.getDocumentsMatchingQuery(t,n,un.min(),r)}es(t,n,r,s){return this.zi.getDocumentsMatchingQuery(t,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(t,n,r,s){this.persistence=t,this.ts=n,this.serializer=s,this.ns=new Et(st),this.rs=new Cr(i=>rc(i),sc),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new W0(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.ns))}}function oI(e,t,n,r){return new iI(e,t,n,r)}async function Qp(e,t){const n=Y(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n._s(t),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=tt();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function aI(e,t){const n=Y(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,d=h.keys();let m=E.resolve();return d.forEach(w=>{m=m.next(()=>u.getEntry(l,w)).next(R=>{const A=c.docVersions.get(w);ft(A!==null),R.version.compareTo(A)<0&&(h.applyToRemoteDocument(R,c),R.isValidDocument()&&(R.setReadTime(c.commitVersion),u.addEntry(R)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,t,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=tt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>n.localDocuments.getDocuments(r,s))})}function Yp(e){const t=Y(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Qr.getLastRemoteSnapshotVersion(n))}function lI(e,t){const n=Y(e),r=t.snapshotVersion;let s=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.os.newChangeBuffer({trackRemovals:!0});s=n.ns;const a=[];t.targetChanges.forEach((u,h)=>{const d=s.get(h);if(!d)return;a.push(n.Qr.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(i,u.addedDocuments,h)));let m=d.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(h)!==null?m=m.withResumeToken(Gt.EMPTY_BYTE_STRING,Q.min()).withLastLimboFreeSnapshotVersion(Q.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,r)),s=s.insert(h,m),function(R,A,C){return R.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(d,m,u)&&a.push(n.Qr.updateTargetData(i,m))});let l=He(),c=tt();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(cI(i,o,t.documentUpdates).next(u=>{l=u.cs,c=u.ls})),!r.isEqual(Q.min())){const u=n.Qr.getLastRemoteSnapshotVersion(i).next(h=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return E.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.ns=s,i))}function cI(e,t,n){let r=tt(),s=tt();return n.forEach(i=>r=r.add(i)),t.getEntries(e,r).next(i=>{let o=He();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Q.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):x("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:s}})}function uI(e,t){const n=Y(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function hI(e,t){const n=Y(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Qr.getTargetData(r,t).next(i=>i?(s=i,E.resolve(s)):n.Qr.allocateTargetId(r).next(o=>(s=new en(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.ns.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(t,r.targetId)),r})}async function nl(e,t,n){const r=Y(e),s=r.ns.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Us(o))throw o;x("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.ns=r.ns.remove(t),r.rs.delete(s.target)}function vh(e,t,n){const r=Y(e);let s=Q.min(),i=tt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=Y(l),d=h.rs.get(u);return d!==void 0?E.resolve(h.ns.get(d)):h.Qr.getTargetData(c,u)}(r,o,xe(t)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,t,n?s:Q.min(),n?i:tt())).next(a=>(fI(r,r0(t),a),{documents:a,hs:i})))}function fI(e,t,n){let r=e.ss.get(t)||Q.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),e.ss.set(t,r)}class Eh{constructor(){this.activeTargetIds=c0()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class dI{constructor(){this.no=new Eh,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,n,r){this.ro[t]=n}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new Eh,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{io(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){x("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){x("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ii=null;function oa(){return ii===null?ii=function(){return 268435456+Math.round(2147483648*Math.random())}():ii++,"0x"+ii.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}onMessage(t){this.Ao=t}close(){this.ho()}send(t){this.lo(t)}Ro(){this.Io()}Vo(t){this.Eo(t)}mo(t){this.Ao(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class _I extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${s}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get wo(){return!1}So(n,r,s,i,o){const a=oa(),l=this.bo(n,r.toUriEncodedString());x("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(c,i,o),this.Co(n,l,c,s).then(u=>(x("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw gr("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}vo(n,r,s,i,o,a){return this.So(n,r,s,i,o)}Do(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sr}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}bo(n,r){const s=mI[n];return`${this.fo}/v1/${r}:${s}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Co(t,n,r,s){const i=oa();return new Promise((o,a)=>{const l=new ww;l.setWithCredentials(!0),l.listenOnce(Ew.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case sa.NO_ERROR:const u=l.getResponseJson();x(Bt,`XHR for RPC '${t}' ${i} received:`,JSON.stringify(u)),o(u);break;case sa.TIMEOUT:x(Bt,`RPC '${t}' ${i} timed out`),a(new F(T.DEADLINE_EXCEEDED,"Request time out"));break;case sa.HTTP_ERROR:const h=l.getStatus();if(x(Bt,`RPC '${t}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const m=d==null?void 0:d.error;if(m&&m.status&&m.message){const w=function(A){const C=A.toLowerCase().replace(/_/g,"-");return Object.values(T).indexOf(C)>=0?C:T.UNKNOWN}(m.status);a(new F(w,m.message))}else a(new F(T.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new F(T.UNAVAILABLE,"Connection failed."));break;default:z()}}finally{x(Bt,`RPC '${t}' ${i} completed.`)}});const c=JSON.stringify(s);x(Bt,`RPC '${t}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Fo(t,n,r){const s=oa(),i=[this.fo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=yw(),a=vw(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");x(Bt,`Creating RPC '${t}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let d=!1,m=!1;const w=new gI({lo:A=>{m?x(Bt,`Not sending because RPC '${t}' stream ${s} is closed:`,A):(d||(x(Bt,`Opening RPC '${t}' stream ${s} transport.`),h.open(),d=!0),x(Bt,`RPC '${t}' stream ${s} sending:`,A),h.send(A))},ho:()=>h.close()}),R=(A,C,M)=>{A.listen(C,U=>{try{M(U)}catch(J){setTimeout(()=>{throw J},0)}})};return R(h,ni.EventType.OPEN,()=>{m||x(Bt,`RPC '${t}' stream ${s} transport opened.`)}),R(h,ni.EventType.CLOSE,()=>{m||(m=!0,x(Bt,`RPC '${t}' stream ${s} transport closed`),w.Vo())}),R(h,ni.EventType.ERROR,A=>{m||(m=!0,gr(Bt,`RPC '${t}' stream ${s} transport errored:`,A),w.Vo(new F(T.UNAVAILABLE,"The operation could not be completed")))}),R(h,ni.EventType.MESSAGE,A=>{var C;if(!m){const M=A.data[0];ft(!!M);const U=M,J=U.error||((C=U[0])===null||C===void 0?void 0:C.error);if(J){x(Bt,`RPC '${t}' stream ${s} received error:`,J);const pt=J.status;let K=function(ze){const se=It[ze];if(se!==void 0)return Up(se)}(pt),wt=J.message;K===void 0&&(K=T.INTERNAL,wt="Unknown error status: "+pt+" with message "+J.message),m=!0,w.Vo(new F(K,wt)),h.close()}else x(Bt,`RPC '${t}' stream ${s} received:`,M),w.mo(M)}}),R(a,Tw.STAT_EVENT,A=>{A.stat===Xu.PROXY?x(Bt,`RPC '${t}' stream ${s} detected buffering proxy`):A.stat===Xu.NOPROXY&&x(Bt,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.Ro()},0),w}}function aa(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(e){return new P0(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(t,n,r=1e3,s=1.5,i=6e4){this.oi=t,this.timerId=n,this.Mo=r,this.xo=s,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(t){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),s=Math.max(0,n-r);s>0&&x("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,s,()=>(this.Bo=Date.now(),t())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(t,n,r,s,i,o,a,l){this.oi=t,this.$o=r,this.Uo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Xp(t,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(t){this.n_(),this.stream.send(t)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(t,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,t!==4?this.jo.reset():n&&n.code===T.RESOURCE_EXHAUSTED?(Oe(n.toString()),Oe("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===T.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.To(n)}i_(){}auth(){this.state=1;const t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Wo===n&&this.o_(r,s)},r=>{t(()=>{const s=new F(T.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(s)})})}o_(t,n){const r=this.s_(this.Wo);this.stream=this.a_(t,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(s=>{r(()=>this.__(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(t){return x("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}s_(t){return n=>{this.oi.enqueueAndForget(()=>this.Wo===t?n():(x("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yI extends Jp{constructor(t,n,r,s,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}a_(t,n){return this.connection.Fo("Listen",t,n)}onMessage(t){this.jo.reset();const n=V0(this.serializer,t),r=function(i){if(!("targetChange"in i))return Q.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Q.min():o.readTime?Ve(o.readTime):Q.min()}(t);return this.listener.u_(n,r)}c_(t){const n={};n.database=el(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Ya(l)?{documents:N0(i,l)}:{query:k0(i,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=$p(i,o.resumeToken);const c=Ja(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Q.min())>0){a.readTime=Ui(i,o.snapshotVersion.toTimestamp());const c=Ja(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,t);const r=L0(this.serializer,t);r&&(n.labels=r),this.t_(n)}l_(t){const n={};n.database=el(this.serializer),n.removeTarget=t,this.t_(n)}}class vI extends Jp{constructor(t,n,r,s,i,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(t,n){return this.connection.Fo("Write",t,n)}onMessage(t){if(ft(!!t.streamToken),this.lastStreamToken=t.streamToken,this.h_){this.jo.reset();const n=O0(t.writeResults,t.commitTime),r=Ve(t.commitTime);return this.listener.T_(r,n)}return ft(!t.writeResults||t.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const t={};t.database=el(this.serializer),this.t_(t)}I_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>D0(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI extends class{}{constructor(t,n,r,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.A_=!1}R_(){if(this.A_)throw new F(T.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,r,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(t,Za(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new F(T.UNKNOWN,i.toString())})}vo(t,n,r,s,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(t,Za(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===T.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new F(T.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class TI{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(t){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.y_("Offline")))}set(t){this.b_(),this.m_=0,t==="Online"&&(this.g_=!1),this.y_(t)}y_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}w_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Oe(n),this.g_=!1):x("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(t,n,r,s,i){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(o=>{r.enqueueAndForget(async()=>{Fn(this)&&(x("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Y(l);c.v_.add(4),await $s(c),c.x_.set("Unknown"),c.v_.delete(4),await Vo(c)}(this))})}),this.x_=new TI(r,s)}}async function Vo(e){if(Fn(e))for(const t of e.F_)await t(!0)}async function $s(e){for(const t of e.F_)await t(!1)}function Zp(e,t){const n=Y(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),pc(n)?dc(n):xr(n).Jo()&&fc(n,t))}function hc(e,t){const n=Y(e),r=xr(n);n.C_.delete(t),r.Jo()&&tm(n,t),n.C_.size===0&&(r.Jo()?r.Xo():Fn(n)&&n.x_.set("Unknown"))}function fc(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Q.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}xr(e).c_(t)}function tm(e,t){e.O_.Oe(t),xr(e).l_(t)}function dc(e){e.O_=new A0({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),xr(e).start(),e.x_.p_()}function pc(e){return Fn(e)&&!xr(e).Ho()&&e.C_.size>0}function Fn(e){return Y(e).v_.size===0}function em(e){e.O_=void 0}async function II(e){e.C_.forEach((t,n)=>{fc(e,t)})}async function AI(e,t){em(e),pc(e)?(e.x_.S_(t),dc(e)):e.x_.set("Unknown")}async function RI(e,t,n){if(e.x_.set("Online"),t instanceof jp&&t.state===2&&t.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.C_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.C_.delete(a),s.O_.removeTarget(a))}(e,t)}catch(r){x("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Bi(e,r)}else if(t instanceof mi?e.O_.$e(t):t instanceof Bp?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(Q.min()))try{const r=await Yp(e.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.O_.it(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.C_.get(c);u&&i.C_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.C_.get(l);if(!u)return;i.C_.set(l,u.withResumeToken(Gt.EMPTY_BYTE_STRING,u.snapshotVersion)),tm(i,l);const h=new en(u.target,l,c,u.sequenceNumber);fc(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(r){x("RemoteStore","Failed to raise snapshot:",r),await Bi(e,r)}}async function Bi(e,t,n){if(!Us(t))throw t;e.v_.add(1),await $s(e),e.x_.set("Offline"),n||(n=()=>Yp(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{x("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await Vo(e)})}function nm(e,t){return t().catch(n=>Bi(e,n,t))}async function Do(e){const t=Y(e),n=fn(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;bI(t);)try{const s=await uI(t.localStore,r);if(s===null){t.D_.length===0&&n.Xo();break}r=s.batchId,SI(t,s)}catch(s){await Bi(t,s)}rm(t)&&sm(t)}function bI(e){return Fn(e)&&e.D_.length<10}function SI(e,t){e.D_.push(t);const n=fn(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function rm(e){return Fn(e)&&!fn(e).Ho()&&e.D_.length>0}function sm(e){fn(e).start()}async function PI(e){fn(e).d_()}async function CI(e){const t=fn(e);for(const n of e.D_)t.I_(n.mutations)}async function xI(e,t,n){const r=e.D_.shift(),s=ic.from(r,t,n);await nm(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Do(e)}async function VI(e,t){t&&fn(e).P_&&await async function(r,s){if(function(o){return T0(o)&&o!==T.ABORTED}(s.code)){const i=r.D_.shift();fn(r).Zo(),await nm(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Do(r)}}(e,t),rm(e)&&sm(e)}async function wh(e,t){const n=Y(e);n.asyncQueue.verifyOperationInProgress(),x("RemoteStore","RemoteStore received new credentials");const r=Fn(n);n.v_.add(3),await $s(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await Vo(n)}async function DI(e,t){const n=Y(e);t?(n.v_.delete(2),await Vo(n)):t||(n.v_.add(2),await $s(n),n.x_.set("Unknown"))}function xr(e){return e.N_||(e.N_=function(n,r,s){const i=Y(n);return i.R_(),new yI(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(e.datastore,e.asyncQueue,{Po:II.bind(null,e),To:AI.bind(null,e),u_:RI.bind(null,e)}),e.F_.push(async t=>{t?(e.N_.Zo(),pc(e)?dc(e):e.x_.set("Unknown")):(await e.N_.stop(),em(e))})),e.N_}function fn(e){return e.L_||(e.L_=function(n,r,s){const i=Y(n);return i.R_(),new vI(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(e.datastore,e.asyncQueue,{Po:PI.bind(null,e),To:VI.bind(null,e),E_:CI.bind(null,e),T_:xI.bind(null,e)}),e.F_.push(async t=>{t?(e.L_.Zo(),await Do(e)):(await e.L_.stop(),e.D_.length>0&&(x("RemoteStore",`Stopping write stream with ${e.D_.length} pending writes`),e.D_=[]))})),e.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(t,n,r,s,i){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new je,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,s,i){const o=Date.now()+r,a=new mc(t,n,o,s,i);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(T.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gc(e,t){if(Oe("AsyncQueue",`${t}: ${e}`),Us(e))return new F(T.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(t){this.comparator=t?(n,r)=>t(n,r)||j.comparator(n.key,r.key):(n,r)=>j.comparator(n.key,r.key),this.keyedMap=qr(),this.sortedSet=new Et(this.comparator)}static emptySet(t){return new ur(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ur)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new ur;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(){this.B_=new Et(j.comparator)}track(t){const n=t.doc.key,r=this.B_.get(n);r?t.type!==0&&r.type===3?this.B_=this.B_.insert(n,t):t.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.B_=this.B_.remove(n):t.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:t.doc}):z():this.B_=this.B_.insert(n,t)}k_(){const t=[];return this.B_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Tr{constructor(t,n,r,s,i,o,a,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Tr(t,n,ur.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ro(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(t=>t.U_())}}class NI{constructor(){this.queries=new Cr(t=>Rp(t),Ro),this.onlineState="Unknown",this.W_=new Set}}async function kI(e,t){const n=Y(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.K_()&&t.U_()&&(r=2):(i=new OI,r=t.U_()?0:1);try{switch(r){case 0:i.q_=await n.onListen(s,!0);break;case 1:i.q_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=gc(o,`Initialization of query '${Wn(t.query)}' failed`);return void t.onError(a)}n.queries.set(s,i),i.Q_.push(t),t.G_(n.onlineState),i.q_&&t.z_(i.q_)&&_c(n)}async function MI(e,t){const n=Y(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Q_.indexOf(t);o>=0&&(i.Q_.splice(o,1),i.Q_.length===0?s=t.U_()?0:1:!i.K_()&&t.U_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function LI(e,t){const n=Y(e);let r=!1;for(const s of t){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Q_)a.z_(s)&&(r=!0);o.q_=s}}r&&_c(n)}function FI(e,t,n){const r=Y(e),s=r.queries.get(t);if(s)for(const i of s.Q_)i.onError(n);r.queries.delete(t)}function _c(e){e.W_.forEach(t=>{t.next()})}var rl,Ah;(Ah=rl||(rl={})).j_="default",Ah.Cache="cache";class UI{constructor(t,n,r){this.query=t,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(t){if(!this.options.includeMetadataChanges){const r=[];for(const s of t.docChanges)s.type!==3&&r.push(s);t=new Tr(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.J_?this.Z_(t)&&(this.H_.next(t),n=!0):this.X_(t,this.onlineState)&&(this.ea(t),n=!0),this.Y_=t,n}onError(t){this.H_.error(t)}G_(t){this.onlineState=t;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,t)&&(this.ea(this.Y_),n=!0),n}X_(t,n){if(!t.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Z_(t){if(t.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(t){t=Tr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.J_=!0,this.H_.next(t)}U_(){return this.options.source!==rl.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(t){this.key=t}}class om{constructor(t){this.key=t}}class BI{constructor(t,n){this.query=t,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=tt(),this.mutatedKeys=tt(),this.ha=bp(t),this.Pa=new ur(this.ha)}get Ia(){return this.ua}Ta(t,n){const r=n?n.Ea:new Ih,s=n?n.Pa:this.Pa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((u,h)=>{const d=s.get(u),m=bo(this.query,h)?h:null,w=!!d&&this.mutatedKeys.has(d.key),R=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let A=!1;d&&m?d.data.isEqual(m.data)?w!==R&&(r.track({type:3,doc:m}),A=!0):this.da(d,m)||(r.track({type:2,doc:m}),A=!0,(l&&this.ha(m,l)>0||c&&this.ha(m,c)<0)&&(a=!0)):!d&&m?(r.track({type:0,doc:m}),A=!0):d&&!m&&(r.track({type:1,doc:d}),A=!0,(l||c)&&(a=!0)),A&&(m?(o=o.add(m),i=R?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Pa:o,Ea:r,Xi:a,mutatedKeys:i}}da(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,s){const i=this.Pa;this.Pa=t.Pa,this.mutatedKeys=t.mutatedKeys;const o=t.Ea.k_();o.sort((u,h)=>function(m,w){const R=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z()}};return R(m)-R(w)}(u.type,h.type)||this.ha(u.doc,h.doc)),this.Aa(r),s=s!=null&&s;const a=n&&!s?this.Ra():[],l=this.la.size===0&&this.current&&!s?1:0,c=l!==this.ca;return this.ca=l,o.length!==0||c?{snapshot:new Tr(this.query,t.Pa,i,o,t.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new Ih,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(t){return!this.ua.has(t)&&!!this.Pa.has(t)&&!this.Pa.get(t).hasLocalMutations}Aa(t){t&&(t.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=t.current)}Ra(){if(!this.current)return[];const t=this.la;this.la=tt(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return t.forEach(r=>{this.la.has(r)||n.push(new om(r))}),this.la.forEach(r=>{t.has(r)||n.push(new im(r))}),n}fa(t){this.ua=t.hs,this.la=tt();const n=this.Ta(t.documents);return this.applyChanges(n,!0)}ga(){return Tr.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class jI{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class $I{constructor(t){this.key=t,this.pa=!1}}class qI{constructor(t,n,r,s,i,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new Cr(a=>Rp(a),Ro),this.Sa=new Map,this.ba=new Set,this.Da=new Et(j.comparator),this.Ca=new Map,this.va=new lc,this.Fa={},this.Ma=new Map,this.xa=Er.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function HI(e,t,n=!0){const r=fm(e);let s;const i=r.wa.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.ga()):s=await am(r,t,n,!0),s}async function KI(e,t){const n=fm(e);await am(n,t,!0,!1)}async function am(e,t,n,r){const s=await hI(e.localStore,xe(t)),i=s.targetId,o=n?e.sharedClientState.addLocalQueryTarget(i):"not-current";let a;return r&&(a=await zI(e,t,i,o==="current",s.resumeToken)),e.isPrimaryClient&&n&&Zp(e.remoteStore,s),a}async function zI(e,t,n,r,s){e.Na=(h,d,m)=>async function(R,A,C,M){let U=A.view.Ta(C);U.Xi&&(U=await vh(R.localStore,A.query,!1).then(({documents:wt})=>A.view.Ta(wt,U)));const J=M&&M.targetChanges.get(A.targetId),pt=M&&M.targetMismatches.get(A.targetId)!=null,K=A.view.applyChanges(U,R.isPrimaryClient,J,pt);return bh(R,A.targetId,K.Va),K.snapshot}(e,h,d,m);const i=await vh(e.localStore,t,!0),o=new BI(t,i.hs),a=o.Ta(i.documents),l=js.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",s),c=o.applyChanges(a,e.isPrimaryClient,l);bh(e,n,c.Va);const u=new jI(t,n,o);return e.wa.set(t,u),e.Sa.has(n)?e.Sa.get(n).push(t):e.Sa.set(n,[t]),c.snapshot}async function GI(e,t,n){const r=Y(e),s=r.wa.get(t),i=r.Sa.get(s.targetId);if(i.length>1)return r.Sa.set(s.targetId,i.filter(o=>!Ro(o,t))),void r.wa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await nl(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&hc(r.remoteStore,s.targetId),sl(r,s.targetId)}).catch(Fs)):(sl(r,s.targetId),await nl(r.localStore,s.targetId,!0))}async function WI(e,t){const n=Y(e),r=n.wa.get(t),s=n.Sa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hc(n.remoteStore,r.targetId))}async function QI(e,t,n){const r=nA(e);try{const s=await function(o,a){const l=Y(o),c=bt.now(),u=a.reduce((m,w)=>m.add(w.key),tt());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let w=He(),R=tt();return l.os.getEntries(m,u).next(A=>{w=A,w.forEach((C,M)=>{M.isValidDocument()||(R=R.add(C))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,w)).next(A=>{h=A;const C=[];for(const M of a){const U=g0(M,h.get(M.key).overlayedDocument);U!=null&&C.push(new Ln(M.key,U,_p(U.value.mapValue),$e.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,C,a)}).next(A=>{d=A;const C=A.applyToLocalDocumentSet(h,R);return l.documentOverlayCache.saveOverlays(m,A.batchId,C)})}).then(()=>({batchId:d.batchId,changes:Pp(h)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Fa[o.currentUser.toKey()];c||(c=new Et(st)),c=c.insert(a,l),o.Fa[o.currentUser.toKey()]=c}(r,s.batchId,n),await qs(r,s.changes),await Do(r.remoteStore)}catch(s){const i=gc(s,"Failed to persist write");n.reject(i)}}async function lm(e,t){const n=Y(e);try{const r=await lI(n.localStore,t);t.targetChanges.forEach((s,i)=>{const o=n.Ca.get(i);o&&(ft(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.pa=!0:s.modifiedDocuments.size>0?ft(o.pa):s.removedDocuments.size>0&&(ft(o.pa),o.pa=!1))}),await qs(n,r,t)}catch(r){await Fs(r)}}function Rh(e,t,n){const r=Y(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wa.forEach((i,o)=>{const a=o.view.G_(t);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Y(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const d of h.Q_)d.G_(a)&&(c=!0)}),c&&_c(l)}(r.eventManager,t),s.length&&r.ya.u_(s),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function YI(e,t,n){const r=Y(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Ca.get(t),i=s&&s.key;if(i){let o=new Et(j.comparator);o=o.insert(i,$t.newNoDocument(i,Q.min()));const a=tt().add(i),l=new Co(Q.min(),new Map,new Et(st),o,a);await lm(r,l),r.Da=r.Da.remove(i),r.Ca.delete(t),yc(r)}else await nl(r.localStore,t,!1).then(()=>sl(r,t,n)).catch(Fs)}async function XI(e,t){const n=Y(e),r=t.batch.batchId;try{const s=await aI(n.localStore,t);um(n,r,null),cm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await qs(n,s)}catch(s){await Fs(s)}}async function JI(e,t,n){const r=Y(e);try{const s=await function(o,a){const l=Y(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(ft(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,t);um(r,t,n),cm(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await qs(r,s)}catch(s){await Fs(s)}}function cm(e,t){(e.Ma.get(t)||[]).forEach(n=>{n.resolve()}),e.Ma.delete(t)}function um(e,t,n){const r=Y(e);let s=r.Fa[r.currentUser.toKey()];if(s){const i=s.get(t);i&&(n?i.reject(n):i.resolve(),s=s.remove(t)),r.Fa[r.currentUser.toKey()]=s}}function sl(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Sa.get(t))e.wa.delete(r),n&&e.ya.La(r,n);e.Sa.delete(t),e.isPrimaryClient&&e.va.Vr(t).forEach(r=>{e.va.containsKey(r)||hm(e,r)})}function hm(e,t){e.ba.delete(t.path.canonicalString());const n=e.Da.get(t);n!==null&&(hc(e.remoteStore,n),e.Da=e.Da.remove(t),e.Ca.delete(n),yc(e))}function bh(e,t,n){for(const r of n)r instanceof im?(e.va.addReference(r.key,t),ZI(e,r)):r instanceof om?(x("SyncEngine","Document no longer in limbo: "+r.key),e.va.removeReference(r.key,t),e.va.containsKey(r.key)||hm(e,r.key)):z()}function ZI(e,t){const n=t.key,r=n.path.canonicalString();e.Da.get(n)||e.ba.has(r)||(x("SyncEngine","New document in limbo: "+n),e.ba.add(r),yc(e))}function yc(e){for(;e.ba.size>0&&e.Da.size<e.maxConcurrentLimboResolutions;){const t=e.ba.values().next().value;e.ba.delete(t);const n=new j(vt.fromString(t)),r=e.xa.next();e.Ca.set(r,new $I(n)),e.Da=e.Da.insert(n,r),Zp(e.remoteStore,new en(xe(Ap(n.path)),r,"TargetPurposeLimboResolution",Zl._e))}}async function qs(e,t,n){const r=Y(e),s=[],i=[],o=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{o.push(r.Na(l,t,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=uc.Ki(l.targetId,c);i.push(u)}}))}),await Promise.all(o),r.ya.u_(s),await async function(l,c){const u=Y(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>E.forEach(c,d=>E.forEach(d.qi,m=>u.persistence.referenceDelegate.addReference(h,d.targetId,m)).next(()=>E.forEach(d.Qi,m=>u.persistence.referenceDelegate.removeReference(h,d.targetId,m)))))}catch(h){if(!Us(h))throw h;x("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const d=h.targetId;if(!h.fromCache){const m=u.ns.get(d),w=m.snapshotVersion,R=m.withLastLimboFreeSnapshotVersion(w);u.ns=u.ns.insert(d,R)}}}(r.localStore,i))}async function tA(e,t){const n=Y(e);if(!n.currentUser.isEqual(t)){x("SyncEngine","User change. New user:",t.toKey());const r=await Qp(n.localStore,t);n.currentUser=t,function(i,o){i.Ma.forEach(a=>{a.forEach(l=>{l.reject(new F(T.CANCELLED,o))})}),i.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await qs(n,r.us)}}function eA(e,t){const n=Y(e),r=n.Ca.get(t);if(r&&r.pa)return tt().add(r.key);{let s=tt();const i=n.Sa.get(t);if(!i)return s;for(const o of i){const a=n.wa.get(o);s=s.unionWith(a.view.Ia)}return s}}function fm(e){const t=Y(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=lm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=eA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=YI.bind(null,t),t.ya.u_=LI.bind(null,t.eventManager),t.ya.La=FI.bind(null,t.eventManager),t}function nA(e){const t=Y(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=XI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=JI.bind(null,t),t}class Sh{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=xo(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return oI(this.persistence,new sI,t.initialUser,this.serializer)}createPersistence(t){return new eI(cc.Hr,this.serializer)}createSharedClientState(t){return new dI}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class rA{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Rh(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=tA.bind(null,this.syncEngine),await DI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new NI}()}createDatastore(t){const n=xo(t.databaseInfo.databaseId),r=function(i){return new _I(i)}(t.databaseInfo);return function(i,o,a,l){return new EI(i,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,s,i,o,a){return new wI(r,s,i,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>Rh(this.syncEngine,n,0),function(){return Th.D()?new Th:new pI}())}createSyncEngine(t,n){return function(s,i,o,a,l,c,u){const h=new qI(s,i,o,a,l,c);return u&&(h.Oa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t;await async function(r){const s=Y(r);x("RemoteStore","RemoteStore shutting down."),s.v_.add(5),await $s(s),s.M_.shutdown(),s.x_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.qa(this.observer.next,t)}error(t){this.observer.error?this.qa(this.observer.error,t):Oe("Uncaught Error in snapshot listener:",t.toString())}Qa(){this.muted=!0}qa(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(t,n,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=jt.UNAUTHENTICATED,this.clientId=pp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{x("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(x("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new F(T.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new je;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=gc(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function la(e,t){e.asyncQueue.verifyOperationInProgress(),x("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Qp(t.localStore,s),r=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Ph(e,t){e.asyncQueue.verifyOperationInProgress();const n=await aA(e);x("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>wh(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,s)=>wh(t.remoteStore,s)),e._onlineComponents=t}function oA(e){return e.name==="FirebaseError"?e.code===T.FAILED_PRECONDITION||e.code===T.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function aA(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){x("FirestoreClient","Using user provided OfflineComponentProvider");try{await la(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!oA(n))throw n;gr("Error using user provided cache. Falling back to memory cache: "+n),await la(e,new Sh)}}else x("FirestoreClient","Using default OfflineComponentProvider"),await la(e,new Sh);return e._offlineComponents}async function dm(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(x("FirestoreClient","Using user provided OnlineComponentProvider"),await Ph(e,e._uninitializedComponentsProvider._online)):(x("FirestoreClient","Using default OnlineComponentProvider"),await Ph(e,new rA))),e._onlineComponents}function lA(e){return dm(e).then(t=>t.syncEngine)}async function cA(e){const t=await dm(e),n=t.eventManager;return n.onListen=HI.bind(null,t.syncEngine),n.onUnlisten=GI.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=KI.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=WI.bind(null,t.syncEngine),n}function uA(e,t,n={}){const r=new je;return e.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new sA({next:d=>{o.enqueueAndForget(()=>MI(i,h)),d.fromCache&&l.source==="server"?c.reject(new F(T.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new UI(a,u,{includeMetadataChanges:!0,ta:!0});return kI(i,h)}(await cA(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(e,t,n){if(!n)throw new F(T.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function hA(e,t,n,r){if(t===!0&&r===!0)throw new F(T.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function xh(e){if(!j.isDocumentKey(e))throw new F(T.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Vh(e){if(j.isDocumentKey(e))throw new F(T.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function vc(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":z()}function ji(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new F(T.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vc(e);throw new F(T.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new F(T.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new F(T.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}hA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pm((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new F(T.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new F(T.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new F(T.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Oo{constructor(t,n,r,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new F(T.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new F(T.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dh(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Aw;switch(r.type){case"firstParty":return new Pw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(T.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Ch.get(n);r&&(x("ComponentProvider","Removing Datastore"),Ch.delete(n),r.terminate())}(this),Promise.resolve()}}function fA(e,t,n,r={}){var s;const i=(e=ji(e,Oo))._getSettings(),o=`${t}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&gr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=jt.MOCK_USER;else{a=eE(r.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new F(T.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new jt(c)}e._authCredentials=new Rw(new dp(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new No(this.firestore,t,this._query)}}class _e{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new an(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _e(this.firestore,t,this._key)}}class an extends No{constructor(t,n,r){super(t,n,Ap(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _e(this.firestore,null,new j(t))}withConverter(t){return new an(this.firestore,t,this._path)}}function Oh(e,t,...n){if(e=cs(e),mm("collection","path",t),e instanceof Oo){const r=vt.fromString(t,...n);return Vh(r),new an(e,null,r)}{if(!(e instanceof _e||e instanceof an))throw new F(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(vt.fromString(t,...n));return Vh(r),new an(e.firestore,null,r)}}function dA(e,t,...n){if(e=cs(e),arguments.length===1&&(t=pp.newId()),mm("doc","path",t),e instanceof Oo){const r=vt.fromString(t,...n);return xh(r),new _e(e,null,new j(r))}{if(!(e instanceof _e||e instanceof an))throw new F(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(vt.fromString(t,...n));return xh(r),new _e(e.firestore,e instanceof an?e.converter:null,new j(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Xp(this,"async_queue_retry"),this.cu=()=>{const n=aa();n&&x("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const t=aa();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.lu(),this.hu(t)}enterRestrictedMode(t){if(!this.iu){this.iu=!0,this.au=t||!1;const n=aa();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(t){if(this.lu(),this.iu)return new Promise(()=>{});const n=new je;return this.hu(()=>this.iu&&this.au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.ru.push(t),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(t){if(!Us(t))throw t;x("AsyncQueue","Operation failed with retryable error: "+t)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(t){const n=this.nu.then(()=>(this._u=!0,t().catch(r=>{this.ou=r,this._u=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Oe("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(t,n,r){this.lu(),this.uu.indexOf(t)>-1&&(n=0);const s=mc.createAndSchedule(this,t,n,r,i=>this.Iu(i));return this.su.push(s),s}lu(){this.ou&&z()}verifyOperationInProgress(){}async Tu(){let t;do t=this.nu,await t;while(t!==this.nu)}Eu(t){for(const n of this.su)if(n.timerId===t)return!0;return!1}du(t){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tu()})}Au(t){this.uu.push(t)}Iu(t){const n=this.su.indexOf(t);this.su.splice(n,1)}}class Ec extends Oo{constructor(t,n,r,s){super(t,n,r,s),this.type="firestore",this._queue=function(){return new pA}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||_m(this),this._firestoreClient.terminate()}}function mA(e,t){const n=typeof e=="object"?e:oT(),r=typeof e=="string"?e:t||"(default)",s=nT(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Zv("firestore");i&&fA(s,...i)}return s}function gm(e){return e._firestoreClient||_m(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function _m(e){var t,n,r;const s=e._freezeSettings(),i=function(a,l,c,u){return new $w(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,pm(u.experimentalLongPollingOptions),u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new iA(e._authCredentials,e._appCheckCredentials,e._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new wr(Gt.fromBase64String(t))}catch(n){throw new F(T.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new wr(Gt.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new F(T.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new F(T.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new F(T.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return st(this._lat,t._lat)||st(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=/^__.*__$/;class _A{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new Ln(t,this.data,this.fieldMask,n,this.fieldTransforms):new Bs(t,this.data,n,this.fieldTransforms)}}function vm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z()}}class Ic{constructor(t,n,r,s,i,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(t){return new Ic(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.mu({path:r,gu:!1});return s.pu(t),s}yu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.mu({path:r,gu:!1});return s.Ru(),s}wu(t){return this.mu({path:void 0,gu:!0})}Su(t){return $i(t,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let t=0;t<this.path.length;t++)this.pu(this.path.get(t))}pu(t){if(t.length===0)throw this.Su("Document fields must not be empty");if(vm(this.Vu)&&gA.test(t))throw this.Su('Document fields cannot begin and end with "__"')}}class yA{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||xo(t)}Cu(t,n,r,s=!1){return new Ic({Vu:t,methodName:n,Du:r,path:kt.emptyPath(),gu:!1,bu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vA(e){const t=e._freezeSettings(),n=xo(e._databaseId);return new yA(e._databaseId,!!t.ignoreUndefinedProperties,n)}function EA(e,t,n,r,s,i={}){const o=e.Cu(i.merge||i.mergeFields?2:0,t,n,s);Im("Data must be an object, but it was:",o,r);const a=Tm(r,o);let l,c;if(i.merge)l=new me(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const d=TA(t,h,n);if(!o.contains(d))throw new F(T.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);IA(u,d)||u.push(d)}l=new me(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new _A(new ce(a),l,c)}function Em(e,t){if(wm(e=cs(e)))return Im("Unsupported field value:",t,e),Tm(e,t);if(e instanceof ym)return function(r,s){if(!vm(s.Vu))throw s.Su(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Su(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.gu&&t.Vu!==4)throw t.Su("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Em(a,s.wu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(e,t)}return function(r,s){if((r=cs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return u0(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=bt.fromDate(r);return{timestampValue:Ui(s.serializer,i)}}if(r instanceof bt){const i=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ui(s.serializer,i)}}if(r instanceof wc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wr)return{bytesValue:$p(s.serializer,r._byteString)};if(r instanceof _e){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Su(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ac(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.Su(`Unsupported field value: ${vc(r)}`)}(e,t)}function Tm(e,t){const n={};return mp(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Pr(e,(r,s)=>{const i=Em(s,t.fu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function wm(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof bt||e instanceof wc||e instanceof wr||e instanceof _e||e instanceof ym)}function Im(e,t,n){if(!wm(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=vc(n);throw r==="an object"?t.Su(e+" a custom object"):t.Su(e+" "+r)}}function TA(e,t,n){if((t=cs(t))instanceof Tc)return t._internalPath;if(typeof t=="string")return Am(e,t);throw $i("Field path arguments must be of type string or ",e,!1,void 0,n)}const wA=new RegExp("[~\\*/\\[\\]]");function Am(e,t,n){if(t.search(wA)>=0)throw $i(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Tc(...t.split("."))._internalPath}catch{throw $i(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function $i(e,t,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new F(T.INVALID_ARGUMENT,a+e+l)}function IA(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(t,n,r,s,i){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new _e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new AA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(bm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class AA extends Rm{data(){return super.data()}}function bm(e,t){return typeof t=="string"?Am(e,t):t instanceof Tc?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new F(T.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bA{convertValue(t,n="none"){switch(On(t)){case 0:return null;case 1:return t.booleanValue;case 2:return At(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Dn(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw z()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Pr(t,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(t){return new wc(At(t.latitude),At(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=ec(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ts(t));default:return null}}convertTimestamp(t){const n=hn(t);return new bt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=vt.fromString(t);ft(Wp(r));const s=new ws(r.get(1),r.get(3)),i=new j(r.popFirst(5));return s.isEqual(n)||Oe(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class PA extends Rm{constructor(t,n,r,s,i,o){super(t,n,r,s,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new gi(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(bm("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class gi extends PA{data(t={}){return super.data(t)}}class CA{constructor(t,n,r,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new oi(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new gi(this._firestore,this._userDataWriter,r.key,r,new oi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(T.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new gi(s._firestore,s._userDataWriter,a.doc.key,a.doc,new oi(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new gi(s._firestore,s._userDataWriter,a.doc.key,a.doc,new oi(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:xA(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function xA(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z()}}class VA extends bA{constructor(t){super(),this.firestore=t}convertBytes(t){return new wr(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new _e(this.firestore,null,n)}}function DA(e){e=ji(e,No);const t=ji(e.firestore,Ec),n=gm(t),r=new VA(t);return RA(e._query),uA(n,e._query).then(s=>new CA(t,r,e,s))}function OA(e,t){const n=ji(e.firestore,Ec),r=dA(e),s=SA(e.converter,t);return NA(n,[EA(vA(e.firestore),"addDoc",r._key,s,e.converter!==null,{}).toMutation(r._key,$e.exists(!1))]).then(()=>r)}function NA(e,t){return function(r,s){const i=new je;return r.asyncQueue.enqueueAndForget(async()=>QI(await lA(r),s,i)),i.promise}(gm(e),t)}(function(t,n=!0){(function(s){Sr=s})(iT),Si(new us("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Ec(new bw(r.getProvider("auth-internal")),new xw(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new F(T.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ws(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ar(Ju,"4.5.0",t),ar(Ju,"4.5.0","esm2017")})();const kA={apiKey:"AIzaSyCH1Y-nDy9Rr6z8ZzOEOgVEb6l9wKFJqL4",authDomain:"vue-js-109c9.firebaseapp.com",projectId:"vue-js-109c9",storageBucket:"vue-js-109c9.appspot.com",messagingSenderId:"83129437860",appId:"1:83129437860:web:7dd9fcee39ff99d8716031"},MA=ad(kA),Nh=mA(MA),LA={data(){return{newTemplate:{title:"",description:"",html:"",preview:""},templates:[]}},async mounted(){await this.fetchData()},methods:{async fetchData(){try{(await DA(Oh(Nh,"templates"))).forEach(t=>{this.templates.push({id:t.id,...t.data()})})}catch(e){console.error("Error fetching data:",e)}},async addTemplate(){try{const e=await OA(Oh(Nh,"templates"),{title:this.newTemplate.title,description:this.newTemplate.description,html:this.newTemplate.html,preview:this.newTemplate.preview});console.log("Document written with ID: ",e.id),this.templates.push({...this.newTemplate,id:e.id}),this.resetNewTemplate()}catch(e){console.error("Error adding document: ",e)}},resetNewTemplate(){this.newTemplate={title:"",description:"",html:"",preview:""}},copyCode(e){const t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),alert("Code copied to clipboard!")}}},FA={class:"mx-auto max-w-lg p-4"},UA=q("div",{class:"text-center mb-8"},[q("h1",{class:"text-3xl font-bold mb-2"},"Template Manager"),q("p",{class:"text-gray-600"},"Manage your templates")],-1),BA={class:"mb-8"},jA=q("h2",{class:"text-xl font-semibold mb-2"},"Add New Template",-1),$A=q("label",{for:"templateTitle",class:"block text-gray-700 font-semibold mb-1"},"Template Title:",-1),qA={class:"mt-4"},HA=q("label",{for:"templateDescription",class:"block text-gray-700 font-semibold mb-1"},"Template Description:",-1),KA={class:"mt-4"},zA=q("label",{for:"templateHTML",class:"block text-gray-700 font-semibold mb-1"},"HTML Code:",-1),GA={class:"mt-4"},WA=q("label",{for:"templatePreview",class:"block text-gray-700 font-semibold mb-1"},"Preview:",-1),QA={class:"mt-4"},YA={class:"p-4 bg-gray-100"},XA={class:"text-xl font-semibold mb-2"},JA={class:"text-gray-700"},ZA={class:"p-4"},tR={class:"relative mb-4"},eR={class:"whitespace-pre-wrap overflow-x-auto max-w-full rounded-lg border border-gray-300 bg-slate-200 overflow-y-auto max-h-80 p-2"},nR={class:"language-html"},rR=["onClick"],sR=q("hr",{class:"my-4"},null,-1),iR=q("h3",{class:"text-lg font-semibold mb-2"},"Preview:",-1),oR=["innerHTML"];function aR(e,t,n,r,s,i){return sr(),ir("div",FA,[UA,q("div",BA,[jA,q("form",{onSubmit:t[5]||(t[5]=sy((...o)=>i.addTemplate&&i.addTemplate(...o),["prevent"]))},[q("div",null,[$A,Ur(q("input",{type:"text",id:"templateTitle",required:"","onUpdate:modelValue":t[0]||(t[0]=o=>s.newTemplate.title=o),class:"w-full p-2 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500"},null,512),[[Xs,s.newTemplate.title]])]),q("div",qA,[HA,Ur(q("textarea",{id:"templateDescription",required:"","onUpdate:modelValue":t[1]||(t[1]=o=>s.newTemplate.description=o),rows:"3",class:"w-full p-2 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500"},null,512),[[Xs,s.newTemplate.description]])]),q("div",KA,[zA,Ur(q("textarea",{id:"templateHTML",required:"","onUpdate:modelValue":t[2]||(t[2]=o=>s.newTemplate.html=o),rows:"6",class:"w-full rounded-md p-2 border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500"},null,512),[[Xs,s.newTemplate.html]])]),q("div",GA,[WA,Ur(q("textarea",{id:"templatePreview","onUpdate:modelValue":t[3]||(t[3]=o=>s.newTemplate.preview=o),rows:"3",class:"w-full rounded-md p-2 border-gray-300 shadow-sm focus:border-blue-500 focus:ring focus:ring-blue-500"},null,512),[[Xs,s.newTemplate.preview]])]),q("div",QA,[q("button",{onClick:t[4]||(t[4]=(...o)=>e.submit&&e.submit(...o)),class:"bg-gray-800 text-white py-2 px-4 rounded-md shadow-md hover:bg-gray-900"}," Add Template ")])],32)]),(sr(!0),ir(de,null,Zg(s.templates,(o,a)=>(sr(),ir("div",{key:a,class:"mb-8 rounded-lg border border-gray-300 overflow-hidden"},[q("div",YA,[q("h2",XA,Lo(o.title),1),q("p",JA,Lo(o.description),1),q("div",ZA,[q("div",tR,[q("pre",eR,[wa("              "),q("code",nR,Lo(o.html),1),wa(`
            `)]),q("button",{onClick:l=>i.copyCode(o.html),class:"absolute top-0 right-0 m-2 bg-blue-500 text-white px-2 py-1 rounded-md shadow-md hover:bg-blue-600 focus:outline-none"},"Copy",8,rR)]),sR,iR,q("div",{innerHTML:o.preview},null,8,oR)])])]))),128))])}const lR=so(LA,[["render",aR]]),cR=bv({history:$y("/"),routes:[{path:"/",name:"home",component:qv},{path:"/darkmode",name:"darkmode",component:Jf},{path:"/code",name:"template",component:lR},{path:"/about",name:"about",component:()=>gy(()=>import("./AboutView-Be37Xvjx.js"),__vite__mapDeps([0,1]))}]});/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var uR="store";function Vr(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function hR(e){return e!==null&&typeof e=="object"}function fR(e){return e&&typeof e.then=="function"}function dR(e,t){return function(){return e(t)}}function Sm(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function Pm(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;ko(e,n,[],e._modules.root,!0),Ac(e,n,t)}function Ac(e,t,n){var r=e._state,s=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var i=e._wrappedGetters,o={},a={},l=Wm(!0);l.run(function(){Vr(i,function(c,u){o[u]=dR(c,e),a[u]=ae(function(){return o[u]()}),Object.defineProperty(e.getters,u,{get:function(){return a[u].value},enumerable:!0})})}),e._state=Ps({data:t}),e._scope=l,e.strict&&yR(e),r&&n&&e._withCommit(function(){r.data=null}),s&&s.stop()}function ko(e,t,n,r,s){var i=!n.length,o=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[o],e._modulesNamespaceMap[o]=r),!i&&!s){var a=Rc(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit(function(){a[l]=r.state})}var c=r.context=pR(e,o,n);r.forEachMutation(function(u,h){var d=o+h;mR(e,d,u,c)}),r.forEachAction(function(u,h){var d=u.root?h:o+h,m=u.handler||u;gR(e,d,m,c)}),r.forEachGetter(function(u,h){var d=o+h;_R(e,d,u,c)}),r.forEachChild(function(u,h){ko(e,t,n.concat(h),u,s)})}function pR(e,t,n){var r=t==="",s={dispatch:r?e.dispatch:function(i,o,a){var l=qi(i,o,a),c=l.payload,u=l.options,h=l.type;return(!u||!u.root)&&(h=t+h),e.dispatch(h,c)},commit:r?e.commit:function(i,o,a){var l=qi(i,o,a),c=l.payload,u=l.options,h=l.type;(!u||!u.root)&&(h=t+h),e.commit(h,c,u)}};return Object.defineProperties(s,{getters:{get:r?function(){return e.getters}:function(){return Cm(e,t)}},state:{get:function(){return Rc(e.state,n)}}}),s}function Cm(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(s){if(s.slice(0,r)===t){var i=s.slice(r);Object.defineProperty(n,i,{get:function(){return e.getters[s]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function mR(e,t,n,r){var s=e._mutations[t]||(e._mutations[t]=[]);s.push(function(o){n.call(e,r.state,o)})}function gR(e,t,n,r){var s=e._actions[t]||(e._actions[t]=[]);s.push(function(o){var a=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},o);return fR(a)||(a=Promise.resolve(a)),e._devtoolHook?a.catch(function(l){throw e._devtoolHook.emit("vuex:error",l),l}):a})}function _R(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(i){return n(r.state,r.getters,i.state,i.getters)})}function yR(e){rr(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function Rc(e,t){return t.reduce(function(n,r){return n[r]},e)}function qi(e,t,n){return hR(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var vR="vuex bindings",kh="vuex:mutations",ca="vuex:actions",zn="vuex",ER=0;function TR(e,t){Ay({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[vR]},function(n){n.addTimelineLayer({id:kh,label:"Vuex Mutations",color:Mh}),n.addTimelineLayer({id:ca,label:"Vuex Actions",color:Mh}),n.addInspector({id:zn,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===zn)if(r.filter){var s=[];Om(s,t._modules.root,r.filter,""),r.rootNodes=s}else r.rootNodes=[Dm(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===zn){var s=r.nodeId;Cm(t,s),r.state=AR(bR(t._modules,s),s==="root"?t.getters:t._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===zn){var s=r.nodeId,i=r.path;s!=="root"&&(i=s.split("/").filter(Boolean).concat(i)),t._withCommit(function(){r.set(t._state.data,i,r.state.value)})}}),t.subscribe(function(r,s){var i={};r.payload&&(i.payload=r.payload),i.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(zn),n.sendInspectorState(zn),n.addTimelineEvent({layerId:kh,event:{time:Date.now(),title:r.type,data:i}})}),t.subscribeAction({before:function(r,s){var i={};r.payload&&(i.payload=r.payload),r._id=ER++,r._time=Date.now(),i.state=s,n.addTimelineEvent({layerId:ca,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:i}})},after:function(r,s){var i={},o=Date.now()-r._time;i.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},r.payload&&(i.payload=r.payload),i.state=s,n.addTimelineEvent({layerId:ca,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:i}})}})})}var Mh=8702998,wR=6710886,IR=16777215,xm={label:"namespaced",textColor:IR,backgroundColor:wR};function Vm(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function Dm(e,t){return{id:t||"root",label:Vm(t),tags:e.namespaced?[xm]:[],children:Object.keys(e._children).map(function(n){return Dm(e._children[n],t+n+"/")})}}function Om(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[xm]:[]}),Object.keys(t._children).forEach(function(s){Om(e,t._children[s],n,r+s+"/")})}function AR(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),s={state:Object.keys(e.state).map(function(o){return{key:o,editable:!0,value:e.state[o]}})};if(r.length){var i=RR(t);s.getters=Object.keys(i).map(function(o){return{key:o.endsWith("/")?Vm(o):o,editable:!1,value:il(function(){return i[o]})}})}return s}function RR(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var s=t,i=r.pop();r.forEach(function(o){s[o]||(s[o]={_custom:{value:{},display:o,tooltip:"Module",abstract:!0}}),s=s[o]._custom.value}),s[i]=il(function(){return e[n]})}else t[n]=il(function(){return e[n]})}),t}function bR(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,s,i){var o=r[s];if(!o)throw new Error('Missing module "'+s+'" for path "'+t+'".');return i===n.length-1?o:o._children},t==="root"?e:e.root._children)}function il(e){try{return e()}catch(t){return t}}var Ee=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},Nm={namespaced:{configurable:!0}};Nm.namespaced.get=function(){return!!this._rawModule.namespaced};Ee.prototype.addChild=function(t,n){this._children[t]=n};Ee.prototype.removeChild=function(t){delete this._children[t]};Ee.prototype.getChild=function(t){return this._children[t]};Ee.prototype.hasChild=function(t){return t in this._children};Ee.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};Ee.prototype.forEachChild=function(t){Vr(this._children,t)};Ee.prototype.forEachGetter=function(t){this._rawModule.getters&&Vr(this._rawModule.getters,t)};Ee.prototype.forEachAction=function(t){this._rawModule.actions&&Vr(this._rawModule.actions,t)};Ee.prototype.forEachMutation=function(t){this._rawModule.mutations&&Vr(this._rawModule.mutations,t)};Object.defineProperties(Ee.prototype,Nm);var Un=function(t){this.register([],t,!1)};Un.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};Un.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,s){return n=n.getChild(s),r+(n.namespaced?s+"/":"")},"")};Un.prototype.update=function(t){km([],this.root,t)};Un.prototype.register=function(t,n,r){var s=this;r===void 0&&(r=!0);var i=new Ee(n,r);if(t.length===0)this.root=i;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],i)}n.modules&&Vr(n.modules,function(a,l){s.register(t.concat(l),a,r)})};Un.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],s=n.getChild(r);s&&s.runtime&&n.removeChild(r)};Un.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function km(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;km(e.concat(r),t.getChild(r),n.modules[r])}}function SR(e){return new ne(e)}var ne=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var s=t.strict;s===void 0&&(s=!1);var i=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Un(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=i;var o=this,a=this,l=a.dispatch,c=a.commit;this.dispatch=function(d,m){return l.call(o,d,m)},this.commit=function(d,m,w){return c.call(o,d,m,w)},this.strict=s;var u=this._modules.root.state;ko(this,u,[],this._modules.root),Ac(this,u),r.forEach(function(h){return h(n)})},bc={state:{configurable:!0}};ne.prototype.install=function(t,n){t.provide(n||uR,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&TR(t,this)};bc.state.get=function(){return this._state.data};bc.state.set=function(e){};ne.prototype.commit=function(t,n,r){var s=this,i=qi(t,n,r),o=i.type,a=i.payload,l={type:o,payload:a},c=this._mutations[o];c&&(this._withCommit(function(){c.forEach(function(h){h(a)})}),this._subscribers.slice().forEach(function(u){return u(l,s.state)}))};ne.prototype.dispatch=function(t,n){var r=this,s=qi(t,n),i=s.type,o=s.payload,a={type:i,payload:o},l=this._actions[i];if(l){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(a,r.state)})}catch{}var c=l.length>1?Promise.all(l.map(function(u){return u(o)})):l[0](o);return new Promise(function(u,h){c.then(function(d){try{r._actionSubscribers.filter(function(m){return m.after}).forEach(function(m){return m.after(a,r.state)})}catch{}u(d)},function(d){try{r._actionSubscribers.filter(function(m){return m.error}).forEach(function(m){return m.error(a,r.state,d)})}catch{}h(d)})})}};ne.prototype.subscribe=function(t,n){return Sm(t,this._subscribers,n)};ne.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return Sm(r,this._actionSubscribers,n)};ne.prototype.watch=function(t,n,r){var s=this;return rr(function(){return t(s.state,s.getters)},n,Object.assign({},r))};ne.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};ne.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),ko(this,this.state,t,this._modules.get(t),r.preserveState),Ac(this,this.state)};ne.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=Rc(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),Pm(this)};ne.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};ne.prototype.hotUpdate=function(t){this._modules.update(t),Pm(this,!0)};ne.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(ne.prototype,bc);const PR=SR({state:{reportData:null},mutations:{setReportData(e,t){e.reportData=t}},actions:{fetchReportData({commit:e},t){setTimeout(()=>{e("setReportData",{type:t,content:"Sample report content"})},1e3)},submitReport({state:e}){setTimeout(()=>{console.log("Submitting report data:",e.reportData)},500)}}}),Sc=ay(dy);Sc.use(cR);Sc.use(PR);Sc.mount("#app");export{so as _,q as a,wa as b,ir as c,Ss as n,sr as o};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/AboutView-Be37Xvjx.js","assets/AboutView-B_SY1GJM.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
